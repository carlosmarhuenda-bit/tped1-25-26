(function(){"use strict";var __webpack_modules__={101:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.W3CLiveExtension=void 0;var i=function(e){function t(t,n,r,o,i){void 0===o&&(o={});var s=e.call(this,t,n,r,o)||this;return s.hls=i,s}return o(t,e),t.prototype.setAgent=function(){this.agent=this.createAgent(null)},t.prototype.playbackSpeedChecker=function(){this.currentPlaybackSpeed=this.playerInstance.playbackRate,this.currentPlaybackSpeed!==this.lastPlaybackSpeed&&this.isPlaying()&&(this.lastPlaybackSpeed=this.currentPlaybackSpeed,this.agent.stop(),this.playLiveStream())},t.prototype.periodicTimeObserver=function(){this.livePeriodicTimeObserver()},t.prototype.stopSegmentBeforeClose=function(){this.stopLiveSegmentBeforeClose()},Object.defineProperty(t.prototype,"streamOffset",{get:function(){var e,t,n,r,o,i;return"number"==typeof(null===(t=null===(e=this.hls)||void 0===e?void 0:e.streamController)||void 0===t?void 0:t.liveSyncPosition)&&"number"==typeof(null===(r=null===(n=this.hls)||void 0===n?void 0:n.streamController)||void 0===r?void 0:r.lastCurrentTime)?(i=(null===(o=this.hls.streamController.fragCurrent)||void 0===o?void 0:o.endPTS)?this.hls.streamController.fragCurrent.endPTS-this.hls.streamController.lastCurrentTime:this.hls.streamController.liveSyncPosition-this.hls.streamController.lastCurrentTime,i=1e3*Math.abs(Math.floor(i))):i=0,i},enumerable:!1,configurable:!0}),t}(n(3414).W3CVODExtension);t.W3CLiveExtension=i},142:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.adRunning=!1,this.currentAdPosition=0,this.queuePlay=[],this.queueStop=[],this.adsManager=e,this.addEvents()}return Object.defineProperty(e.prototype,"getAdCurrentPosition",{get:function(){return this.currentAdPosition},enumerable:!1,configurable:!0}),e.prototype.onResume=function(){this.adRunning=!0,this.queuePlay.push(this.currentAdPosition)},e.prototype.onPause=function(){this.adRunning=!1,this.queueStop.push(this.currentAdPosition)},e.prototype.onAdProgress=function(e){this.currentAdPosition=this.convertSecToMillisec(e.getAdData().currentTime)},e.prototype.onContentPauseRequested=function(){this.adRunning=!0},e.prototype.onComplete=function(){this.adRunning=!1,this.queueStop.push(this.currentAdPosition)},e.prototype.onSkipped=function(){this.adRunning=!1,this.queueStop.push(this.currentAdPosition)},e.prototype.onStarted=function(){this.adRunning=!0,this.queuePlay.push(0)},e.prototype.addEvents=function(){var e=this;this.adsManager.addEventListener("contentPauseRequested",function(){return e.onContentPauseRequested()}),this.adsManager.addEventListener("adProgress",function(t){return e.onAdProgress(t)}),this.adsManager.addEventListener("resume",function(){return e.onResume()}),this.adsManager.addEventListener("pause",function(){return e.onPause()}),this.adsManager.addEventListener("complete",function(){return e.onComplete()}),this.adsManager.addEventListener("start",function(){return e.onStarted()}),this.adsManager.addEventListener("skip",function(){return e.onSkipped()})},e.prototype.convertSecToMillisec=function(e){return Math.floor(1e3*e)},e}();t.default=n},154:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferBuilder=void 0;var r=n(4913),o=n(1516),i=n(5015),s=n(2650),a=n(2425),u=n(6206),c=n(1024),l=n(9144),p=function(){function e(){}return e.prototype.setStreamPositionCallback=function(e){this.streamPositionCallback=e},e.prototype.buildBufferImpression=function(e,t){return new i.BufferImpression(e,t)},e.prototype.buildBufferPlay=function(e,t,n,r,i,s,a,u){return new o.BufferPlay(e,n,t,r,i,this.streamPositionCallback(),s,a,u)},e.prototype.buildBufferStop=function(e){return new s.BufferStop(this.streamPositionCallback(),e)},e.prototype.buildBufferHeartbeat=function(e){return new l.BufferHeartbeat(this.streamPositionCallback(),e)},e.prototype.buildBufferSkip=function(e){return new a.BufferSkip(this.streamPositionCallback(),e)},e.prototype.buildBufferScreen=function(e,t){return new u.BufferScreen(e,this.streamPositionCallback(),t)},e.prototype.buildBufferVolume=function(e,t){return new c.BufferVolume(e,this.streamPositionCallback(),t)},e.prototype.mergeBufferEvents=function(e,t){try{for(var n=0,p=e;n<p.length;n++){var d=p[n];if(d instanceof o.BufferPlay){var f=d;"live"==f.getPlayType()?t.createEventPlayLive(f.getContentId(),f.getStreamStartTime(),f.getStreamOffset(),f.getStreamId(),f.getOptions(),f.getCustomParams(),f.getStreamPosition(),f.getUsageTime()):t.createEventPlayOnDemand(f.getContentId(),f.getStreamId(),f.getOptions(),f.getCustomParams(),f.getStreamPosition(),f.getUsageTime())}else if(d instanceof s.BufferStop){var h=d;t.createEventStop(h.getStreamPosition(),h.getUsageTime()),r.Logger.debug("Buffer stopUsage"+h.getUsageTime())}else if(d instanceof a.BufferSkip){var g=d;t.createEventSkip(g.getStreamPosition(),g.getUsageTime())}else if(d instanceof c.BufferVolume){var y=d;t.createEventVolume(y.getVolume(),y.getStreamPosition(),y.getUsageTime())}else if(d instanceof u.BufferScreen){var m=d;t.createEventScreen(m.getScreen(),m.getStreamPosition(),m.getUsageTime())}else if(d instanceof i.BufferImpression){var v=d;t.createEventImpression(v.getContentId(),v.getCustomParams())}else if(d instanceof l.BufferHeartbeat){var _=d;t.createEventHeartbeat(_.getUsageTime())}else r.Logger.error("Element is not handled here")}}catch(e){r.Logger.error(e.message)}},e}();t.BufferBuilder=p},185:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EventBase=void 0;var i=function(e){function t(t,n,r,o,i,s,a,u){var c=e.call(this,t,u)||this;return c.iStreamPosition=n,c.sPresentationId=r,c.iStateItemNumber=o,c.iSegmentNumber=i,c.iSegmentDuration=s,c.iUsageTime=a,c}return o(t,e),Object.defineProperty(t.prototype,"presentationId",{get:function(){return this.sPresentationId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stateItemNumber",{get:function(){return this.iStateItemNumber},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"segmentNumber",{get:function(){return this.iSegmentNumber},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"segmentDuration",{get:function(){return this.iSegmentDuration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"streamPosition",{get:function(){return this.iStreamPosition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"usageTime",{get:function(){return this.iUsageTime},enumerable:!1,configurable:!0}),t}(n(9436).EventACommon);t.EventBase=i},200:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionConf=void 0;var r=n(3587),o=function(){this.version=r.env.VERSION};t.ExtensionConf=o},202:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.playbackSpeedConverter=function(e){if("string"!=typeof e||""===e||isNaN(parseFloat(e))){if("number"==typeof e)return Number(e.toFixed(2).replace(/(\.0+|0+)$/,""));if(void 0===e||""===e||null===e)return 1;throw new Error("Error in start event: Playback Speed wrong format. No data will be send")}return Number(Number(e).toFixed(2).replace(/(\.0+|0+)$/,""))},e.isBrowserContext=function(){return"undefined"!=typeof window&&!!window.isBrowserContext},e}();t.default=n},473:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=void 0,t.withTimeout=function(e,t){var n=new Promise(function(e,n){setTimeout(function(){return n("No value returned after ".concat(t," ms"))},t)});return Promise.race([e,n])}},567:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateActualOptin=void 0;var o=r(n(6291)),i=n(5011);t.calculateActualOptin=function(e,t){var n=e.optin;return void 0===t&&(t=!1),new Promise(function(e){if(t)return e(!0);if(void 0!==n)return e(n);if(setTimeout(function(){e(!1)},1e4),i.FeatureFlags.isEnabled("TCF"))var r=0,s=setInterval(function(){r++,window.__tcfapi&&(!function(e,t){window.__tcfapi("addEventListener",2,function(n,r){r||e(!1),n.gdprApplies||(e(t),window.__tcfapi("removeEventListener",2,function(){},n.listenerId)),!r||"tcloaded"!==n.eventStatus&&"useractioncomplete"!==n.eventStatus||(e(function(e){return o.default.hasGfK(e)&&o.default.hasMarketResearch(e)&&o.default.hasMeasureAdPerformance(e)&&o.default.hasMeasureContentPerformance(e)&&o.default.hasReadWrite(e)}(n)),window.__tcfapi("removeEventListener",2,function(){},n.listenerId))})}(e,n),clearInterval(s)),30!==r||window.__tcfapi||(clearInterval(s),e(!0))},100);else e(!0)})}},649:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RequestImpression=void 0;var i=function(e){function t(){return e.call(this,"IM")||this}return o(t,e),Object.defineProperty(t.prototype,"contentId",{set:function(e){this.fields.c=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"instanceid",{set:function(e){this.fields.instanceid=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"origin",{set:function(e){this.fields.r=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userAgent",{set:function(e){this.fields.ua=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"language",{set:function(e){this.fields.l=e},enumerable:!1,configurable:!0}),t}(n(2276).RequestACommon);t.RequestImpression=i},1024:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferVolume=void 0;var i=function(e){function t(t,n,r){var o=e.call(this,n,r)||this;return o.volume=t,o}return o(t,e),t.prototype.getVolume=function(){return this.volume},t}(n(6331).BufferBase);t.BufferVolume=i},1516:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferPlay=void 0;var i=function(e){function t(t,n,r,o,i,s,a,u,c){var l=e.call(this,s,u)||this;return l.contentId=t,l.streamOffset=n,l.streamId=r,l.options=o,l.customParameters=i,l.streamStartTime=a,l.playType=c,l}return o(t,e),t.prototype.getContentId=function(){return this.contentId},t.prototype.getOptions=function(){return this.options},t.prototype.getCustomParams=function(){return this.customParameters},t.prototype.getStreamId=function(){return this.streamId},t.prototype.getStreamOffset=function(){return this.streamOffset},t.prototype.getStreamStartTime=function(){return this.streamStartTime},t.prototype.getPlayType=function(){return this.playType},t}(n(6331).BufferBase);t.BufferPlay=i},1605:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(4862));t.default=o.default},1732:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.isIpad=void 0;var i=n(4913),s=n(5566),a=n(3914);function u(){return navigator.maxTouchPoints>0&&/iPad|Macintosh/.test(navigator.userAgent)}t.default=function(e){return r(this,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=function(e){var t=s.GfkHelpers.isHttp()?"http://":"https://",n=(e||"error-got-empty-id").replace("|","-")+window.s2sVmsConf.suiPixelUrl;return new URL(t+n)}(e),function(e,t){var n,r=t.searchParams,o=new URLSearchParams(window.location.search);if(r.append("m",(null===(n=window.gfkS2sConf)||void 0===n?void 0:n.media)||"no_mediaid"),r.append("r",window.location.host),r.append("p",window.s2sVmsConf.projectId),r.append("instanceid",e),r.append("ipad",String(u())),window.location.host.includes(".sensic.net"))for(var i=0,s=["paneluserid","hhid","uid","pid","origin"];i<s.length;i++){var a=s[i];o.has(a)&&r.append(a,o.get(a))}}(e,t),i.Logger.log("Relay ID: "+t),[4,a.FetchService.sendData(t.href+"&redirect=manual","GET",null,function(e){if(e instanceof Response)window.postMessage({relayRequestServerDate:e.headers.get("Date")},"*"),e.headers.has("x-location")&&fetch(e.headers.get("x-location"),{method:"GET"}).catch(function(e){});else if(window.postMessage({relayRequestServerDate:e.getResponseHeader("Date")},"*"),e.getAllResponseHeaders().includes("x-location")){var t=new XMLHttpRequest;t.open("GET",e.getResponseHeader("x-location"),!0),t.send()}})];case 1:return[2,r.sent()];case 2:return n=r.sent(),i.Logger.error("Failed to send relay request: "+n.message),[3,3];case 3:return[2]}})})},t.isIpad=u},1878:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getOldCookie=t.TIMEOUT=void 0;var i,s,a,u=n(1917),c=n(473),l=n(4913),p=n(5566);function d(e,n){void 0===e&&(e=!1),void 0===n&&(n=!0),void 0===i&&function(){function e(e,t){t&&t.parentNode?t.parentNode.insertBefore(e,t.nextSibling):document.body.appendChild(e)}(i=document.createElement("iframe")).style.visibility="hidden",i.style.display="none",i.width="0",i.height="0",i.src=window.s2sVmsConf.thirdPartyCookieIframeUrl.replace(/^https?:/,p.GfkHelpers.isHttp()?"http:":"https:");var t=document.body.childNodes[0];e(i,t)}();var r={};return n&&(a=(0,c.withTimeout)(f(u.OLD_COOKIE_MESSAGE_KEY),t.TIMEOUT),setTimeout(function(){i.contentWindow.postMessage({readOldCookie:!0},"*")},500),r.oldCookie=a),e&&(s=(0,c.withTimeout)(f(u.NEW_COOKIE_MESSAGE_KEY),t.TIMEOUT),i.contentWindow.postMessage({readNewCookie:!0},"*"),r.newCookie=s),r}function f(e){return new Promise(function(t){window.addEventListener("message",function(n){n.data.hasOwnProperty(e)&&t(n.data[e])})})}t.TIMEOUT=1e4,t.default=d,t.getOldCookie=function(){var e;return r(this,void 0,void 0,function(){var t,n,r;return o(this,function(o){switch(o.label){case 0:if(t=d().oldCookie,n=null,void 0===(null===(e=null===document||void 0===document?void 0:document.body)||void 0===e?void 0:e.nodeName))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t];case 2:return n=o.sent(),[3,4];case 3:return r=o.sent(),l.Logger.warn("Failed to collect oldCookie: "+r.toString()),[3,4];case 4:return[2,n]}})})}},1917:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.readOldCookie=t.readNewCookie=t.OLD_COOKIE_MESSAGE_KEY=t.OLD_COOKIE_NAME=t.NEW_COOKIE_MESSAGE_KEY=t.NEW_COOKIE_NAME=void 0;var r=n(4972),o=n(5566);t.NEW_COOKIE_NAME="sui_3pc",t.NEW_COOKIE_MESSAGE_KEY="sensic_sui_3pc",t.OLD_COOKIE_NAME="sui",t.OLD_COOKIE_MESSAGE_KEY="sensic_sui_old_3pc",t.readNewCookie=function(){var e;if(!o.GfkHelpers.getCookie(t.NEW_COOKIE_NAME)){var n=(0,r.generateId)();o.GfkHelpers.setCookie(t.NEW_COOKIE_NAME,n,{sameSite:"None",domain:".sensic.net"})}window.parent.postMessage(((e={})[t.NEW_COOKIE_MESSAGE_KEY]=o.GfkHelpers.getCookie(t.NEW_COOKIE_NAME),e),"*")},t.readOldCookie=function(){var e,n=o.GfkHelpers.getCookie(t.OLD_COOKIE_NAME);n&&(n=JSON.parse(n)),window.parent.postMessage(((e={})[t.OLD_COOKIE_MESSAGE_KEY]=n,e),"*")}},1982:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RequestVolume=void 0;var i=function(e){function t(){return e.call(this,"VO")||this}return o(t,e),Object.defineProperty(t.prototype,"volume",{set:function(e){this.fields.vo=e},enumerable:!1,configurable:!0}),t}(n(9777).RequestBase);t.RequestVolume=i},2120:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Heartbeat=void 0;var n=function(){function e(e,t){this.milliseconds=1e3,this.heartbeatNumber=0,this.intervalId=0,this.timeoutId=[],this.buildHeartbeat=e,this.heartbeatConfig=t,this.extendTimeoutIntervallWithParamsForOldIE()}return e.prototype.start=function(){var e=this;if(this.stop(),this.isHeartbeatEnabled()&&!(this.heartbeatConfig.interval.length<1)&&"undefined"!=typeof window){this.heartbeatNumber=0;for(var t=this.heartbeatConfig.interval.slice(),n=t.pop(),r=0,o=0,i=t;o<i.length;o++){r+=i[o],this.timeoutId.push(window.setTimeout(this.buildHeartbeatEvent,r*this.milliseconds,this))}r+=n,this.timeoutId.push(window.setTimeout(function(){e.buildHeartbeatEvent(e),e.intervalId=window.setInterval(e.buildHeartbeatEvent,n*e.milliseconds,e)},r*this.milliseconds))}},e.prototype.stop=function(){for(var e=0,t=this.timeoutId;e<t.length;e++){var n=t[e];clearTimeout(n)}clearInterval(this.intervalId),this.timeoutId=[],this.intervalId=0},e.prototype.isHeartbeatActive=function(){return this.intervalId>0||this.timeoutId.length>0},e.prototype.getMaxHeartbeatInterval=function(){var e=0;return this.isHeartbeatEnabled()&&this.heartbeatConfig.interval.length>0&&(e=Math.max.apply(Math,this.heartbeatConfig.interval)),e},e.prototype.buildHeartbeatEvent=function(e){e.isMaxHeartbeatReached()?e.stop():(e.heartbeatNumber++,e.buildHeartbeat())},e.prototype.isHeartbeatEnabled=function(){return this.heartbeatConfig.enabled},e.prototype.isMaxHeartbeatReached=function(){return 0!==this.heartbeatConfig.maximum&&this.heartbeatNumber>=this.heartbeatConfig.maximum},e.prototype.extendTimeoutIntervallWithParamsForOldIE=function(){if("undefined"!=typeof window){if(document.all){var e=window.setTimeout;window.setTimeout=function(t,n){var r=this,o=Array.prototype.slice.call(arguments,2);return e(t instanceof Function?function(){t.apply(r,o)}:t,n)}}if(document.all){var t=window.setInterval;window.setInterval=function(e,n){var r=this,o=Array.prototype.slice.call(arguments,2);return t(e instanceof Function?function(){e.apply(r,o)}:e,n)}}}},e}();t.Heartbeat=n},2276:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RequestACommon=void 0;var n=function(){function e(e){this.requestType=e,this.fields={ty:e}}return Object.defineProperty(e.prototype,"projectId",{set:function(e){this.fields.p=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaId",{set:function(e){this.fields.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"technology",{set:function(e){this.fields.t=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{set:function(e){this.fields.v=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"operatingSystem",{set:function(e){this.fields.os=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appType",{set:function(e){this.fields.at=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceType",{get:function(){return this.fields.dt},set:function(e){this.fields.dt=e},enumerable:!1,configurable:!0}),e.prototype.getAsUrlString=function(){var e="";for(var t in this.fields)if(this.fields.hasOwnProperty(t)){var n=this.fields[t];"object"==typeof n&&(n=JSON.stringify(n)),e+=t+"="+this.encode(n)+"&"}return e.substring(0,e.length-1)},Object.defineProperty(e.prototype,"customParameter",{set:function(e){var t=e.userParams,n=e.allowedParams;for(var r in t)t.hasOwnProperty(r)&&-1!==n.indexOf(r)&&(this.fields["cp_"+r]=t[r])},enumerable:!1,configurable:!0}),e.prototype.encode=function(e){return encodeURIComponent(e)},e}();t.RequestACommon=n},2310:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.collectExternalIDs=t.collectFilecache=t.collect3rdPartyCookies=t.collectAdID=t.collect1stPartyCookie=void 0;var o=r(n(9316));t.collect1stPartyCookie=o.default;var i=r(n(6577));t.collectAdID=i.default;var s=r(n(2978));t.collectFilecache=s.default;var a=r(n(4833));t.collectExternalIDs=a.default;var u=r(n(1878));t.collect3rdPartyCookies=u.default},2425:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSkip=void 0;var i=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t}(n(6331).BufferBase);t.BufferSkip=i},2447:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.S2sSdkConf=void 0;var r=n(3587),o=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var o=n[t];this[o]=e[o]}this.sdkVersion=r.env.VERSION};t.S2sSdkConf=o},2472:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SuiApiV2=void 0;var s=n(4972),a=n(567),u=i(n(1605)),c=i(n(1732)),l=n(4913),p=n(1878),d=i(n(202)),f=function(){function e(){this.instanceID=(0,s.generateId)()}return e.prototype.init=function(e,t,n,i){return void 0===n&&(n={}),r(this,void 0,void 0,function(){var r,s;return o(this,function(o){switch(o.label){case 0:return l.Logger.info("Using VMS V2"),(0,c.default)(this.instanceID),[4,this.hasOldPanelCookie()];case 1:return r=o.sent(),s={instanceid:this.instanceID},(n.paneluserid||n.hhid)&&(s.panelistid={panel:n.pid,paneluserid:n.paneluserid,panelhouseholdid:n.hhid,panelhouseholdmemberid:n.uid}),(0,a.calculateActualOptin)({optin:e},r).then(function(r){var o;(0,u.default)(s,null!==(o=n.optin)&&void 0!==o?o:e,r,!0,"2",i).then(function(){"function"==typeof t&&t()})}),[2]}})})},e.prototype.hasOldPanelCookie=function(){return r(this,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:if(!d.default.isBrowserContext())return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,p.getOldCookie)()];case 2:return[2,void 0!==(null==(e=n.sent())?void 0:e.paneluserid)||void 0!==(null==e?void 0:e.uid)||void 0!==(null==e?void 0:e.hhid)||void 0!==(null==e?void 0:e.pid)];case 3:return t=n.sent(),l.Logger.error("Failed to get oldPanelCookie: "+t.message),[3,4];case 4:return[2]}})})},e}();t.SuiApiV2=f},2650:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferStop=void 0;var i=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t}(n(6331).BufferBase);t.BufferStop=i},2978:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(5566);t.default=function(){var e=this,t="https://fc-id.sensic.net/".replace(/^https?:/,i.GfkHelpers.isHttp()?"http:":"https:");return new Promise(function(n,i){fetch(t,{method:"GET"}).then(function(s){return r(e,void 0,void 0,function(){var e;return o(this,function(r){switch(r.label){case 0:return s.status>=200&&s.status<=299?(e=n,[4,s.text()]):[3,2];case 1:return e.apply(void 0,[r.sent()]),[3,3];case 2:i("".concat(t," returned ").concat(s.status)),r.label=3;case 3:return[2]}})})})})}},3048:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserIndependentRequest=void 0;var o=n(4913),i=r(n(202)),s=function(){function e(e){this.sendTo=e}return e.prototype.send=function(e){var t,n=new Promise(function(e,n){t=function(t){return t?e():n("Sending request failed")}});return i.default.isBrowserContext()?this.isIEContext()?this.sendWithOldIE(e,t):this.sendWithDefault(e,t):this.sendNotInBrowser(t),n},e.prototype.sendWithDefault=function(e,t){fetch?fetch(this.sendTo,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.getAsUrlString()}).then(function(e){204===e.status?t(!0):t(!1)}):(o.Logger.output("fetch not found","error"),t(!1))},e.prototype.sendWithOldIE=function(e,t){var n=new XDomainRequest;n.open("POST",this.sendTo),n.onerror=function(){o.Logger.output("Can't send a request with old IE","error"),t(!1)},n.ontimeout=function(){o.Logger.output("Server status unknown, POST data not sent!","error"),t(!1)},n.onload=function(){o.Logger.output(e.requestType,"log","request",e.fields),t(!0)},n.send(e.getAsUrlString())},e.prototype.sendNotInBrowser=function(e){o.Logger.output("Cannot send xhttp request, not in a browser","warn"),e(!0)},e.prototype.isIEContext=function(){return"undefined"!=typeof XDomainRequest},e}();t.BrowserIndependentRequest=s},3309:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.HTML5VODExtension=void 0;var i=function(e){function t(t,n,r,o){void 0===o&&(o={});var i=e.call(this,t,n,r,o)||this;return i.logger("Sensic HTML5 player extension initialized"),i}return o(t,e),t.prototype.getVolume=function(){return this.playerInstance.muted?0:Math.round(100*this.playerInstance.volume)},t.prototype.isPlaying=function(){return!this.playerInstance.paused},Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this.playerInstance.playbackRate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentSrc",{get:function(){return this.playerInstance.currentSrc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this.playerInstance.duration},enumerable:!1,configurable:!0}),t.prototype.isBuffering=function(){return 0===this.playerInstance.buffered.length&&!isNaN(this.duration)},t.prototype.isIdling=function(){return 0===this.playerInstance.played.length&&!isNaN(this.duration)},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.playerInstance.currentTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"streamOffset",{get:function(){return 0},enumerable:!1,configurable:!0}),t}(n(9192).S2SExtension);t.HTML5VODExtension=i},3414:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.W3CVODExtension=void 0;var i=function(e){function t(t,n,r,o){void 0===o&&(o={});var i=e.call(this,t,n,r,o)||this;return i.logger("Sensic W3CMedia player extension initialized"),i}return o(t,e),t.prototype.getVolume=function(){return this.playerInstance.muted?0:Math.round(100*this.playerInstance.volume)},t.prototype.isPlaying=function(){return!this.playerInstance.paused},Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this.playerInstance.playbackRate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentSrc",{get:function(){return this.playerInstance.currentSrc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this.playerInstance.duration},enumerable:!1,configurable:!0}),t.prototype.isBuffering=function(){return!1},t.prototype.isIdling=function(){return!1},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.playerInstance.currentTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"streamOffset",{get:function(){return 0},enumerable:!1,configurable:!0}),t}(n(9192).S2SExtension);t.W3CVODExtension=i},3425:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isValidLogLevel=t.Logger=t.LS_KEY_LOGLEVEL=void 0;var r=n(7042),o={none:0,error:1,warn:2,info:3,log:4,debug:5};t.LS_KEY_LOGLEVEL="sensic-logLevel";var i=["none","debug","log","info","warn","error"],s=function(){function e(){}return e.debug=function(t,n){void 0===n&&(n={}),e.output(t,"debug",n.coloring,n.extraObj)},e.log=function(t,n){void 0===n&&(n={}),e.output(t,"log",n.coloring,n.extraObj)},e.info=function(t,n){void 0===n&&(n={}),e.output(t,"info",n.coloring,n.extraObj)},e.warn=function(t,n){void 0===n&&(n={}),e.output(t,"warn",n.coloring,n.extraObj)},e.error=function(t,n){void 0===n&&(n={}),e.output(t,"error",n.coloring,n.extraObj)},e.output=function(t,n,i,s){var a,u;if(void 0===n&&(n="log"),!(o[n]>o[e.logLevel])){if(t.match(null===(u=null===(a=window.s2sSdkConfig)||void 0===a?void 0:a.crashReporting)||void 0===u?void 0:u.ignoreErrors)||(0,r.logSentry)(t,n),e.url&&XMLHttpRequest){var c=new XMLHttpRequest,l=e.url+"?"+n+"="+encodeURIComponent(t+(s?"\n"+JSON.stringify(s):""))+"&src=S2S";c.open("GET",l,!0),c.send()}if("undefined"!=typeof console){var p=(i?"%c ":"")+t+(i?" %c":""),d=console;"function"==typeof d[n]?"fcall"===i?s?d[n]("GFK: "+p,"background: #060; color: #fff","","object"==typeof s&&Array.from?Array.from(s):s):d[n]("GFK: "+p,"background: #060; color: #fff",""):"request"===i?d[n]("GFK: "+p,"background: #059; color: #fff","",s):d[n]("GFK: "+p):d.error("GFK: "+p)}}},e.formatDuration=function(e){var t=e%1e3,n=(e=(e-t)/1e3)%60,r=(e=(e-n)/60)%60,o=(e-r)/60;return(o?o+":":"")+("0"+r).slice(-2)+":"+("0"+n).slice(-2)+"."+("00"+t).slice(-3)},e.readFromTagConf=function(){this.readFromConf(window.gfkS2sConf)},e.readFromConnectorConf=function(){this.readFromConf(window.gfkConnectorConf)},e.readFromLocalStorage=function(){try{if(window.localStorage){var n=window.localStorage.getItem(t.LS_KEY_LOGLEVEL);a(n)&&(e.logLevel=n)}}catch(e){console.warn("Couldn't read log settings from local storage:",e)}},e.readFromConf=function(t){a(null==t?void 0:t.logLevel)&&(e.logLevel=t.logLevel),(null==t?void 0:t.logUrl)&&(e.url=t.logUrl)},e.logLevel="none",e.url=null,e}();function a(e){return i.includes(e)}t.Logger=s,t.isValidLogLevel=a},3587:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.env=void 0,t.env={VERSION:"1.0.0"}},3700:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EventVisibility=void 0;var i=function(e){function t(n,r,o,i,s,a,u,c){var l=e.call(this,n,r,o,s,i,a,c,t.instance)||this;return l.sVisibility=u,l}return o(t,e),Object.defineProperty(t.prototype,"visibility",{get:function(){return this.sVisibility},enumerable:!1,configurable:!0}),t.instance="EventVisibility",t}(n(185).EventBase);t.EventVisibility=i},3714:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureFlags=void 0;var n={TCF:!1},r=function(){function e(){}return e.isEnabled=function(e){return n.TCF=window.s2sVmsConf.featureFlagTcf,!0===n[e]},e}();t.FeatureFlags=r},3914:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FetchService=void 0;var s=i(n(202)),a=function(){function e(){}return e.sendData=function(e,t,n,r){return void 0===t&&(t="POST"),s.default.isBrowserContext()?this.sendDataXHR(e,t,n,r):this.sendDataFetch(e,t,n,r)},e.sendDataXHR=function(e,t,n,r){return new Promise(function(o,i){var s=new XMLHttpRequest;s.onloadend=function(){s.status>=200&&s.status<400?(r&&r(s),o()):i()},s.open(t,e,!0),s.setRequestHeader("Content-Type","text/plain"),n?s.send(JSON.stringify(n)):s.send()})},e.sendDataFetch=function(e,t,n,i){var s=this;return new Promise(function(a,u){fetch(e,{method:t,headers:{"Content-Type":"text/plain"},body:n?JSON.stringify(n):null}).then(function(e){return r(s,void 0,void 0,function(){return o(this,function(t){return e.status>=200&&e.status<400?(i&&i(e),a()):u(),[2]})})})})},e}();t.FetchService=a},3935:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentBuilder=void 0;var r=n(7780),o=n(9487),i=function(){function e(e){this.milliseconds=1e3,this.minSegmentDuration=0,this.maxStateItemsNumber=0,this.maxSegmentNumber=0,this.state=1,this.presentationId="",this.streamId="",this.stateItemNumber=0,this.segmentNumber=0,this.playStreamPosition=0,this.streamOffset=0,this.startTime=0,this.toleranceSeconds=3,this.playbackSpeed=1,this.minSegmentDuration=e.minSegmentDuration,this.maxStateItemsNumber=e.maxSegmentStateItems,this.maxSegmentNumber=e.maxSegments,this.md5=new o.Md5}return e.prototype.isSegmentStopped=function(){return 1===this.state},e.prototype.createSegmentStarting=function(e,t,n,r,o){if(this.isMaxStateItemNumberReached()||this.isMaxSegmentNumberReached())throw new Error("Max state item number or max segment number reached! #noreport");return this.startTime=this.getTimeSeconds(),this.setSegmentAsPlayed(),this.playbackSpeed=r,this.playType=o,this.generateStreamSegment(e,t,n),this.incrementStateItemNumber(),this.incrementSegmentNumber(),this.createSegment(0,n)},e.prototype.createSegmentRunning=function(e,t){if(this.isSegmentStopped()||this.isMaxStateItemNumberReached())throw new Error("Stream not yet started or max state item number reached! #noreport");var n=this.calculateSegmentDuration(e);if(t&&this.isBelowMinSegmentDuration(n))throw new Error("Duration of ".concat(n," ms is below min segment duration of ").concat(this.minSegmentDuration," ms! #noreport"));return this.checkSegmentDuration(n),this.incrementStateItemNumber(),this.createSegment(n,e)},e.prototype.createSegmentStopping=function(e){if(this.isSegmentStopped())throw new Error("Stop called for an already stopped segment #noreport");this.setSegmentAsStopped();var t=this.calculateSegmentDuration(e);if(this.isBelowMinSegmentDuration(t))throw new Error("Duration of ".concat(t," ms is below min segment duration of ").concat(this.minSegmentDuration," ms! #noreport"));return this.checkSegmentDuration(t),this.incrementStateItemNumber(),this.createSegment(t,e)},e.prototype.setStartTime=function(e){this.startTime=e},e.prototype.setToleranceLimit=function(e){this.toleranceSeconds=e},e.prototype.checkSegmentDuration=function(e){var t=this.getTimeSeconds()-this.startTime+this.toleranceSeconds;if(Math.round(e/1e3)>t*this.playbackSpeed)throw new Error("Segment duration  (".concat(e,") >= actual elapsed time (").concat(t," with playback speed ").concat(this.playbackSpeed,")! #noreport"))},e.prototype.isBelowMinSegmentDuration=function(e){return e<this.minSegmentDuration},e.prototype.isMaxStateItemNumberReached=function(){return this.maxStateItemsNumber<this.getStateItemNumber()},e.prototype.isMaxSegmentNumberReached=function(){return this.maxSegmentNumber<this.getSegmentNumber()},e.prototype.getTimeSeconds=function(){return Math.round(this.getTimeMilliseconds()/this.milliseconds)},e.prototype.getTimeMilliseconds=function(){return Date.now()},e.prototype.setSegmentAsPlayed=function(){this.state=0},e.prototype.setSegmentAsStopped=function(){this.state=1},e.prototype.getPresentationId=function(){return this.presentationId},e.prototype.calculateDuration=function(e){return"live"===this.playType?Math.round(e*this.playbackSpeed):e},e.prototype.calculateSegmentDuration=function(e){var t=this.getCurrentStreamPosition(e)-this.playStreamPosition;return this.calculateDuration(t)},e.prototype.getCurrentStreamPosition=function(e){return e-this.streamOffset},e.prototype.getStateItemNumber=function(){return this.stateItemNumber},e.prototype.getSegmentNumber=function(){return this.segmentNumber},e.prototype.incrementStateItemNumber=function(){this.stateItemNumber++},e.prototype.incrementSegmentNumber=function(){this.segmentNumber++},e.prototype.generateStreamSegment=function(e,t,n){this.isStreamIdChanged(t)&&(this.streamId=t,this.presentationId=this.generatePresentationId(t),this.stateItemNumber=0,this.segmentNumber=0),this.streamOffset=e,this.playStreamPosition=this.getCurrentStreamPosition(n)},e.prototype.isStreamIdChanged=function(e){return this.streamId!==e},e.prototype.generatePresentationId=function(e){var t=this.getRndInt(1e6,9999999);return this.md5.hash(e).toUpperCase()+t+this.getTimeMilliseconds()},e.prototype.getRndInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.prototype.createSegment=function(e,t){return new r.Segment(this.getStateItemNumber(),this.getSegmentNumber(),this.getCurrentStreamPosition(t),this.getPresentationId(),e)},e}();t.SegmentBuilder=i},4612:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RequestScreen=void 0;var i=function(e){function t(){return e.call(this,"SC")||this}return o(t,e),Object.defineProperty(t.prototype,"screen",{set:function(e){this.fields.sc=e},enumerable:!1,configurable:!0}),t}(n(9777).RequestBase);t.RequestScreen=i},4639:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferCommon=void 0;var n=function(){this.timestamp=(new Date).getTime()};t.BufferCommon=n},4661:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HeartbeatInvalidator=void 0;var n=function(){function e(){this.mostRecentHeartbeats={}}return e.prototype.onNewHeartbeatGenerated=function(e){e.isMostRecent=!0,this.invalidateMostRecentHeartbeat(e),this.storeAsMostRecentHeartbeat(e)},e.prototype.invalidateMostRecentHeartbeat=function(e){var t=e.presentationId,n=e.segmentNumber;this.mostRecentHeartbeats[t]&&this.mostRecentHeartbeats[t][n]&&(this.mostRecentHeartbeats[t][n].isMostRecent=!1)},e.prototype.storeAsMostRecentHeartbeat=function(e){var t,n=e.presentationId,r=e.segmentNumber;this.mostRecentHeartbeats[n]=((t={})[r]=e,t)},e}();t.HeartbeatInvalidator=n},4699:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SentryLoggerImpl=void 0;var r=n(3425),o=function(){function e(){}return e.prototype.enable=function(){var e,t,n,o,i;r.Logger.output("Sensic crash reporting enabled","log","fcall");var s=document.createElement("script"),a=document.getElementsByTagName("script")[0];if(a){s.type="text/javascript",s.src=null===(t=null===(e=window.s2sSdkConfig)||void 0===e?void 0:e.crashReporting)||void 0===t?void 0:t.scriptUrl,s.setAttribute("crossorigin","anonymous"),a.parentNode.insertBefore(s,a);var u=document.createElement("script"),c=null!==(n=window.gfkS2sConf.configUrl)&&void 0!==n?n:window.gfkS2sConf.url;u.innerHTML="\n          Sentry.onLoad(function() {\n            class GfKIntegration {\n              name = \"GfKIntegration\";\n            \n              setupOnce() {\n                Sentry.addGlobalEventProcessor(event => {\n                  const clientHasSentry = window.gfkSentryHub.getClient().getDsn().projectId !== Sentry.getCurrentHub().getClient().getDsn().projectId;\n                  if (event?.tags?.sentryClient === 'gfkClient') { // prevent recursive calls\n                    return event;\n                  }\n                  /*  some event filters */\n                  const frames = event.exception?.values[0]?.stacktrace?.frames;\n                  if(frames && (frames[frames.length-1].filename.indexOf('.sensic.net') !== -1 || frames[frames.length-1].filename.indexOf('localhost:8082') !== -1)){\n                    window.gfkSentryHub.captureEvent(event);\n                    return null;\n                  } else if(!clientHasSentry) {\n                    return null;\n                  }\n                  /*  some event filters end */\n                  return event;\n                });\n              }\n            }\n            window.gfkSentry = new Sentry.BrowserClient({\n              dsn: '".concat(null===(i=null===(o=window.s2sSdkConfig)||void 0===o?void 0:o.crashReporting)||void 0===i?void 0:i.dsn,"',\n              enabled: true,\n              environment: '").concat(window.s2sSdkConfig.projectName||"development","',\n              attachStacktrace: true,\n              transport: Sentry.makeFetchTransport,\n              integrations: [new GfKIntegration()],\n              beforeSend: (event, hint) => {\n                const ctvEnv = '").concat(c.includes("/ctv/")?"ctv-":"","';\n                let ver = \"agent-").concat(window.s2sSdkConfig.projectName||"development",'"+"-"+ctvEnv+window.s2sSdkConfig.sdkVersion;\n                const frames = event.exception?.values[0]?.stacktrace?.frames;\n                if(frames && frames[frames.length-1].filename.indexOf(\'s2s-web.js\') === -1){\n                  ver = "extension-').concat(window.s2sSdkConfig.projectName||"development",'"+"-"+ctvEnv+window.extensionConfig.version;\n                }\n                event.release = ver;\n                event.environment = \'').concat(window.s2sSdkConfig.projectName||"development",'\';\n                return event;\n              },\n              allowUrls: [\n                ".sensic.net",\n                "http://localhost:8082/"\n              ],\n\n              // Set tracesSampleRate to 1.0 to capture 100%\n              // of transactions for performance monitoring.\n              // We recommend adjusting this value in production\n              // tracesSampleRate: 1.0\n            });\n            window.gfkSentryHub = new Sentry.Hub(window.gfkSentry);\n            window.gfkSentryHub.run(currentHub => {\n              currentHub.configureScope(function (scope) {\n                scope.setTag("sentryClient", "gfkClient");\n              });\n            });\n          });\n        '),s.onload=function(){s.parentNode.appendChild(u)}}},e.prototype.log=function(e,t){var n,r;"error"===t&&(null===(r=null===(n=window.s2sSdkConfig)||void 0===n?void 0:n.crashReporting)||void 0===r?void 0:r.sampling)>0&&window.gfkS2sConf.crashReporting&&window.gfkSentryHub&&window.gfkSentryHub.captureMessage(msg)},e}();t.SentryLoggerImpl=o},4725:function(e){e.exports=void 0},4833:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return window.gfkS2sConf?window.gfkS2sConf.extID:window.gfkConnectorConf?window.gfkConnectorConf.extID:void 0}},4862:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5011),u=n(3914),c=n(4913),l=n(2310),p=n(473),d=n(5566),f=s(n(202));function h(){return o(this,void 0,void 0,function(){var e,t,n,r,o,s,a,u,p,d,h,g;return i(this,function(i){switch(i.label){case 0:e=[["sui_1pc",(0,l.collect1stPartyCookie)()],["ai",(0,l.collectAdID)()],["sui_fc",(0,l.collectFilecache)()],["external",(0,l.collectExternalIDs)()]],f.default.isBrowserContext()&&(t=(0,l.collect3rdPartyCookies)(!0),n=t.oldCookie,r=t.newCookie,e.push(["sui_3pc",r],["sui_old_3pc",n])),o={},s=0,a=e,i.label=1;case 1:if(!(s<a.length))return[3,6];u=a[s],p=u[0],d=u[1],i.label=2;case 2:return i.trys.push([2,4,,5]),[4,d];case 3:return(h=i.sent())&&(o[p]=h),[3,5];case 4:return g=i.sent(),c.Logger.warn("Failed to collect ID '".concat(p,"': ")+g.toString()),[3,5];case 5:return s++,[3,1];case 6:return[2,o]}})})}t.default=function(e,t,n,s,l,f){return void 0===s&&(s=!1),void 0===l&&(l="1"),void 0===f&&(f="sensic-sdk-web"),o(this,void 0,void 0,function(){var o,g,y,m,v,_,b;return i(this,function(i){switch(i.label){case 0:o={version:l,source:f,id:r({},e),privacy:{providedOptin:t},tracking:n},i.label=1;case 1:return i.trys.push([1,3,,4]),g=o.privacy,[4,(w=new Promise(function(e,t){a.FeatureFlags.isEnabled("TCF")||t("TCF feature flag is disabled"),window.__tcfapi||t("No __tcfapi found."),window.__tcfapi("addEventListener",2,function(t,n){!n||"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus||e(t.tcString)},[758])}),(0,p.withTimeout)(w,1e3))];case 2:return g.tcString=i.sent(),[3,4];case 3:return y=i.sent(),c.Logger.warn("Could not determine TC string: "+y),[3,4];case 4:return n&&s?(v=(m=Object).assign,_=[o.id],[4,h()]):[3,6];case 5:v.apply(m,_.concat([i.sent()])),i.label=6;case 6:return c.Logger.log("VMS privacy settings:, ".concat(JSON.stringify(o,null,2))),b=function(){var e=new URL("id",window.s2sVmsConf.trackingUrl);d.GfkHelpers.isHttp()?e.protocol="http:":e.protocol="https:";return e}(),[4,u.FetchService.sendData(b.href,"POST",o)];case 7:return i.sent(),[2]}var w})})}},4872:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Collector=void 0;var s=n(4913),a=n(2472),u=n(2447),c=n(7051),l=i(n(202)),p=n(7042),d=function(){function e(t){this.isConfigLoaded=!1,this.appType=t.hasOwnProperty("type")?t.type:"WEB";var n=e.getParticularDeviceType(),r=t.hasOwnProperty("device")?t.device:"UNKNOWN";this.deviceType="UNKNOWN"===n?r:n}return e.determineDeviceType=function(e,t){var n="";return t.match(/Linux/i)&&e.match(/(WEBOS)/i)&&(n="Smart-TV"),n},e.determineOs=function(e,t){var n="";return t.match(/Linux /i)&&e.match(/WEBOS/i)&&(n="WebOS"),n},e.getPlatform=function(){return l.default.isBrowserContext()?window.navigator.platform:""},e.getOperatingSystem=function(){var t=e.getUserAgent(),n=e.getPlatform();return e.determineOs(t,n)},e.getParticularDeviceType=function(){var t=e.getUserAgent(),n=e.getPlatform();return e.determineDeviceType(t,n)},e.getUserAgent=function(){return l.default.isBrowserContext()?window.navigator.userAgent:""},e.getTimeOffset=function(){return e.timeOffset},e.getTimeWithOffset=function(){return e.getUTCTimeStamp()+e.getTimeOffset()},e.setTimeOffset=function(){"idle"!==e.dateStatus&&"canceled"!==e.dateStatus||(e.dateStatus="waiting",e.getServerDate())},e.isDntEnabled=function(){return e.config.dnt},e.setConfig=function(t){e.isHttp()&&["trackingUrl"].forEach(function(e){window.s2sSdkConfig[e]=window.s2sSdkConfig[e].replace(/^https:/,"http:")}),e.config=t},e.init=function(t,n){var r;e.suiapiV2=n,e.tagConf=t,"undefined"!=typeof document&&(e.suiapiV2.init(e.tagConf.optin),(null===(r=window.gfkS2s)||void 0===r?void 0:r.scb)&&"function"==typeof window.gfkS2s.scb&&window.gfkS2s.scb(e.suiapiV2.instanceID))},e.getInstanceID=function(){return e.suiapiV2.instanceID},e.getServerDate=function(){window.addEventListener("message",function(t){t.data.relayRequestServerDate&&"finished"!==e.dateStatus&&"canceled"!==e.dateStatus&&(e.dateStatus="finished",e.setCalculatedOffset(t.data.relayRequestServerDate))}),setTimeout(function(){"finished"!==e.dateStatus&&(e.dateStatus="canceled",s.Logger.output("Request Timeout!","warn"))},3e3)},e.setCalculatedOffset=function(t){var n=e.getUTCTimeStamp(),r=Date.parse(t);e.timeOffset=isNaN(r)?0:r-n,0!==e.timeOffset&&s.Logger.output("Time offset = "+e.timeOffset+" milliseconds","info")},e.getUTCTimeStamp=function(){return(new Date).getTime()},e.isHttp=function(){if("undefined"!=typeof window){if(window.document.currentScript){var e=window.document.currentScript;if(e.src)return e.src.match(/^http:/)}for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++)if(t[n]&&t[n].src.match(/\/s2s-web.js$/))return null!==t[n].src.match(/^http:/);if("http:"===window.location.protocol)return!0}return!1},e.prototype.getOrigin=function(){return l.default.isBrowserContext()?window.location.protocol+"//"+window.location.hostname:""},e.prototype.getLanguage=function(){return l.default.isBrowserContext()?window.navigator.language||window.navigator.userLanguage:""},e.prototype.getProjectStatus=function(){return e.config.enabled},e.prototype.getContentCustomParameter=function(){return e.config.contentCustom},e.prototype.getStreamCustomParameter=function(){return e.config.streamCustom},e.prototype.getVersion=function(){return e.config.sdkVersion+(this.extensionVersion?"/"+this.extensionVersion:"")},e.prototype.getTechnology=function(){return e.config.tech},e.prototype.getProjectName=function(){return e.config.projectName},e.prototype.getTrackingUrl=function(){return e.config.trackingUrl},e.prototype.getHeartbeatSettings=function(){return e.config.heartbeat},e.prototype.getSegmentSettings=function(){return e.config.segment},e.prototype.getAppType=function(){return this.appType},e.prototype.getDeviceType=function(){if("undefined"!=typeof window&&(window.cast&&"CONNECTED"===window.cast.framework.CastContext.getInstance().getCastState()))return"chromecast";return this.deviceType},e.prototype.setExtensionVersion=function(e){this.extensionVersion=e},e.prototype.loadConfig=function(t,n){var i=this;if(window.s2sSdkConfig){if(this.isConfigLoaded=!0,(0,p.enableSentry)(),e.setConfig(window.s2sSdkConfig),!l.default.isBrowserContext()){var d=new a.SuiApiV2;e.init(window.gfkS2sConf,d),e.setTimeOffset()}n(window.s2sSdkConfig,!0)}else fetch(t,{method:"GET"}).then(function(t){return r(i,void 0,void 0,function(){var r,i;return o(this,function(o){switch(o.label){case 0:return this.isConfigLoaded?[2]:[4,t.json()];case 1:return r=o.sent(),s.Logger.output("Config loaded","log","fcall"),this.isConfigLoaded=!0,window.s2sSdkConfig=new u.S2sSdkConf(r),window.s2sVmsConf=new c.S2sVmsConf(r),i=new a.SuiApiV2,(0,p.enableSentry)(),e.setConfig(window.s2sSdkConfig),e.init(window.gfkS2sConf,i),e.setTimeOffset(),n(r,!0),[2]}})})})},e.dateStatus="idle",e.timeOffset=0,e}();t.Collector=d},4913:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(3425),t)},4972:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateId=void 0;t.generateId=function(){for(var e=Date.now().toString().substring(0,13).padStart(13,"0"),t="ABCDEF0123456789",n=56-e.length,r=0;r<n;r++)e+=t.charAt(Math.floor(16*Math.random()));return e}},4996:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.HTML5LiveExtension=void 0;var i=function(e){function t(t,n,r,o,i){void 0===o&&(o={});var s=e.call(this,t,n,r,o)||this;return s.hls=i,s}return o(t,e),t.prototype.setAgent=function(){this.agent=this.createAgent(null)},t.prototype.playbackSpeedChecker=function(){this.currentPlaybackSpeed=this.playerInstance.playbackRate,this.currentPlaybackSpeed!==this.lastPlaybackSpeed&&this.isPlaying()&&(this.lastPlaybackSpeed=this.currentPlaybackSpeed,this.agent.stop(),this.playLiveStream())},t.prototype.periodicTimeObserver=function(){this.livePeriodicTimeObserver()},t.prototype.stopSegmentBeforeClose=function(){this.stopLiveSegmentBeforeClose()},Object.defineProperty(t.prototype,"streamOffset",{get:function(){var e,t,n,r,o,i;return"number"==typeof(null===(t=null===(e=this.hls)||void 0===e?void 0:e.streamController)||void 0===t?void 0:t.liveSyncPosition)&&"number"==typeof(null===(r=null===(n=this.hls)||void 0===n?void 0:n.streamController)||void 0===r?void 0:r.lastCurrentTime)?(i=(null===(o=this.hls.streamController.fragCurrent)||void 0===o?void 0:o.endPTS)?this.hls.streamController.fragCurrent.endPTS-this.hls.streamController.lastCurrentTime:this.hls.streamController.liveSyncPosition-this.hls.streamController.lastCurrentTime,i=1e3*Math.abs(Math.floor(i))):i=0,i},enumerable:!1,configurable:!0}),t}(n(3309).HTML5VODExtension);t.HTML5LiveExtension=i},5011:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureFlags=void 0;var r=n(3714);Object.defineProperty(t,"FeatureFlags",{enumerable:!0,get:function(){return r.FeatureFlags}})},5015:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferImpression=void 0;var i=function(e){function t(t,n){var r=e.call(this)||this;return r.contentId=t,r.customParameters=n,r}return o(t,e),t.prototype.getContentId=function(){return this.contentId},t.prototype.getCustomParams=function(){return this.customParameters},t}(n(4639).BufferCommon);t.BufferImpression=i},5200:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RequestStop=void 0;var i=function(e){function t(){return e.call(this,"ST")||this}return o(t,e),Object.defineProperty(t.prototype,"skip",{set:function(e){this.fields.sk=e.toString()},enumerable:!1,configurable:!0}),t}(n(9777).RequestBase);t.RequestStop=i},5348:function(e,t,n){n.d(t,{G:function(){return l}});var r,o=n(5912);class i{constructor(e){this.adRunning=!1,this.currentAdPosition=0,this.lastAdPosition=void 0,this.queuePlay=[],this.queueStop=[],this.adsManager=e,this.addEvents()}get getAdCurrentPosition(){return this.currentAdPosition}shouldStop(){return this.lastAdPosition===this.currentAdPosition&&this.adRunning?(this.queueStop.push(this.currentAdPosition),this.adRunning=!1,this.currentAdPosition=0,this.lastAdPosition=void 0):this.currentAdPosition>0&&(this.lastAdPosition=this.currentAdPosition),this.queueStop.length>0}onResume(){this.adRunning=!0,this.queuePlay.push(this.currentAdPosition)}onPause(){this.adRunning=!1,this.queueStop.push(this.currentAdPosition)}onAdProgress(e){this.currentAdPosition=this.convertSecToMillisec(e.getAdData().currentTime)}onContentPauseRequested(){this.adRunning=!0}onComplete(){this.adRunning=!1,this.queueStop.push(this.currentAdPosition),this.currentAdPosition=0,this.lastAdPosition=void 0}onSkipped(){this.adRunning=!1,this.queueStop.push(this.currentAdPosition),this.currentAdPosition=0,this.lastAdPosition=void 0}onStarted(){this.adRunning=!0,this.queuePlay.push(0)}addEvents(){this.adsManager.addEventListener("contentPauseRequested",()=>this.onContentPauseRequested()),this.adsManager.addEventListener("adProgress",e=>this.onAdProgress(e)),this.adsManager.addEventListener("resume",()=>this.onResume()),this.adsManager.addEventListener("pause",()=>this.onPause()),this.adsManager.addEventListener("complete",()=>this.onComplete()),this.adsManager.addEventListener("start",()=>this.onStarted()),this.adsManager.addEventListener("skip",()=>this.onSkipped())}convertSecToMillisec(e){return Math.floor(1e3*e)}}class s{constructor(e){this.adRunning=!1,this.currentAdPosition=0,this.queuePlay=[],this.queueStop=[],this.bitmovinInstance=e,this.addEvents()}get getAdCurrentPosition(){return this.currentAdPosition}onComplete(){this.adRunning=!1,this.queueStop.push(this.getAdCurrentPosition)}adBreakFinished(){this.adRunning=!1}onSkipped(){this.adRunning=!1,this.queueStop.push(this.getAdCurrentPosition)}onStarted(){this.adRunning=!0,this.queuePlay.push(0)}onAdPlaying(){this.adRunning&&this.queuePlay.push(this.getAdCurrentPosition)}onAdProgress(){this.currentAdPosition=this.convertSecToMillisec(this.bitmovinInstance.getCurrentTime())}onAdPaused(){this.adRunning&&this.queueStop.push(this.getAdCurrentPosition)}addEvents(){this.bitmovinInstance.on("adfinished",()=>this.onComplete()),this.bitmovinInstance.on("adbreakfinished",()=>this.adBreakFinished()),this.bitmovinInstance.on("timechanged",()=>this.onAdProgress()),this.bitmovinInstance.on("adstarted",()=>this.onStarted()),this.bitmovinInstance.on("adskipped",()=>this.onSkipped()),this.bitmovinInstance.on("paused",()=>this.onAdPaused()),this.bitmovinInstance.on("playing",()=>this.onAdPlaying())}convertSecToMillisec(e){return Math.floor(1e3*e)}}class a{constructor(e){this.adRunning=!1,this.currentAdPosition=0,this.queuePlay=[],this.queueStop=[],this.jwInstance=e,this.addEvents()}get getAdCurrentPosition(){return this.currentAdPosition}onComplete(){this.adRunning=!1,this.queueStop.push(this.getAdCurrentPosition),this.currentAdPosition=0}onSkipped(){this.adRunning=!1,this.queueStop.push(this.getAdCurrentPosition)}onPaused(){this.queueStop.push(this.getAdCurrentPosition)}onPlay(){this.adRunning=!0,this.queuePlay.push(this.currentAdPosition)}onAdProgress(e){this.currentAdPosition=this.convertSecToMillisec(e)}addEvents(){this.jwInstance.on("adComplete",()=>this.onComplete()),this.jwInstance.on("adTime",({position:e})=>this.onAdProgress(e)),this.jwInstance.on("adPlay",()=>this.onPlay()),this.jwInstance.on("adSkipped",()=>this.onSkipped()),this.jwInstance.on("adPause",()=>this.onPaused())}convertSecToMillisec(e){return Math.floor(1e3*e)}}class u{constructor(e){this.adRunning=!1,this.currentAdPosition=0,this.adTimeOffset=0,this.queuePlay=[],this.queueStop=[],this.dmInstance=e,this.addEvents()}get getAdCurrentPosition(){return this.currentAdPosition}onComplete(){this.adRunning=!1,this.queueStop.push(this.getAdCurrentPosition),this.currentAdPosition=0,this.adTimeOffset=0}onSkipped(){this.adRunning=!1,this.queueStop.push(this.getAdCurrentPosition)}onPaused(){this.queueStop.push(this.getAdCurrentPosition)}onPlay(){this.adRunning=!0,this.queuePlay.push(this.currentAdPosition)}onAdProgress(e){e>0&&(0===this.currentAdPosition&&5===e&&(this.adTimeOffset=5),this.currentAdPosition=this.convertSecToMillisec(e-this.adTimeOffset))}addEvents(){this.dmInstance.on("ad_end",()=>this.onComplete()),this.dmInstance.on("ad_timeupdate",({adTime:e})=>{this.onAdProgress(e)}),this.dmInstance.on("ad_play",()=>this.onPlay()),this.dmInstance.on("ad_pause",()=>this.onPaused())}convertSecToMillisec(e){return Math.floor(1e3*e)}}class c{constructor(e){this.adRunning=!1,this.currentAdPosition=0,this.queuePlay=[],this.queueStop=[],this.kalturaInstance=e,this.addEvents()}get getAdCurrentPosition(){return this.currentAdPosition}onComplete(){this.adRunning=!1,this.queueStop.push(this.getAdCurrentPosition),this.currentAdPosition=0}adBreakFinished(){this.adRunning&&this.queueStop.push(this.getAdCurrentPosition),this.adRunning=!1,this.currentAdPosition=0}onSkipped(){this.onComplete()}onStarted(){this.adRunning=!0,this.queuePlay.push(this.getAdCurrentPosition)}onAdProgress(e){this.currentAdPosition=this.convertSecToMillisec(e.payload.adProgress.currentTime)}onAdPaused(){this.adRunning&&(this.queueStop.push(this.getAdCurrentPosition),this.adRunning=!1)}addEvents(){this.kalturaInstance.addEventListener("adcomplete",()=>this.onComplete()),this.kalturaInstance.addEventListener("adprogress",e=>this.onAdProgress(e)),this.kalturaInstance.addEventListener("adstarted",()=>this.onStarted()),this.kalturaInstance.addEventListener("adresumed",()=>this.onStarted()),this.kalturaInstance.addEventListener("adskipped",()=>this.onSkipped()),this.kalturaInstance.addEventListener("adpaused",()=>this.onAdPaused()),this.kalturaInstance.addEventListener("adbreakend",()=>this.adBreakFinished())}convertSecToMillisec(e){return Math.floor(1e3*e)}}window.extensionConfig=new class{constructor(){this.version="1.11.2"}},function(e){e.play="play",e.stop="stop",e.timeJump="timeJump",e.unknown="unknown"}(r||(r={}));class l{constructor(e,t,n,i={},s=!1){this.currentPosition=0,this.currentPlaybackSpeed=1,this.lastPlaybackSpeed=1,this.currentVolume=0,this.timerIntervalMs=500,this.lastPosition=0,this.lastEvent=r.unknown,this.customParams={},this.streamStart="",o.Vy.readFromTagConf(),o.Vy.readFromLocalStorage(),this.addTag(t),this.gfkS2s=window.gfkS2s,this.gfkS2sConf=t,this.stopSegmentBeforeClose(),s||(this.setPlayer(e),this.setParameter(n,i)),this.setAgent(),setInterval(()=>{this.periodicTimeObserver()},this.timerIntervalMs),this.lastVolume=this.currentVolume}get videoPosition(){return this.lastPosition||this.currentPosition}setAgent(){this.agent=this.createAgent(()=>this.videoPosition)}createAgent(e){const t=window.gfkS2s.getAgent(e);var n,r;return t.setExtensionVersion=(n=t.a,r="setExtensionVersion",function(){n.queue?n.queue.push({f:r,a:arguments}):n.processor[r](arguments[0])}),t.setExtensionVersion(window.extensionConfig.version),t}activateGoogleIMASupport(e){this.googleIma=new i(e),this.adAgent=this.createAgent(()=>this.googleIma.getAdCurrentPosition)}activateBitmovinAdSupport(){this.bitmovinAdExtension=new s(this.playerInstance),this.adAgent=this.createAgent(()=>this.bitmovinAdExtension.getAdCurrentPosition)}activateJWAdSupport(){this.jwAdExtension=new a(this.playerInstance),this.adAgent=this.createAgent(()=>this.jwAdExtension.getAdCurrentPosition)}activateDailyMotionAdSupport(){this.dmAdExtension=new u(this.playerInstance),this.adAgent=this.createAgent(()=>this.dmAdExtension.getAdCurrentPosition)}activateKalturaAdSupport(){this.kalturaAdExtension=new c(this.playerInstance),this.adAgent=this.createAgent(()=>this.kalturaAdExtension.getAdCurrentPosition)}processAdPlayEvents(){if(this.googleIma&&this.googleIma.queuePlay.length>0){const e=this.googleIma.queuePlay.shift();this.adAgent.playStreamOnDemand("ad",`${this.streamId} ad`,e,{},this.customParams)}if(this.bitmovinAdExtension&&this.bitmovinAdExtension.queuePlay.length>0){const e=this.bitmovinAdExtension.queuePlay.shift();this.adAgent.playStreamOnDemand("ad",`${this.streamId} ad`,e,{},this.customParams)}else if(this.jwAdExtension&&this.jwAdExtension.queuePlay.length>0){const e=this.jwAdExtension.queuePlay.shift();this.adAgent.playStreamOnDemand("ad",`${this.streamId} ad`,e,{},this.customParams)}else if(this.dmAdExtension&&this.dmAdExtension.queuePlay.length>0){const e=this.dmAdExtension.queuePlay.shift();this.adAgent.playStreamOnDemand("ad",`${this.streamId} ad`,e,{},this.customParams)}else if(this.kalturaAdExtension&&this.kalturaAdExtension.queuePlay.length>0){const e=this.kalturaAdExtension.queuePlay.shift();this.adAgent.playStreamOnDemand("ad",`${this.streamId} ad`,e,{},this.customParams)}}processAdStopEvents(){if(this.googleIma&&this.googleIma.shouldStop()){const e=this.googleIma.queueStop.shift();this.adAgent.stop(e)}if(this.bitmovinAdExtension&&this.bitmovinAdExtension.queueStop.length>0){const e=this.bitmovinAdExtension.queueStop.shift();this.adAgent.stop(e)}else if(this.jwAdExtension&&this.jwAdExtension.queueStop.length>0){const e=this.jwAdExtension.queueStop.shift();this.adAgent.stop(e)}else if(this.dmAdExtension&&this.dmAdExtension.queueStop.length>0){const e=this.dmAdExtension.queueStop.shift();this.adAgent.stop(e)}else if(this.kalturaAdExtension&&this.kalturaAdExtension.queueStop.length>0){const e=this.kalturaAdExtension.queueStop.shift();this.adAgent.stop(e)}}stopAdAgent(){this.googleIma&&(this.googleIma.adRunning=!1,this.googleIma.queueStop.push(this.googleIma.getAdCurrentPosition)),this.bitmovinAdExtension?(this.bitmovinAdExtension.adRunning=!1,this.bitmovinAdExtension.queueStop.push(this.bitmovinAdExtension.getAdCurrentPosition)):this.jwAdExtension?(this.jwAdExtension.adRunning=!1,this.jwAdExtension.queueStop.push(this.jwAdExtension.getAdCurrentPosition)):this.dmAdExtension?(this.dmAdExtension.adRunning=!1,this.dmAdExtension.queueStop.push(this.dmAdExtension.getAdCurrentPosition)):this.kalturaAdExtension&&(this.kalturaAdExtension.adRunning=!1,this.kalturaAdExtension.queueStop.push(this.kalturaAdExtension.getAdCurrentPosition))}isAdRunning(){return this.googleIma&&this.googleIma.adRunning||this.bitmovinAdExtension&&this.bitmovinAdExtension.adRunning||this.jwAdExtension&&this.jwAdExtension.adRunning||this.dmAdExtension&&this.dmAdExtension.adRunning||this.kalturaAdExtension&&this.kalturaAdExtension.adRunning}get currentSrc(){return null}get playbackSpeed(){return this.currentPlaybackSpeed}setStreamStart(e){e instanceof Date&&!isNaN(e.getTime())?this.streamStart=e.toISOString():"string"!=typeof e||isNaN(new Date(e).getTime())?this.streamStart="":this.streamStart=e}get playbackRate(){return 1}get duration(){return null}isBuffering(){return!1}isIdling(){return!1}get currentTime(){return 0}volumeChecker(){this.currentVolume=this.getVolume(),this.currentVolume!==this.lastVolume&&this.isPlaying()&&this.agent.volume(this.currentVolume.toString())}getVolume(){return null}isPlaying(){return!1}getStreamId(){return this.playerInstance&&this.currentSrc&&""!==this.currentSrc?this.currentSrc:Math.random().toString()}setParameter(e,t,n){this.streamId=this.getStreamId(),this.contentId=e,t&&(this.customParams=t),this.setStreamStart(n)}convertSecToMillisec(e){return Math.floor(1e3*e)}convertMillisecToSec(e){return Math.floor(e/1e3)}logger(e){o.Vy.output(e,"log","fcall")}lastValueSetter(){this.lastPlaybackSpeed=this.currentPlaybackSpeed,this.lastPosition=this.currentPosition,this.lastVolume=this.currentVolume}isHugeTimeJump(){return Math.abs(this.currentPosition-this.lastPosition)>=3*this.timerIntervalMs}addTag(e){!function(e,t,n,r,o){if(t.getElementById(o))return;e.gfkS2sConf=n,e[o]={},e[o].agents=[];const i=["playStreamLive","playStreamOnDemand","stop","skip","screen","volume","impression"];e.gfks=function(){function e(e,t,n){return function(){e.p=n(),e.queue.push({f:t,a:arguments})}}return function(t,n,r){const o={queue:[],config:t,cb:r,pId:n};for(let t=0;t<i.length;t++){const n=i[t];o[n]=e(o,n,r)}return o}}(),e[o].getAgent=function(t,r){const s={a:new e.gfks(n,r||"",t||function(){return 0})};function a(e,t){return function(){return e.a[t].apply(e.a,arguments)}}for(let e=0;e<i.length;e++){const t=i[e];s[t]=a(s,t)}return e[o].agents.push(s),s};!function(e,n){const o=t.createElement(r),i=t.getElementsByTagName(r)[0];o.id=e,o.async=!0,o.type="text/javascript",o.src=n,o.setAttribute("crossorigin","anonymous"),i.parentNode.insertBefore(o,i)}(o,n.url)}(window,document,e,"script","gfkS2s")}stopSegmentBeforeClose(){window.onbeforeunload=()=>{this.lastEvent===r.play&&this.agent.stop(this.lastPosition)}}playStreamOnDemand(){this.agent.playStreamOnDemand(this.contentId,this.streamId,this.currentPosition,{volume:this.currentVolume.toString(),speed:this.currentPlaybackSpeed},this.customParams)}playbackSpeedChecker(){this.currentPlaybackSpeed=this.playbackRate,this.currentPlaybackSpeed!==this.lastPlaybackSpeed&&this.isPlaying()&&(this.logger("playback speed change detected"),this.lastPlaybackSpeed=this.currentPlaybackSpeed,this.agent.stop(this.lastPosition),this.playStreamOnDemand())}setPlayer(e){this.playerInstance=e,this.streamId=this.getStreamId(),this.currentVolume=e?this.getVolume():this.currentVolume}periodicTimeObserver(){if(this.processAdStopEvents(),this.playerInstance){if((this.isBuffering()||this.isIdling())&&!this.isAdRunning())return;this.currentPosition=this.convertSecToMillisec(this.currentTime),this.playbackSpeedChecker(),this.volumeChecker(),this.isHugeTimeJump()&&this.lastEvent==r.play&&!this.isAdRunning()?(this.logger("huge time jump happened"),this.agent.stop(this.lastPosition),this.lastEvent=r.timeJump):this.lastEvent==r.play&&this.convertSecToMillisec(this.duration)<=this.currentPosition&&!this.isAdRunning()?(this.logger("video ended"),this.agent.stop(),this.lastEvent=r.stop):this.lastEvent==r.timeJump&&this.isPlaying()?(this.logger("start after huge jump"),this.playStreamOnDemand(),this.lastEvent=r.play):this.lastPlayerStatusWasPlaying!==this.isPlaying()&&(this.logger("last player state was not play"),this.lastEvent==r.play?(this.logger("last player state was not play -> last event state was play"),this.agent.stop(),this.lastEvent=r.stop):this.isPlaying()&&(this.logger("last player state was not play -> else"),this.playStreamOnDemand(),this.lastEvent=r.play)),this.lastValueSetter(),this.lastPlayerStatusWasPlaying=this.isPlaying()}else this.lastEvent===r.play?(this.logger("player instance undefined"),this.agent.stop(),this.lastEvent=r.stop):this.isAdRunning()&&!this.googleIma&&(this.logger("player instance undefined stopping ad"),this.stopAdAgent());this.processAdPlayEvents()}playLiveStream(){this.agent.playStreamLive(this.contentId,this.streamStart,this.streamOffset,this.streamId,{volume:this.getVolume().toString(),speed:this.currentPlaybackSpeed},this.customParams)}stopLiveSegmentBeforeClose(){window.onbeforeunload=()=>{this.lastEvent===r.play&&this.agent.stop()}}livePeriodicTimeObserver(){if(this.processAdStopEvents(),this.playerInstance){if((this.isBuffering()||this.isIdling())&&!this.isAdRunning())return void(this.isBuffering()&&this.lastEvent===r.play&&(this.agent.stop(),this.lastEvent=r.stop,this.lastPlayerStatusWasPlaying=!1));this.currentPosition=this.convertSecToMillisec(this.currentTime),this.playbackSpeedChecker(),this.volumeChecker(),this.isHugeTimeJump()&&this.lastEvent==r.play?(o.Vy.output("huge time jump happened"),this.agent.stop(),this.lastEvent=r.timeJump):this.lastEvent==r.timeJump&&this.isPlaying()?(o.Vy.info("start after huge jump"),this.playLiveStream(),this.lastEvent=r.play):this.lastPlayerStatusWasPlaying!==this.isPlaying()&&(o.Vy.info("last player state was not play"),this.lastEvent==r.play?(this.agent.stop(),this.lastEvent=r.stop):this.isPlaying()&&(o.Vy.info("last player state was not play -> else"),this.playLiveStream(),this.lastEvent=r.play)),this.lastValueSetter(),this.lastPlayerStatusWasPlaying=this.isPlaying()}else this.lastEvent===r.play?(this.logger("player instance undefined"),this.agent.stop(),this.lastEvent=r.stop):this.isAdRunning()&&!this.googleIma&&(this.logger("player instance undefined stopping ad"),this.stopAdAgent());this.processAdPlayEvents()}}},5461:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SentryLoggerImpl=void 0;var u=n(3425),c=function(){function e(){this.Sentry=null,this.enabled=!1}return e.prototype.enable=function(){var e,t,r,o,c;return s(this,void 0,void 0,function(){var s,l,p,d,f,h=this;return a(this,function(a){switch(a.label){case 0:if(this.enabled)return[2];if(this.enabled=!0,s=null===(e=null===n.g||void 0===n.g?void 0:n.g.s2sSdkConfig)||void 0===e?void 0:e.crashReporting,l=(null===(t=null===n.g||void 0===n.g?void 0:n.g.s2sSdkConfig)||void 0===t?void 0:t.projectName)||"development",p=(null===(r=null===n.g||void 0===n.g?void 0:n.g.s2sSdkConfig)||void 0===r?void 0:r.sdkVersion)||"unknown",!(null==s?void 0:s.dsn)||(null==s?void 0:s.sampling)<=0)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),d=this,[4,Promise.resolve().then(function(){return i(n(4725))})];case 2:return d.Sentry=a.sent(),this.Sentry.init({dsn:null===(c=null===(o=window.s2sSdkConfig)||void 0===o?void 0:o.crashReporting)||void 0===c?void 0:c.dsn,enableNative:!0,enableAutoSessionTracking:!0,release:"agent-".concat(l,"-").concat(p),environment:l,attachStacktrace:!0,beforeSend:function(e,t){var n,r,o,i="agent-"+window.s2sSdkConfig.sdkVersion;e.exception&&e.exception.values&&e.exception.values.length>0&&(e.exception.values=h.normalizePath(e));var s=null===(o=null===(r=null===(n=e.exception)||void 0===n?void 0:n.values[0])||void 0===r?void 0:r.stacktrace)||void 0===o?void 0:o.frames;return s&&-1!==s[s.length-1].filename.indexOf("Extension.js")&&(i="extension-"+window.s2sSdkConfig.sdkVersion),e.release=i,e.environment=window.s2sSdkConfig.projectName||"development",e}}),this.Sentry.setTag("sentryClient","gfkClient"),u.Logger.output("Sensic crash reporting enabled (React Native)","log","fcall"),[3,4];case 3:return f=a.sent(),u.Logger.error("Failed to initialize Sentry",f),[3,4];case 4:return[2]}})})},e.prototype.log=function(e,t){return s(this,void 0,void 0,function(){return a(this,function(n){if(!this.Sentry||"error"!==t)return[2];try{this.Sentry.captureMessage(e)}catch(e){u.Logger.error("Sentry logging error",e)}return[2]})})},e.prototype.normalizePath=function(e){var t,n,r,o=null===(t=e.exception)||void 0===t?void 0:t.values;if(o)for(var i=0,s=o;i<s.length;i++){var a=null===(n=s[i].stacktrace)||void 0===n?void 0:n.frames;if(a)for(var u=0,c=a;u<c.length;u++){var l=c[u],p=null===(r=l.filename)||void 0===r?void 0:r.match(/.*node_modules\/@gfksensic\/s2s-js\/dist(\/.*)/);p&&(l.filename="~".concat(p[1]))}}return o},e}();t.SentryLoggerImpl=c},5480:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EventStop=void 0;var i=function(e){function t(n,r,o,i,s,a,u){return e.call(this,n,r,o,s,i,a,u,t.instance)||this}return o(t,e),t.instance="EventStop",t}(n(185).EventBase);t.EventStop=i},5487:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RequestBuilder=void 0;var o=n(6418),i=n(8826),s=n(4612),a=n(5200),u=n(1982),c=n(649),l=n(4872),p=n(7436),d=r(n(202)),f=function(){function e(e){this.collector=e}return e.prototype.buildRequest=function(e){var t;switch(e.instance){case"EventImpression":t=this.buildRequestImpression(e);break;case"EventPlay":t=this.buildRequestPlay(e);break;case"EventStop":t=this.buildRequestStop(e);break;case"EventSkip":t=this.buildRequestSkip(e);break;case"EventVolume":t=this.buildRequestVolume(e);break;case"EventScreen":t=this.buildRequestScreen(e);break;case"EventHeartbeat":t=this.buildRequestHeartbeat(e);break;case"EventVisibility":t=this.buildRequestVisibility(e)}return t},e.prototype.buildRequestImpression=function(e){var t=this.buildRequestCommon(new c.RequestImpression,e);return t.contentId=e.contentId,t.instanceid=l.Collector.getInstanceID(),t.userAgent=l.Collector.getUserAgent(),t.language=this.collector.getLanguage(),t.origin=this.collector.getOrigin(),t.customParameter={userParams:e.customParams,allowedParams:this.collector.getContentCustomParameter()},t},e.prototype.buildRequestPlay=function(e){var t=this.buildRequestBase(new i.RequestPlay,e);return t.contentId=e.contentId,t.volume=e.options.volume||"",t.visibility=e.visibility,t.screen=e.options.screen||"",t.instanceid=l.Collector.getInstanceID(),t.userAgent=l.Collector.getUserAgent(),t.language=this.collector.getLanguage(),t.origin=this.collector.getOrigin(),t.streamPosition=e.streamPosition,t.streamTime=e.streamStartTime,t.playbackSpeed=d.default.playbackSpeedConverter(e.options.speed),t.customParameter={userParams:e.customParams,allowedParams:this.collector.getStreamCustomParameter()},t},e.prototype.buildRequestStop=function(e){var t=this.buildRequestBase(new a.RequestStop,e);return t.skip=0,t},e.prototype.buildRequestSkip=function(e){var t=this.buildRequestBase(new a.RequestStop,e);return t.skip=1,t},e.prototype.buildRequestVolume=function(e){var t=this.buildRequestBase(new u.RequestVolume,e);return t.volume=e.volume,t},e.prototype.buildRequestScreen=function(e){var t=this.buildRequestBase(new s.RequestScreen,e);return t.screen=e.screen,t},e.prototype.buildRequestHeartbeat=function(e){return this.buildRequestBase(new o.RequestHeartbeat,e)},e.prototype.buildRequestVisibility=function(e){var t=this.buildRequestBase(new p.RequestVisibility,e);return t.visibility=e.visibility,t},e.prototype.buildRequestBase=function(e,t){return(e=this.buildRequestCommon(e,t)).presentationId=t.presentationId,e.requestNumber=t.stateItemNumber,e.segmentNumber=t.segmentNumber,e.segmentDuration=t.segmentDuration,e.usageTime=t.usageTime,e},e.prototype.buildRequestCommon=function(e,t){return e.projectId=this.collector.getProjectName(),e.mediaId=t.mediaId,e.technology=this.collector.getTechnology(),e.version=this.collector.getVersion(),e.operatingSystem=l.Collector.getOperatingSystem(),e.deviceType=this.getDeviceType(e.requestType),e.appType=this.collector.getAppType(),e},e.prototype.getDeviceType=function(e){var t=this.lastDeviceType;return void 0!==t&&"PL"!==e||(t=this.lastDeviceType=this.collector.getDeviceType()),t},e}();t.RequestBuilder=f},5566:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GfkHelpers=void 0;var n=function(){function e(){}return e.getCookie=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?decodeURIComponent(t[2]):null},e.deleteCookie=function(e,t){this.setCookie(e,"",{days:-1,domain:t})},e.setCookie=function(e,t,n){var r=void 0===n?{}:n,o=r.days,i=void 0===o?730:o,s=r.domain,a=r.sameSite,u=void 0===a?"None":a,c=new Date;c.setTime(c.getTime()+24*i*60*60*1e3);var l=e+"="+encodeURIComponent(t)+";path=/;expires="+c.toUTCString();s&&(l+=";domain="+s),l+=";sameSite="+u,"https:"===window.location.protocol&&(l+=";secure"),document.cookie=l},e.isHttp=function(){if("undefined"!=typeof window){for(var e=window.document.getElementsByTagName("script"),t=0;t<e.length;t++)if(e[t]&&e[t].src.match(/\/\/[^/]*sensic.net\/\S*\.js$/))return null!==e[t].src.match(/^http:/);if("http:"===window.location.protocol)return!0}return!1},e}();t.GfkHelpers=n},5833:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerExtension=t.PlayerType=t.PlayerVendor=void 0;var r,o,i=n(3309),s=n(4996),a=n(4913),u=n(3414),c=n(101);!function(e){e.HTML5="html5",e.W3CMEDIA="w3cmedia"}(r=t.PlayerVendor||(t.PlayerVendor={})),function(e){e.Live="live",e.VoD="vod"}(o=t.PlayerType||(t.PlayerType={}));var l=function(){function e(t,n,r){this.playerConf={type:o.VoD},a.Logger.readFromTagConf(),a.Logger.readFromLocalStorage(),this.gfkS2sConf=n,this.contentId=r.contentId||"default",this.customParams=r.customParams,Object.assign(this.playerConf,{},t),this.contentExtension=e.getExtensionByPlayer(this.playerConf,n,r.contentId,r.customParams,t.hls),this.contentExtension.setStreamStart(r.streamStart)}return e.getExtensionByPlayer=function(t,n,l,p,d){void 0===l&&(l="default"),void 0===p&&(p={});var f=t.type?t.type.toLowerCase():void 0;return e.validatePlayerConf(t),t.vendor===r.W3CMEDIA?f===o.Live?new c.W3CLiveExtension(t.instance,n,l,p):new u.W3CVODExtension(t.instance,n,l,p):t.vendor===r.HTML5?f===o.Live?new s.HTML5LiveExtension(t.instance,n,l,p,d):new i.HTML5VODExtension(t.instance,n,l,p):void 0===t.instance?new u.W3CVODExtension(t.instance,n,l,p):void a.Logger.output("Sorry, we cannot detect your player type","error")},e.detectPlayerVendor=function(e){return e&&e.volume_?r.W3CMEDIA:e&&e.volume?r.HTML5:void 0},e.prototype.activateGoogleIMASupport=function(e){e&&"function"==typeof e.updateAdsRenderingSettings?this.contentExtension.activateGoogleIMASupport(e):a.Logger.output("Sorry, we cannot detect your IMA ads manager, please check your function invocation!","error")},e.prototype.activateCustomAdSupport=function(t){this.adExtension=e.getExtensionByPlayer(t,this.gfkS2sConf,"ad",this.customParams)},e.prototype.setParameter=function(e){this.contentExtension&&(this.customParams=e.customParams,this.contentId=e.contentId||"default",this.contentExtension.setParameter(this.contentId,this.customParams,e.streamStart))},e.prototype.setPlayer=function(t){Object.assign(this.playerConf,{},t),this.contentExtension.setPlayer(null),this.contentExtension=e.getExtensionByPlayer(this.playerConf,this.gfkS2sConf,this.contentId,this.customParams)},e.validatePlayerConf=function(t){var n=e.detectPlayerVendor(t.instance),r=t.vendor;if(r)n&&r.toLowerCase()!==n&&a.Logger.output("The player vendor you have provided doesn't match the vendor we have detected. Please verify. If the vendor provided is correct, please ignore this warning. \n provided: \"".concat(r,'" \n detected: "').concat(n,'"'),"warn");else{if(r||!n)throw new Error("The player vendor must be provided. Please check the provided player config.");t.vendor=n,a.Logger.output('You have not provided a valid player vendor but we were able to detect some. Please verify and provide the right vendor explicitly in the player config. \n provided: "'.concat(r,'" \n detected: "').concat(n,'"'),"warn")}},e}();t.PlayerExtension=l},5912:function(e,t,n){t.Vy=void 0;var r=n(8272);var o=n(4913);Object.defineProperty(t,"Vy",{enumerable:!0,get:function(){return o.Logger}});var i=n(5566);var s=n(2472);var a=n(1917);var u=n(567);var c=n(8459);var l=n(4872);var p=n(5833)},6206:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferScreen=void 0;var i=function(e){function t(t,n,r){var o=e.call(this,n,r)||this;return o.screen=t,o}return o(t,e),t.prototype.getScreen=function(){return this.screen},t}(n(6331).BufferBase);t.BufferScreen=i},6291:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7160),o=function(){function e(){}return e.isValidTCData=function(e){return!!(e.vendor&&e.vendor.consents&&e.vendor.legitimateInterests&&e.purpose&&e.purpose.consents&&e.purpose.legitimateInterests)},e.hasReadWrite=function(t){return e.hasPurpose(e.PURPOSE_READ_WRITE_ON_USER_DEVICE,t)},e.hasMeasureAdPerformance=function(t){return e.hasPurpose(e.PURPOSE_MEASURE_AD_PERFORMANCE,t)},e.hasMeasureContentPerformance=function(t){return e.hasPurpose(e.PURPOSE_MEASURE_CONTENT_PERFORMANCE,t)},e.hasMarketResearch=function(t){return e.hasPurpose(e.PURPOSE_MARKET_RESEARCH,t)},e.hasGfK=function(t){return e.isValidTCData(t)&&!0===t.vendor.consents[e.VENDOR_ID]},e.hasPurpose=function(t,n){var o,i,s=null===(i=null===(o=n.publisher)||void 0===o?void 0:o.restrictions[t])||void 0===i?void 0:i[e.VENDOR_ID];return(void 0===s||s!==r.RestrictionType.NOT_ALLOWED)&&(e.isValidTCData(n)&&!0===n.purpose.consents[t])},e.VENDOR_ID=758,e.PURPOSE_READ_WRITE_ON_USER_DEVICE=1,e.PURPOSE_MEASURE_AD_PERFORMANCE=7,e.PURPOSE_MEASURE_CONTENT_PERFORMANCE=8,e.PURPOSE_MARKET_RESEARCH=9,e}();t.default=o},6331:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferBase=void 0;var i=function(e){function t(t,n){var r=e.call(this)||this;return r.streamPosition=t,r.usageTime=n,r}return o(t,e),t.prototype.getStreamPosition=function(){return this.streamPosition},t.prototype.getUsageTime=function(){return this.usageTime},t}(n(4639).BufferCommon);t.BufferBase=i},6418:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RequestHeartbeat=void 0;var i=function(e){function t(){var t=e.call(this,"HB")||this;return t.isMostRecent=!0,t}return o(t,e),t}(n(9777).RequestBase);t.RequestHeartbeat=i},6467:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExpBackoffTransmitter=void 0;var i=n(4913),s=n(3048),a=function(){function e(t){this.storage=[],this.currentDelay=e.BASE_DELAY,this.isResendQueued=!1,this.requestSender=new s.BrowserIndependentRequest(t)}return e.prototype.sendRequest=function(e){var t=this;return this.requestSender.send(e).then(function(){return i.Logger.output("Sent: "+e.requestType,"log","request",e.fields)}).catch(function(n){i.Logger.output("Failed to send request: "+n,"error"),u(e)&&(i.Logger.output("Queueing request","info"),t.storage.push(e)),t.isResendQueued||(i.Logger.output("No re-sending active, starting new re-sending after "+t.currentDelay+" ms","info"),t.scheduleNextResend())})},e.prototype.resend=function(){return r(this,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:if(!(this.storage.length>0))return[3,5];t=this.storage.shift(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.requestSender.send(t)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),u(t)&&this.storage.unshift(t),this.increaseDelay(),i.Logger.output("Failed to re-send request: "+n,"error"),i.Logger.output("Increasing re-send delay to "+this.currentDelay,"info"),this.scheduleNextResend(),[3,5];case 4:return[3,0];case 5:return 0===this.storage.length&&(i.Logger.output("All requests flushed","info"),this.isResendQueued=!1,this.currentDelay=e.BASE_DELAY),[2]}})})},e.prototype.scheduleNextResend=function(){var e=this;setTimeout(function(){return e.resend()},this.currentDelay),this.isResendQueued=!0},e.prototype.increaseDelay=function(){this.currentDelay=Math.min(2*this.currentDelay,e.MAX_DELAY)},Object.defineProperty(e.prototype,"_requestSender",{get:function(){return this.requestSender},enumerable:!1,configurable:!0}),e.MAX_DELAY=32e3,e.BASE_DELAY=500,e}();function u(e){return!("HB"===e.requestType)||e.isMostRecent}t.ExpBackoffTransmitter=a},6577:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=/^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$/i;t.default=function(){var e,t=null===(e=null===window||void 0===window?void 0:window.gfkS2sConf)||void 0===e?void 0:e.ai;return n.test(t)&&"00000000-0000-0000-0000-000000000000"!==t?t:null}},6938:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.S2SAgentParamChecks=void 0;var r=n(4913),o=function(){function e(){}return e.validateTagConfig=function(e){var t="gfkS2sConf = {...}";if(!this.isStringAndNotEmpty(e.media,"mediaId",t))throw new Error;if(!this.isStringAndNotEmptyWithoutErrLog(e.configUrl)&&!e.url)throw new Error;if(!this.isStringAndNotEmptyWithoutErrLog(e.url)&&!e.configUrl)throw new Error;if(e.configUrl&&e.url&&this.errorLog(t,"configUrl or url",e.configUrl||e.url,"Cannot have url and configUrl at the same time","error"),!this.isStringAndNotEmpty(e.type,"type",t))throw new Error;switch(e.type){case"APP":if(!this.isStringAndNotEmpty(e.device,"device",t))throw this.errorLog(t,"device","","Missing or empty property","error"),new Error;if(!e.hasOwnProperty("ai"))throw this.errorLog(t,"ai","","Missing property","error"),new Error;-1===["SMARTPHONE","TABLET","TV","DESKTOP"].indexOf(e.device)&&(this.errorLog(t,"device",e.device,"Unknown device type, see documentation","warn"),e.device="UNKNOWN");break;case"WEB":case"TV":break;default:throw this.errorLog(t,"type",e.type,"Unknown app type, see documentation (configuration)","error"),new Error("Unknown type")}},e.isStringAndNotEmpty=function(e,t,n,r){var o="string"==typeof e&&e.length>0;return!1===o&&this.errorLog(n,t,e,"is not a string",r),o},e.isStringAndNotEmptyWithoutErrLog=function(e){return"string"==typeof e&&e.length>0},e.isCorrectStreamOffset=function(e,t,n,r){var o="number"==typeof e&&!isNaN(e);return o||this.errorLog(n,t,e,"is not a number!",r),o},e.isCorrectStreamStart=function(e,t,n,r){var o=Date.parse(e);return!isNaN(o)||0===e.length||(this.errorLog(n,t,e,"must be a valid date string with timezone offset (YYYY-MM-DDTHH:ii:ss TZ +OFFSET)!",r),!1)},e.areParameterValid=function(e){for(var t in e)if(e.hasOwnProperty(t)&&!1===e[t])return r.Logger.output('Input param "'.concat(t,"\" is not valid, request couldn't be sent!"),"warn"),!1;return!0},e.isPlayOptionsValid=function(e,t,n,r){var o=!0;if("object"!=typeof e)this.errorLog(n,t,"(valueType="+typeof e+")","is invalid object!","warn"),o=!1;else{void 0===e.screen||"string"==typeof e.screen||(this.errorLog(n,t+".screen","(valueType="+typeof e.screen+")","is invalid object!","warn"),o=!1),void 0!==e.volume&&"string"!=typeof e.volume&&(o=!1),"string"==typeof e.speed&&isNaN(parseFloat(e.speed))&&(o=!1);var i=void 0===e.position;r&&(i=i||"number"==typeof e.position),i||(this.errorLog(n,t+".position","(valueType="+typeof e.position+")","is invalid object!","warn"),o=!1)}return o},e.areCustomParametersValid=function(e,t,n){var r="object"==typeof e;return!1===r&&this.errorLog(n,t,"(valueType="+typeof e+")","is invalid object!","warn"),r},e.checkArgCount=function(t,n,r){if(!e.isArgumentsLengthValid(t,n,r))throw new Error(r+" cannot be executed!")},e.isArgumentsLengthValid=function(e,t,n,r){return!1!=(e===t)||(this.errorLog(n,"Input parameter number",e.toString(),"; Invalid number of arguments, given: "+e+", expected: "+t+"!",r),!1)},e.errorLog=function(e,t,n,o,i){void 0===i&&(i="error"),r.Logger.output("Origin="+e+"; Parameter="+t+"; Value="+n+"; "+o,i)},e}();t.S2SAgentParamChecks=o},7042:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.logSentry=t.enableSentry=void 0;var u=n(3425),c=null;function l(e){e&&(p("playerextension.js")&&u.Logger.warn('WARN: Crash reporting is enabled but "crossorigin" attribute is missing from playerextension.js script. Please check our documentation here: https://confluence-docu.gfk.com/pages/viewpage.action?pageId=102334502#GenericPlayerExtension(JSSDK)-Theidea-somepseudocode'),p("s2s-web.js")&&u.Logger.warn('WARN: Crash reporting is enabled but "crossorigin" attribute is missing from the tag. Please check our documentation here: https://confluence-docu.gfk.com/pages/viewpage.action?pageId=13044049'))}function p(e){var t=document.querySelector("script[src*='".concat(e,"']"));return t&&"anonymous"!==t.getAttribute("crossorigin")}t.enableSentry=function(){return s(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return function(){var e,t,n,r,o,i;if(window&&(null===(t=null===(e=null===window||void 0===window?void 0:window.s2sSdkConfig)||void 0===e?void 0:e.crashReporting)||void 0===t?void 0:t.sampling)>0&&(null===(n=null===window||void 0===window?void 0:window.gfkS2sConf)||void 0===n?void 0:n.crashReporting)){var s=(null===(o=null===(r=window.s2sSdkConfig)||void 0===r?void 0:r.crashReporting)||void 0===o?void 0:o.sampling)||0,a=void 0;if(sessionStorage){if(sessionStorage.getItem("sensicCrashReporting"))return l("true"===sessionStorage.getItem("sensicCrashReporting")),"true"===sessionStorage.getItem("sensicCrashReporting");a=100*Math.random(),sessionStorage.setItem("sensicCrashReporting",(s>a)+"")}else a=100*Math.random();return l(s>a),s>a}if(null===(i=null===window||void 0===window?void 0:window.gfkS2sConf)||void 0===i?void 0:i.crashReporting)return!1;var c=(null===window||void 0===window?void 0:window.extensionConfig)?"https://confluence-docu.gfk.com/pages/viewpage.action?pageId=102334502":"https://confluence-docu.gfk.com/display/SENSIC/Configuration+for+Websites";return u.Logger.warn("WARN: Crash reporting is disabled at the moment. Please consider its activation as documented here: ".concat(c)),!1}()?c?[2,c.enable()]:"undefined"==typeof navigator||"ReactNative"!==navigator.product?[3,2]:[4,Promise.resolve().then(function(){return i(n(5461))})]:[2];case 1:return e=t.sent(),c=new e.SentryLoggerImpl,[3,5];case 2:return"undefined"==typeof window?[3,4]:[4,Promise.resolve().then(function(){return i(n(4699))})];case 3:return e=t.sent(),c=new e.SentryLoggerImpl,[3,5];case 4:console.warn("SentryLogger: unknown platform, no-op."),c={enable:function(){},log:function(){}},t.label=5;case 5:return[2,c.enable()]}})})},t.logSentry=function(e,t){null==c||c.log(e,t)}},7051:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.S2sVmsConf=void 0;var n=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this[r]=e[r]}this.projectId=e.projectName};t.S2sVmsConf=n},7160:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RestrictionType=void 0,function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(t.RestrictionType||(t.RestrictionType={}))},7180:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StreamPositionManager=void 0;var r=n(4913),o=function(){function e(e){this.timeWithOffsetCallback=e}return e.prototype.setPlayType=function(e){this.playType=e},e.prototype.setStreamPositionCallback=function(e){this.streamPositionCallback=e},e.prototype.getCurrentStreamPosition=function(){var e=0;switch(this.playType){case"live":e=this.getCurrentStreamPositionLive();break;case"ondemand":e=this.getCurrentStreamPositionOnDemand()}return e},e.prototype.getCurrentStreamPositionLive=function(){return this.timeWithOffsetCallback()},e.prototype.getCurrentStreamPositionOnDemand=function(){var e=0;try{e=this.streamPositionCallback()}catch(e){throw new Error("Error while executing stream position callback: "+e.message)}if("number"!=typeof e||e<0)throw new Error("Stream position must be a positive milliseconds value, but is ".concat(e,"."));return r.Logger.output("Stream position: ".concat(r.Logger.formatDuration(e)," (").concat(e,")"),"log"),e},e}();t.StreamPositionManager=o},7436:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RequestVisibility=void 0;var i=function(e){function t(){return e.call(this,"VB")||this}return o(t,e),Object.defineProperty(t.prototype,"visibility",{set:function(e){this.fields.vb=e},enumerable:!1,configurable:!0}),t}(n(9777).RequestBase);t.RequestVisibility=i},7548:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EventScreen=void 0;var i=function(e){function t(n,r,o,i,s,a,u,c){var l=e.call(this,n,r,o,s,i,a,c,t.instance)||this;return l.sScreen=u,l}return o(t,e),Object.defineProperty(t.prototype,"screen",{get:function(){return this.sScreen},enumerable:!1,configurable:!0}),t.instance="EventScreen",t}(n(185).EventBase);t.EventScreen=i},7743:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EventSkip=void 0;var i=function(e){function t(n,r,o,i,s,a,u){return e.call(this,n,r,o,s,i,a,u,t.instance)||this}return o(t,e),t.instance="EventSkip",t}(n(185).EventBase);t.EventSkip=i},7780:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Segment=void 0;var n=function(){function e(e,t,n,r,o){this.iStateItemNumber=e,this.iSegmentNumber=t,this.iStreamPosition=n,this.sPresentationId=r,this.iSegmentDuration=o}return Object.defineProperty(e.prototype,"presentationId",{get:function(){return this.sPresentationId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"segmentNumber",{get:function(){return this.iSegmentNumber},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stateItemNumber",{get:function(){return this.iStateItemNumber},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"segmentDuration",{get:function(){return this.iSegmentDuration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"streamPosition",{get:function(){return this.iStreamPosition},enumerable:!1,configurable:!0}),e}();t.Segment=n},7910:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EventVolume=void 0;var i=function(e){function t(n,r,o,i,s,a,u,c){var l=e.call(this,n,r,o,s,i,a,c,t.instance)||this;return l.sVolume=u,l}return o(t,e),Object.defineProperty(t.prototype,"volume",{get:function(){return this.sVolume},enumerable:!1,configurable:!0}),t.instance="EventVolume",t}(n(185).EventBase);t.EventVolume=i},8018:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EventPlay=void 0;var s=n(185),a=i(n(202)),u=function(e){function t(n,r,o,i,s,u,c,l,p,d,f,h,g,y){var m=this,v="ondemand"===f?o:-1;return(m=e.call(this,n,v,c,p,l,d,u,t.instance)||this).fPlaybackSpeedMultiplier=a.default.playbackSpeedConverter(h.speed),m.sPlayType=f,m.sContentId=r,m.oOptions=h,m.sVisibility=g||"",m.oCustomParams=y||{},m.iStreamStartTime=0===i.length?u-s:Date.parse(i)-s,m}return o(t,e),Object.defineProperty(t.prototype,"playType",{get:function(){return this.sPlayType},set:function(e){this.sPlayType=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentId",{get:function(){return this.sContentId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.oOptions},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibility",{get:function(){return this.sVisibility},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customParams",{get:function(){return this.oCustomParams},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"streamStartTime",{get:function(){return this.iStreamStartTime},enumerable:!1,configurable:!0}),t.instance="EventPlay",t}(s.EventBase);t.EventPlay=u},8272:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.S2SAgent=void 0;var i=n(6938),s=n(9516),a=n(4913),u=o(n(202)),c=function(){function e(e,t,n,r){(window.gfkS2sConf=e,a.Logger.readFromTagConf(),i.S2SAgentParamChecks.validateTagConfig(e),void 0===r)&&(r=window.s2sSdkConfig);u.default.isBrowserContext()?this.processor=new s.Processor(e,r):this.processor=new s.Processor(e),"function"==typeof n&&this.setStreamPositionCallback(n)}return e.prototype.impression=function(e,t){var n="impression()";a.Logger.output("Triggered: "+n,"log","fcall",arguments),i.S2SAgentParamChecks.checkArgCount(arguments.length,2,n);var r={contentId:i.S2SAgentParamChecks.isStringAndNotEmpty(e,"contentId",n),customParams:i.S2SAgentParamChecks.areCustomParametersValid(t,"customParams",n)};return i.S2SAgentParamChecks.areParameterValid(r)&&this.processor.createEventImpression(e,t),r},e.prototype.playStreamLive=function(e,t,n,r,o,s){var u="playStreamLive()";a.Logger.output("Triggered: "+u,"log","fcall",arguments),i.S2SAgentParamChecks.checkArgCount(arguments.length,6,u);var c={contentId:i.S2SAgentParamChecks.isStringAndNotEmpty(e,"contentId",u),streamStart:i.S2SAgentParamChecks.isCorrectStreamStart(t,"streamStart",u),streamOffset:i.S2SAgentParamChecks.isCorrectStreamOffset(n,"streamOffset",u),streamId:i.S2SAgentParamChecks.isStringAndNotEmpty(r,"streamId",u),options:i.S2SAgentParamChecks.isPlayOptionsValid(o,"options",u,!1),customParams:i.S2SAgentParamChecks.areCustomParametersValid(s,"customParams",u)};return i.S2SAgentParamChecks.areParameterValid(c)&&this.processor.createEventPlayLive(e,t,n,r,o,s),c},e.prototype.playLive=function(e,t,n,r,o,s,a){i.S2SAgentParamChecks.checkArgCount(arguments.length,7,"playLive()");var u={screen:o,volume:s};return this.playStreamLive(e,t,n,r,u,a)},e.prototype.playStreamOnDemand=function(e,t,n,o,s){var u,c="playStreamOnDemand()";if(a.Logger.output("Triggered: "+c,"log","fcall",arguments),"number"==typeof n){i.S2SAgentParamChecks.checkArgCount(arguments.length,5,c);var l=r(r({},o),{position:n}),p=s;u={contentId:i.S2SAgentParamChecks.isStringAndNotEmpty(e,"contentId",c),streamId:i.S2SAgentParamChecks.isStringAndNotEmpty(t,"streamId",c),options:i.S2SAgentParamChecks.isPlayOptionsValid(l,"options",c,!0),customParams:i.S2SAgentParamChecks.areCustomParametersValid(p,"customParams",c)},i.S2SAgentParamChecks.areParameterValid(u)&&this.processor.createEventPlayOnDemand(e,t,l,p)}else{i.S2SAgentParamChecks.checkArgCount(arguments.length,4,c);l=n,p=o;u={contentId:i.S2SAgentParamChecks.isStringAndNotEmpty(e,"contentId",c),streamId:i.S2SAgentParamChecks.isStringAndNotEmpty(t,"streamId",c),options:i.S2SAgentParamChecks.isPlayOptionsValid(l,"options",c,!0),customParams:i.S2SAgentParamChecks.areCustomParametersValid(p,"customParams",c)},i.S2SAgentParamChecks.areParameterValid(u)&&this.processor.createEventPlayOnDemand(e,t,l,p)}return u},e.prototype.playVOD=function(e,t,n,r,o){i.S2SAgentParamChecks.checkArgCount(arguments.length,5,"playVOD()");var s={screen:n,volume:r};return this.playStreamOnDemand(e,t,s,o)},e.prototype.stop=function(e){return a.Logger.output("Triggered: stop()","log","fcall",e),{stop:this.processor.createEventStop(e)}},e.prototype.skip=function(e){return a.Logger.output("Triggered: skip()","log","fcall"),{skip:this.processor.createEventSkip(e)}},e.prototype.volume=function(e){var t="volume()";a.Logger.output("Triggered: "+t,"log","fcall",e),i.S2SAgentParamChecks.checkArgCount(arguments.length,1,t);var n={volume:i.S2SAgentParamChecks.isStringAndNotEmpty(e,"volume",t)};return this.processor.isPlaying()&&this.processor.createEventVolume(e),n},e.prototype.screen=function(e){var t="screen()";a.Logger.output("Triggered: "+t,"log","fcall",e),i.S2SAgentParamChecks.checkArgCount(arguments.length,1,t);var n={screen:i.S2SAgentParamChecks.isStringAndNotEmpty(e,"screen",t)};return this.processor.isPlaying()&&this.processor.createEventScreen(e),n},e.prototype.setStreamPositionCallback=function(e){this.processor.setStreamPositionCallback(e)},e.prototype.setExtensionVersion=function(e){this.processor.setExtensionVersion(e)},e}();t.S2SAgent=c},8459:function(__unused_webpack_module,exports,__webpack_require__){var __spreadArray=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function applyPolyfills(){void 0===__webpack_require__.g.document&&(__webpack_require__.g.document={});var doc=__webpack_require__.g.document,toString,isArray,escMap,escFunc,escRE;"object"==typeof doc.body&&null!==doc.body&&void 0!==doc.body||(doc.body={}),"object"==typeof doc.body.style&&null!==doc.body.style||(doc.body.style={}),"function"!=typeof doc.body.appendChild&&(doc.body.appendChild=function(e){}),"function"!=typeof doc.body.removeChild&&(doc.body.removeChild=function(){}),Array.isArray(doc.body.childNodes)||(doc.body.childNodes=[]),"function"!=typeof doc.createElement&&(doc.createElement=function(e){return"script"===e?{src:"",async:!1,defer:!1}:"iframe"===e?{style:{}}:{}}),"function"!=typeof doc.all&&(doc.all=function(){return[]}),"function"!=typeof doc.attachEvent&&(doc.attachEvent=function(e,t){var n={},r=e.slice(2);n[r]||(n[r]=[]),n[r].push(t)}),"function"!=typeof doc.querySelector&&(doc.querySelector=function(){}),"function"!=typeof doc.querySelectorAll&&(doc.querySelectorAll=function(){return[]}),"function"!=typeof doc.getElementById&&(doc.getElementById=function(){return{}}),"function"!=typeof doc.getElementsByTagName&&(doc.getElementsByTagName=function(e){var t=[];if("div"===e)for(var n=0;n<3;n++)t.push({tagName:"div",innerHTML:"Div ".concat(n+1)});else if("span"===e)for(n=0;n<2;n++)t.push({tagName:"span",innerHTML:"Span ".concat(n+1)});else"script"===e&&t.push({tagName:"script",src:"https://demo-config-preproduction.sensic.net/s2s-web.js"});return t}),Object.getOwnPropertyDescriptor(doc,"cookie")||Object.defineProperty(doc,"cookie",{get:function(){return"string"==typeof this._cookie?this._cookie:""},set:function(e){this._cookie="string"==typeof e?e:""},configurable:!1,enumerable:!0}),"object"==typeof doc.currentScript&&null!==doc.currentScript||(doc.currentScript={src:""});try{Object.defineProperty(__webpack_require__.g.document,"cookie",{get:function(){return"string"==typeof this._cookie?this._cookie:""},set:function(e){this._cookie="string"==typeof e?e:""},configurable:!1,enumerable:!0})}catch(e){__webpack_require__.g.document.cookie=""}if(void 0===__webpack_require__.g.Node&&(__webpack_require__.g.Node=function(){},__webpack_require__.g.Node.prototype={}),void 0===__webpack_require__.g.Element&&(__webpack_require__.g.Element=function(){},__webpack_require__.g.Element.prototype=Object.create(__webpack_require__.g.Node.prototype)),void 0===__webpack_require__.g.HTMLElement&&(__webpack_require__.g.HTMLElement=function(){},__webpack_require__.g.HTMLElement.prototype=Object.create(__webpack_require__.g.Element.prototype)),void 0===__webpack_require__.g.Event&&(__webpack_require__.g.Event=function(e,t){this.type=e,this.bubbles=t&&t.bubbles,this.cancelable=t&&t.cancelable},__webpack_require__.g.Event.prototype={}),void 0===__webpack_require__.g.CustomEvent&&(__webpack_require__.g.CustomEvent=function(e,t){var n=new __webpack_require__.g.Event(e,t);return n.detail=t&&t.detail,n},__webpack_require__.g.CustomEvent.prototype=Object.create(__webpack_require__.g.Event.prototype)),void 0===__webpack_require__.g.window&&(__webpack_require__.g.window={}),"function"!=typeof __webpack_require__.g.window.setTimeout&&(__webpack_require__.g.window.setTimeout=setTimeout),"function"!=typeof __webpack_require__.g.window.clearTimeout&&(__webpack_require__.g.window.clearTimeout=clearTimeout),"function"!=typeof __webpack_require__.g.window.setInterval&&(__webpack_require__.g.window.setInterval=setInterval),"function"!=typeof __webpack_require__.g.window.clearInterval&&(__webpack_require__.g.window.clearInterval=clearInterval),"function"!=typeof __webpack_require__.g.window.fetch&&"function"==typeof fetch&&(__webpack_require__.g.window.fetch=fetch),"function"!=typeof __webpack_require__.g.window.WebSocket&&void 0!==__webpack_require__.g.WebSocket&&(__webpack_require__.g.window.WebSocket=__webpack_require__.g.WebSocket),void 0===__webpack_require__.g.window.name&&(__webpack_require__.g.window.name="sensic"),void 0===__webpack_require__.g.window.EventTarget&&(__webpack_require__.g.window.EventTarget=function(){}),void 0===__webpack_require__.g.window.eventListeners&&(__webpack_require__.g.window.eventListeners={}),"function"!=typeof __webpack_require__.g.window.addEventListener&&(__webpack_require__.g.window.addEventListener=function(e,t){__webpack_require__.g.window.eventListeners[e]||(__webpack_require__.g.window.eventListeners[e]=[]),__webpack_require__.g.window.eventListeners[e].push(t)}),"function"!=typeof __webpack_require__.g.window.removeEventListener&&(__webpack_require__.g.window.removeEventListener=function(e,t){__webpack_require__.g.window.eventListeners[e]&&(__webpack_require__.g.window.eventListeners[e]=__webpack_require__.g.window.eventListeners[e].filter(function(e){return e!==t}))}),"function"!=typeof __webpack_require__.g.window.postMessage&&(__webpack_require__.g.window.postMessage=function(e){var t={data:e};(__webpack_require__.g.window.eventListeners.message||[]).forEach(function(e){return e(t)})}),void 0===__webpack_require__.g.window.navigator&&(__webpack_require__.g.window.navigator={userAgent:"smarttv",platform:""}),void 0===__webpack_require__.g.window.parent&&(__webpack_require__.g.window.parent=__webpack_require__.g.window),"object"==typeof __webpack_require__.g.window.location&&null!==__webpack_require__.g.window.location||(__webpack_require__.g.window.location={_protocol:"https:",_href:"https://sensic.net",hostname:"",pathname:"",assign:null,host:"sensic.net",hash:""}),Object.getOwnPropertyDescriptor(__webpack_require__.g.window.location,"protocol")||Object.defineProperty(__webpack_require__.g.window.location,"protocol",{get:function(){return this._protocol||"https:"},set:function(e){this._protocol=e},configurable:!0,enumerable:!0}),Object.getOwnPropertyDescriptor(__webpack_require__.g.window.location,"href")||Object.defineProperty(__webpack_require__.g.window.location,"href",{get:function(){return this._href||"https://sensic.net"},set:function(e){this._href=e},configurable:!0,enumerable:!0}),"object"!=typeof __webpack_require__.g.window.localStorage&&(__webpack_require__.g.window.localStorage="object"==typeof __webpack_require__.g.localStorage?__webpack_require__.g.localStorage:{getItem:function(){return null},setItem:function(){},removeItem:function(){}}),"object"!=typeof __webpack_require__.g.window.sessionStorage&&(__webpack_require__.g.window.sessionStorage={getItem:function(){return null},setItem:function(){},removeItem:function(){}}),void 0===__webpack_require__.g.window.gfkS2sConf&&(__webpack_require__.g.window.gfkS2sConf={logLevel:"",media:"",optin:"",type:"",configUrl:""}),void 0===__webpack_require__.g.window.s2sVmsConf&&(__webpack_require__.g.window.s2sVmsConf={}),void 0===__webpack_require__.g.window.extensionConfig&&(__webpack_require__.g.window.extensionConfig={}),void 0===__webpack_require__.g.window.document&&(__webpack_require__.g.window.document=__webpack_require__.g.document),void 0===__webpack_require__.g.window.console&&(__webpack_require__.g.window.console=console),void 0===__webpack_require__.g.window.pm&&(__webpack_require__.g.window.pm={}),void 0===__webpack_require__.g.window.contentWindow&&(__webpack_require__.g.window.contentWindow=__webpack_require__.g.window),void 0===__webpack_require__.g.window.isBrowserContext&&(__webpack_require__.g.window.isBrowserContext=!1),void 0===__webpack_require__.g.window.Node&&(__webpack_require__.g.window.Node=__webpack_require__.g.Node),void 0===__webpack_require__.g.window.Element&&(__webpack_require__.g.window.Element=__webpack_require__.g.Element),void 0===__webpack_require__.g.window.HTMLElement&&(__webpack_require__.g.window.HTMLElement=__webpack_require__.g.HTMLElement),void 0===__webpack_require__.g.window.Event&&(__webpack_require__.g.window.Event=__webpack_require__.g.Event),void 0===__webpack_require__.g.window.CustomEvent&&(__webpack_require__.g.window.CustomEvent=__webpack_require__.g.CustomEvent),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");for(var n=this,r=0;r<n.length;r++)e.call(t,n[r],r,n)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),o=r.length>>>0;if(0===o)return-1;var i=0|t;if(i>=o)return-1;for(n=Math.max(i>=0?i:o-Math.abs(i),0);n<o;){if(n in r&&r[n]===e)return n;n++}return-1}),window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:(toString=Object.prototype.toString,isArray=Array.isArray||function(e){return"[object Array]"===toString.call(e)},escMap={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},escFunc=function(e){return escMap[e]||"\\u"+(e.charCodeAt(0)+65536).toString(16).substr(1)},escRE=/[\\"\u0000-\u001F\u2028\u2029]/g,function e(t){if(null==t)return"null";if("number"==typeof t)return isFinite(t)?t.toString():"null";if("boolean"==typeof t)return t.toString();if("object"==typeof t){if("function"==typeof t.toJSON)return e(t.toJSON());if(isArray(t)){for(var n="[",r=0;r<t.length;r++)n+=(r?", ":"")+e(t[r]);return n+"]"}if("[object Object]"===toString.call(t)){var o=[];for(var i in t)t.hasOwnProperty(i)&&o.push(e(i)+": "+e(t[i]));return"{"+o.join(", ")+"}"}}return'"'+t.toString().replace(escRE,escFunc)+'"'})}),"object"==typeof __webpack_require__.g.window.location&&null!==__webpack_require__.g.window.location&&(Object.getOwnPropertyDescriptor(__webpack_require__.g.window.location,"protocol")||Object.defineProperty(__webpack_require__.g.window.location,"protocol",{get:function(){return this._protocol||"https:"},set:function(e){this._protocol=e},configurable:!0,enumerable:!0}),Object.getOwnPropertyDescriptor(__webpack_require__.g.window.location,"href")||Object.defineProperty(__webpack_require__.g.window.location,"href",{get:function(){return this._href||"https://sensic.net"},set:function(e){this._href=e},configurable:!0,enumerable:!0})),"object"!=typeof __webpack_require__.g.URL&&"function"!=typeof __webpack_require__.g.URL&&(__webpack_require__.g.URL={}),"function"!=typeof __webpack_require__.g.URL.createObjectURL&&(__webpack_require__.g.URL.createObjectURL=function(e){return"string"==typeof e?e:""}),"function"!=typeof __webpack_require__.g.URL.revokeObjectURL&&(__webpack_require__.g.URL.revokeObjectURL=function(){}),void 0!==__webpack_require__.g.window&&("object"!=typeof __webpack_require__.g.window.URL&&"function"!=typeof __webpack_require__.g.window.URL&&(__webpack_require__.g.window.URL=__webpack_require__.g.URL),"function"!=typeof __webpack_require__.g.window.URL.createObjectURL&&(__webpack_require__.g.window.URL.createObjectURL=__webpack_require__.g.URL.createObjectURL),"function"!=typeof __webpack_require__.g.window.URL.revokeObjectURL&&(__webpack_require__.g.window.URL.revokeObjectURL=__webpack_require__.g.URL.revokeObjectURL)),"function"!=typeof __webpack_require__.g.URL||"function"!=typeof __webpack_require__.g.URLSearchParams){function t(e){var t=this;this._params={},"string"==typeof e?(e=e.replace(/^\?/,""))&&e.split("&").forEach(function(e){var n=e.split("="),r=n[0],o=n[1];r&&t.append(decodeURIComponent(r),decodeURIComponent(o||""))}):"object"==typeof e&&null!==e&&Object.keys(e).forEach(function(n){return t.append(n,e[n])})}function n(e){var t=e.match(/^(https?):\/\/([^\/?#]+)([^\s?#]*)?(\?[^#]*)?(#.*)?$/i);if(!t)throw new TypeError("Invalid URL");this.href=e,this.protocol=t[1]+":",this.host=t[2],this.hostname=t[2].split(":")[0],this.pathname=t[3]||"/",this.search=t[4]||"",this.hash=t[5]||"",this.origin=this.protocol+"//"+this.host,this.searchParams=new SimpleURLSearchParams_1(this.search),this.toString=function(){return this.href}}SimpleURLSearchParams_1.prototype.append=function(e,t){this._params[e]?this._params[e].push(t):this._params[e]=[t]},SimpleURLSearchParams_1.prototype.get=function(e){return this._params[e]?this._params[e][0]:null},SimpleURLSearchParams_1.prototype.toString=function(){var e=this,t=[];return Object.keys(this._params).forEach(function(n){e._params[n].forEach(function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})}),t.join("&")},__webpack_require__.g.URL=n,__webpack_require__.g.URLSearchParams=SimpleURLSearchParams_1,void 0!==__webpack_require__.g.window&&(__webpack_require__.g.window.URL=n,__webpack_require__.g.window.URLSearchParams=SimpleURLSearchParams_1)}!function(){if("function"==typeof __webpack_require__.g.setTimeout&&!__webpack_require__.g.setTimeout._isPolyfilledForArgs){var e=__webpack_require__.g.setTimeout;__webpack_require__.g.setTimeout=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return"function"==typeof t&&r.length>0?e(t.bind.apply(t,__spreadArray([void 0],r,!1)),n):e(t,n)},__webpack_require__.g.setTimeout._isPolyfilledForArgs=!0}if("function"==typeof __webpack_require__.g.setInterval&&!__webpack_require__.g.setInterval._isPolyfilledForArgs){var t=__webpack_require__.g.setInterval;__webpack_require__.g.setInterval=function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return"function"==typeof e&&r.length>0?t(e.bind.apply(e,__spreadArray([void 0],r,!1)),n):t(e,n)},__webpack_require__.g.setInterval._isPolyfilledForArgs=!0}}(),Object.getOwnPropertyDescriptor(__webpack_require__.g.document,"cookie")||Object.defineProperty(__webpack_require__.g.document,"cookie",{get:function(){return"string"==typeof this._cookie?this._cookie:""},set:function(e){this._cookie="string"==typeof e?e:""},configurable:!1,enumerable:!0})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyPolyfills=void 0,exports.applyPolyfills=applyPolyfills},8609:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EventImpression=void 0;var i=function(e){function t(n,r,o){var i=e.call(this,n,t.instance)||this;return i.sContentId=r,i.oCustomParams=o||{},i}return o(t,e),Object.defineProperty(t.prototype,"contentId",{get:function(){return this.sContentId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customParams",{get:function(){return this.oCustomParams},enumerable:!1,configurable:!0}),t.instance="EventImpression",t}(n(9436).EventACommon);t.EventImpression=i},8624:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventBuilder=void 0;var r=n(8018),o=n(5480),i=n(7743),s=n(7910),a=n(7548),u=n(8922),c=n(8609),l=n(3700),p=function(){function e(e){this.mediaId=e}return e.prototype.buildEventImpression=function(e,t){return new c.EventImpression(this.mediaId,e,t)},e.prototype.buildEventPlay=function(e,t,n,o,i,s,a,u,c){return new r.EventPlay(this.mediaId,i,e.streamPosition,t,n,o,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,s,a,u,c)},e.prototype.buildEventStop=function(e,t){return new o.EventStop(this.mediaId,e.streamPosition,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,t)},e.prototype.buildEventSkip=function(e,t){return new i.EventSkip(this.mediaId,e.streamPosition,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,t)},e.prototype.buildEventVolume=function(e,t,n){return new s.EventVolume(this.mediaId,e.streamPosition,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,t,n)},e.prototype.buildEventScreen=function(e,t,n){return new a.EventScreen(this.mediaId,e.streamPosition,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,t,n)},e.prototype.buildEventHeartbeat=function(e,t){return new u.EventHeartbeat(this.mediaId,e.streamPosition,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,t)},e.prototype.buildEventVisibility=function(e,t,n){return new l.EventVisibility(this.mediaId,e.streamPosition,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,t,n)},e}();t.EventBuilder=p},8826:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RequestPlay=void 0;var i=function(e){function t(){return e.call(this,"PL")||this}return o(t,e),Object.defineProperty(t.prototype,"contentId",{set:function(e){this.fields.c=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"streamPosition",{set:function(e){this.fields.sp=-1===e?"-1":Math.round(e/1e3).toString(),this.fields.vp=this.fields.sp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playbackSpeed",{set:function(e){this.fields.ps=e.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibility",{set:function(e){this.fields.vb=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{set:function(e){this.fields.sc=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volume",{set:function(e){this.fields.vo=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"instanceid",{set:function(e){this.fields.instanceid=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"origin",{set:function(e){this.fields.r=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userAgent",{set:function(e){this.fields.ua=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"language",{set:function(e){this.fields.l=e},enumerable:!1,configurable:!0}),t}(n(9777).RequestBase);t.RequestPlay=i},8922:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EventHeartbeat=void 0;var i=function(e){function t(n,r,o,i,s,a,u){return e.call(this,n,r,o,s,i,a,u,t.instance)||this}return o(t,e),t.instance="EventHeartbeat",t}(n(185).EventBase);t.EventHeartbeat=i},9144:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferHeartbeat=void 0;var i=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t}(n(6331).BufferBase);t.BufferHeartbeat=i},9192:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.S2SExtension=t.SensicEvent=void 0;var o,i=n(8272),s=n(4913),a=r(n(142)),u=n(200);!function(e){e.play="play",e.stop="stop",e.timeJump="timeJump",e.unknown="unknown"}(o=t.SensicEvent||(t.SensicEvent={}));var c=function(){function e(e,t,n,r,i){void 0===r&&(r={}),void 0===i&&(i=!1);var a=this;this.currentPosition=0,this.currentPlaybackSpeed=1,this.lastPlaybackSpeed=1,this.currentVolume=0,this.timerIntervalMs=500,this.lastPosition=0,this.lastEvent=o.unknown,this.customParams={},this.streamStart="",window.gfkS2sConf=t,s.Logger.readFromTagConf(),window.extensionConfig=new u.ExtensionConf,this.gfkS2sConf=t,this.stopSegmentBeforeClose(),i||(this.setPlayer(e),this.setParameter(n,r)),this.setAgent(),setInterval(function(){a.periodicTimeObserver()},this.timerIntervalMs),this.lastVolume=this.currentVolume}return Object.defineProperty(e.prototype,"videoPosition",{get:function(){return this.lastPosition||this.currentPosition},enumerable:!1,configurable:!0}),e.prototype.setAgent=function(){var e=this;this.agent=this.createAgent(function(){return e.videoPosition})},e.prototype.createAgent=function(e){var t=new i.S2SAgent(this.gfkS2sConf,"",e);return t.setExtensionVersion(window.extensionConfig.version),t},e.prototype.activateGoogleIMASupport=function(e){var t=this;this.googleIma=new a.default(e),this.adAgent=this.createAgent(function(){return t.googleIma.getAdCurrentPosition})},e.prototype.processAdPlayEvents=function(){if(this.googleIma&&this.googleIma.queuePlay.length>0){var e=this.googleIma.queuePlay.shift();this.adAgent.playStreamOnDemand("ad","".concat(this.streamId," ad"),e,{},this.customParams)}},e.prototype.processAdStopEvents=function(){if(this.googleIma&&this.googleIma.queueStop.length>0){var e=this.googleIma.queueStop.shift();this.adAgent.stop(e)}},e.prototype.stopAdAgent=function(){this.googleIma&&(this.googleIma.adRunning=!1,this.googleIma.queueStop.push(this.googleIma.getAdCurrentPosition))},e.prototype.isAdRunning=function(){return this.googleIma&&this.googleIma.adRunning},Object.defineProperty(e.prototype,"currentSrc",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackSpeed",{get:function(){return this.currentPlaybackSpeed},enumerable:!1,configurable:!0}),e.prototype.setStreamStart=function(e){e instanceof Date&&!isNaN(e.getTime())?this.streamStart=e.toISOString():"string"!=typeof e||isNaN(new Date(e).getTime())?this.streamStart="":this.streamStart=e},Object.defineProperty(e.prototype,"playbackRate",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return null},enumerable:!1,configurable:!0}),e.prototype.isBuffering=function(){return!1},e.prototype.isIdling=function(){return!1},Object.defineProperty(e.prototype,"currentTime",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.volumeChecker=function(){this.currentVolume=this.getVolume(),this.currentVolume!==this.lastVolume&&this.isPlaying()&&this.agent.volume(this.currentVolume.toString())},e.prototype.getVolume=function(){return null},e.prototype.isPlaying=function(){return!1},e.prototype.getStreamId=function(){return this.playerInstance&&this.currentSrc&&""!==this.currentSrc?this.currentSrc:Math.random().toString()},e.prototype.setParameter=function(e,t,n){this.streamId=this.getStreamId(),this.contentId=e,t&&(this.customParams=t),this.setStreamStart(n)},e.prototype.convertSecToMillisec=function(e){return Math.floor(1e3*e)},e.prototype.convertMillisecToSec=function(e){return Math.floor(e/1e3)},e.prototype.logger=function(e){s.Logger.output(e,"log","fcall")},e.prototype.lastValueSetter=function(){this.lastPlaybackSpeed=this.currentPlaybackSpeed,this.lastPosition=this.currentPosition,this.lastVolume=this.currentVolume},e.prototype.isHugeTimeJump=function(){return Math.abs(this.currentPosition-this.lastPosition)>=3*this.timerIntervalMs},e.prototype.stopSegmentBeforeClose=function(){var e=this;window.onbeforeunload=function(){e.lastEvent===o.play&&e.agent.stop(e.lastPosition)}},e.prototype.playStreamOnDemand=function(){this.agent.playStreamOnDemand(this.contentId,this.streamId,this.currentPosition,{volume:this.currentVolume.toString(),speed:this.currentPlaybackSpeed},this.customParams)},e.prototype.playbackSpeedChecker=function(){this.currentPlaybackSpeed=this.playbackRate,this.currentPlaybackSpeed!==this.lastPlaybackSpeed&&this.isPlaying()&&(this.logger("playback speed change detected"),this.lastPlaybackSpeed=this.currentPlaybackSpeed,this.agent.stop(this.lastPosition),this.playStreamOnDemand())},e.prototype.setPlayer=function(e){this.playerInstance=e,this.streamId=this.getStreamId(),this.currentVolume=e?this.getVolume():this.currentVolume},e.prototype.periodicTimeObserver=function(){if(this.processAdStopEvents(),this.playerInstance){if((this.isBuffering()||this.isIdling())&&!this.isAdRunning())return;this.currentPosition=this.convertSecToMillisec(this.currentTime),this.playbackSpeedChecker(),this.volumeChecker(),this.isHugeTimeJump()&&this.lastEvent==o.play&&!this.isAdRunning()?(this.logger("huge time jump happened"),this.agent.stop(this.lastPosition),this.lastEvent=o.timeJump):this.lastEvent==o.play&&this.convertSecToMillisec(this.duration)<=this.currentPosition&&!this.isAdRunning()?(this.logger("video ended"),this.agent.stop(),this.lastEvent=o.stop):this.lastEvent==o.timeJump&&this.isPlaying()?(this.logger("start after huge jump"),this.playStreamOnDemand(),this.lastEvent=o.play):this.lastPlayerStatusWasPlaying!==this.isPlaying()&&(this.logger("last player state was not play"),this.lastEvent==o.play?(this.logger("last player state was not play -> last event state was play"),this.agent.stop(),this.lastEvent=o.stop):this.isPlaying()&&(this.logger("last player state was not play -> else"),this.playStreamOnDemand(),this.lastEvent=o.play)),this.lastValueSetter(),this.lastPlayerStatusWasPlaying=this.isPlaying()}else this.lastEvent===o.play?(this.logger("player instance undefined"),this.agent.stop(),this.lastEvent=o.stop):this.isAdRunning()&&!this.googleIma&&(this.logger("player instance undefined stopping ad"),this.stopAdAgent());this.processAdPlayEvents()},e.prototype.playLiveStream=function(){this.agent.playStreamLive(this.contentId,this.streamStart,this.streamOffset,this.streamId,{volume:this.getVolume().toString(),speed:this.currentPlaybackSpeed},this.customParams)},e.prototype.stopLiveSegmentBeforeClose=function(){var e=this;window.onbeforeunload=function(){e.lastEvent===o.play&&e.agent.stop()}},e.prototype.livePeriodicTimeObserver=function(){if(this.processAdStopEvents(),this.playerInstance){if((this.isBuffering()||this.isIdling())&&!this.isAdRunning())return void(this.isBuffering()&&this.lastEvent===o.play&&(this.agent.stop(),this.lastEvent=o.stop,this.lastPlayerStatusWasPlaying=!1));this.currentPosition=this.convertSecToMillisec(this.currentTime),this.playbackSpeedChecker(),this.volumeChecker(),this.isHugeTimeJump()&&this.lastEvent==o.play?(s.Logger.output("huge time jump happened"),this.agent.stop(),this.lastEvent=o.timeJump):this.lastEvent==o.timeJump&&this.isPlaying()?(s.Logger.info("start after huge jump"),this.playLiveStream(),this.lastEvent=o.play):this.lastPlayerStatusWasPlaying!==this.isPlaying()&&(s.Logger.info("last player state was not play"),this.lastEvent==o.play?(this.agent.stop(),this.lastEvent=o.stop):this.isPlaying()&&(s.Logger.info("last player state was not play -> else"),this.playLiveStream(),this.lastEvent=o.play)),this.lastValueSetter(),this.lastPlayerStatusWasPlaying=this.isPlaying()}else this.lastEvent===o.play?(this.logger("player instance undefined"),this.agent.stop(),this.lastEvent=o.stop):this.isAdRunning()&&!this.googleIma&&(this.logger("player instance undefined stopping ad"),this.stopAdAgent());this.processAdPlayEvents()},e}();t.S2SExtension=c},9316:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.COOKIE_NAME=void 0;var r=n(5566),o=n(4972);t.COOKIE_NAME="sui_1pc",t.default=function(){if(!r.GfkHelpers.getCookie(t.COOKIE_NAME)){var e=(0,o.generateId)();r.GfkHelpers.setCookie(t.COOKIE_NAME,e,{sameSite:"Lax"})}return r.GfkHelpers.getCookie(t.COOKIE_NAME)}},9436:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EventACommon=void 0;var n=function(){function e(e,t){this.sMediaId=e,this.sInstance=t}return Object.defineProperty(e.prototype,"mediaId",{get:function(){return this.sMediaId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return this.sInstance},enumerable:!1,configurable:!0}),e}();t.EventACommon=n},9487:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Md5=void 0;var n=function(){function e(){}return e.prototype.hash=function(e){var t,n,r,o,i,s,a,u,c,l;for(e=this.Utf8Encode(e),t=this.ConvertToWordArray(e),a=1732584193,u=4023233417,c=2562383102,l=271733878,n=0;n<t.length;n+=16)r=a,o=u,i=c,s=l,a=this.FF(a,u,c,l,t[n+0],7,3614090360),l=this.FF(l,a,u,c,t[n+1],12,3905402710),c=this.FF(c,l,a,u,t[n+2],17,606105819),u=this.FF(u,c,l,a,t[n+3],22,3250441966),a=this.FF(a,u,c,l,t[n+4],7,4118548399),l=this.FF(l,a,u,c,t[n+5],12,1200080426),c=this.FF(c,l,a,u,t[n+6],17,2821735955),u=this.FF(u,c,l,a,t[n+7],22,4249261313),a=this.FF(a,u,c,l,t[n+8],7,1770035416),l=this.FF(l,a,u,c,t[n+9],12,2336552879),c=this.FF(c,l,a,u,t[n+10],17,4294925233),u=this.FF(u,c,l,a,t[n+11],22,2304563134),a=this.FF(a,u,c,l,t[n+12],7,1804603682),l=this.FF(l,a,u,c,t[n+13],12,4254626195),c=this.FF(c,l,a,u,t[n+14],17,2792965006),u=this.FF(u,c,l,a,t[n+15],22,1236535329),a=this.GG(a,u,c,l,t[n+1],5,4129170786),l=this.GG(l,a,u,c,t[n+6],9,3225465664),c=this.GG(c,l,a,u,t[n+11],14,643717713),u=this.GG(u,c,l,a,t[n+0],20,3921069994),a=this.GG(a,u,c,l,t[n+5],5,3593408605),l=this.GG(l,a,u,c,t[n+10],9,38016083),c=this.GG(c,l,a,u,t[n+15],14,3634488961),u=this.GG(u,c,l,a,t[n+4],20,3889429448),a=this.GG(a,u,c,l,t[n+9],5,568446438),l=this.GG(l,a,u,c,t[n+14],9,3275163606),c=this.GG(c,l,a,u,t[n+3],14,4107603335),u=this.GG(u,c,l,a,t[n+8],20,1163531501),a=this.GG(a,u,c,l,t[n+13],5,2850285829),l=this.GG(l,a,u,c,t[n+2],9,4243563512),c=this.GG(c,l,a,u,t[n+7],14,1735328473),u=this.GG(u,c,l,a,t[n+12],20,2368359562),a=this.HH(a,u,c,l,t[n+5],4,4294588738),l=this.HH(l,a,u,c,t[n+8],11,2272392833),c=this.HH(c,l,a,u,t[n+11],16,1839030562),u=this.HH(u,c,l,a,t[n+14],23,4259657740),a=this.HH(a,u,c,l,t[n+1],4,2763975236),l=this.HH(l,a,u,c,t[n+4],11,1272893353),c=this.HH(c,l,a,u,t[n+7],16,4139469664),u=this.HH(u,c,l,a,t[n+10],23,3200236656),a=this.HH(a,u,c,l,t[n+13],4,681279174),l=this.HH(l,a,u,c,t[n+0],11,3936430074),c=this.HH(c,l,a,u,t[n+3],16,3572445317),u=this.HH(u,c,l,a,t[n+6],23,76029189),a=this.HH(a,u,c,l,t[n+9],4,3654602809),l=this.HH(l,a,u,c,t[n+12],11,3873151461),c=this.HH(c,l,a,u,t[n+15],16,530742520),u=this.HH(u,c,l,a,t[n+2],23,3299628645),a=this.II(a,u,c,l,t[n+0],6,4096336452),l=this.II(l,a,u,c,t[n+7],10,1126891415),c=this.II(c,l,a,u,t[n+14],15,2878612391),u=this.II(u,c,l,a,t[n+5],21,4237533241),a=this.II(a,u,c,l,t[n+12],6,1700485571),l=this.II(l,a,u,c,t[n+3],10,2399980690),c=this.II(c,l,a,u,t[n+10],15,4293915773),u=this.II(u,c,l,a,t[n+1],21,2240044497),a=this.II(a,u,c,l,t[n+8],6,1873313359),l=this.II(l,a,u,c,t[n+15],10,4264355552),c=this.II(c,l,a,u,t[n+6],15,2734768916),u=this.II(u,c,l,a,t[n+13],21,1309151649),a=this.II(a,u,c,l,t[n+4],6,4149444226),l=this.II(l,a,u,c,t[n+11],10,3174756917),c=this.II(c,l,a,u,t[n+2],15,718787259),u=this.II(u,c,l,a,t[n+9],21,3951481745),a=this.AddUnsigned(a,r),u=this.AddUnsigned(u,o),c=this.AddUnsigned(c,i),l=this.AddUnsigned(l,s);return(this.WordToHex(a)+this.WordToHex(u)+this.WordToHex(c)+this.WordToHex(l)).toLowerCase()},e.prototype.RotateLeft=function(e,t){return e<<t|e>>>32-t},e.prototype.AddUnsigned=function(e,t){var n=2147483648&e,r=2147483648&t,o=1073741824&e,i=1073741824&t,s=(1073741823&e)+(1073741823&t);return o&i?2147483648^s^n^r:o|i?1073741824&s?3221225472^s^n^r:1073741824^s^n^r:s^n^r},e.prototype.F=function(e,t,n){return e&t|~e&n},e.prototype.G=function(e,t,n){return e&n|t&~n},e.prototype.H=function(e,t,n){return e^t^n},e.prototype.I=function(e,t,n){return t^(e|~n)},e.prototype.FF=function(e,t,n,r,o,i,s){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.F(t,n,r),o),s)),this.AddUnsigned(this.RotateLeft(e,i),t)},e.prototype.GG=function(e,t,n,r,o,i,s){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.G(t,n,r),o),s)),this.AddUnsigned(this.RotateLeft(e,i),t)},e.prototype.HH=function(e,t,n,r,o,i,s){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.H(t,n,r),o),s)),this.AddUnsigned(this.RotateLeft(e,i),t)},e.prototype.II=function(e,t,n,r,o,i,s){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.I(t,n,r),o),s)),this.AddUnsigned(this.RotateLeft(e,i),t)},e.prototype.ConvertToWordArray=function(e){for(var t,n=e.length,r=n+8,o=16*((r-r%64)/64+1),i=Array(o-1),s=0,a=0;a<n;)s=a%4*8,i[t=(a-a%4)/4]=i[t]|e.charCodeAt(a)<<s,a++;return s=a%4*8,i[t=(a-a%4)/4]=i[t]|128<<s,i[o-2]=n<<3,i[o-1]=n>>>29,i},e.prototype.WordToHex=function(e){var t,n="",r="";for(t=0;t<=3;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n},e.prototype.Utf8Encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},e}();t.Md5=n},9516:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Processor=void 0;var o=n(9624),i=n(154),s=n(4872),a=n(2120),u=n(7180),c=n(9736),l=n(4913),p=n(4661),d=n(6467),f=r(n(202)),h=function(){function e(e,t){this.heartbeatInvalidator=new p.HeartbeatInvalidator,this.sdkFullyLoaded=!1,this.collector=new s.Collector(e),this.streamPositionManager=new u.StreamPositionManager(s.Collector.getTimeWithOffset),f.default.isBrowserContext()?this.initializeInBrowserContext(e,t):this.initializeInNonBrowserContext(e)}return e.prototype.initializeInNonBrowserContext=function(e){var t=this;this.bufferBuilder=new i.BufferBuilder,this.bufferStorage=[],this.collector.loadConfig(e.configUrl,function(n,r){r&&(t.setupCommonComponents(e,n),t.sdkFullyLoaded=!0,t.flushStorageQueue())})},e.prototype.initializeInBrowserContext=function(e,t){var n=this;this.sdkFullyLoaded=!0,this.collector.loadConfig("",function(r,o){n.setupCommonComponents(e,t)})},e.prototype.setupCommonComponents=function(e,t){var n=this;this.builder=new o.Builder(e.media,this.collector),this.transmitter=new d.ExpBackoffTransmitter(t.trackingUrl),this.heartbeat=new a.Heartbeat(function(){l.Logger.output("Triggered: HB","log","fcall"),n.createEventHeartbeat()},t.heartbeat),this.itemValidator=new c.ItemValidator(this.heartbeat)},e.prototype.useStreamPositionCallbackBufferBuilder=function(){var e=this.streamPositionManager.getCurrentStreamPosition;this.bufferBuilder.setStreamPositionCallback(e)},e.prototype.setStreamPositionCallback=function(e){this.streamPositionManager.setStreamPositionCallback(e)},e.prototype.isPlaying=function(){return!this.builder.getSegmentBuilder().isSegmentStopped()},e.prototype.flushStorageQueue=function(){this.bufferBuilder.mergeBufferEvents(this.bufferStorage,this),this.bufferStorage=[]},e.prototype.createEventImpression=function(e,t){if(this.sdkFullyLoaded)try{var n=this.builder.getEventBuilder().buildEventImpression(e,t),r=this.builder.getRequestBuilder().buildRequest(n);this.send(r)}catch(e){l.Logger.output("Error in impression event: "+e.message,"error")}else{var o=this.bufferBuilder.buildBufferImpression(e,t);this.bufferStorage.push(o)}},e.prototype.createEventPlayLive=function(e,t,n,r,o,i,a,u){try{if(this.sdkFullyLoaded){this.streamPositionManager.setPlayType("live");var c=null!=a?a:this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.start(c);var p=this.builder.getSegmentBuilder().createSegmentStarting(n,r,c,f.default.playbackSpeedConverter(o.speed),"live");this.heartbeat.start();var d=u||s.Collector.getTimeWithOffset(),h=this.builder.getEventBuilder().buildEventPlay(p,t,n,d,e,"live",o,"",i),g=this.builder.getRequestBuilder().buildRequest(h);this.send(g)}else{this.useStreamPositionCallbackBufferBuilder();var y=this.bufferBuilder.buildBufferPlay(e,r,n,o,i,t,u,"live");this.bufferStorage.push(y)}}catch(e){l.Logger.output("Error in play (live) event: "+e.message,"error")}},e.prototype.createEventPlayOnDemand=function(e,t,n,r,o,i){var a;try{if(this.sdkFullyLoaded||f.default.isBrowserContext()){this.streamPositionManager.setPlayType("ondemand");var u=null!==(a=null!=o?o:n.position)&&void 0!==a?a:this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.start(u);var c=this.builder.getSegmentBuilder().createSegmentStarting(0,t,u,f.default.playbackSpeedConverter(n.speed),"ondemand");this.heartbeat.start();var p=i||s.Collector.getTimeWithOffset(),d=this.builder.getEventBuilder().buildEventPlay(c,"",0,p,e,"ondemand",n,"",r),h=this.builder.getRequestBuilder().buildRequest(d);this.send(h)}else{this.useStreamPositionCallbackBufferBuilder();var g=this.bufferBuilder.buildBufferPlay(e,t,0,n,r,"",i,"ondemand");this.bufferStorage.push(g)}}catch(e){l.Logger.output("Error in play (on demand) event: "+e.message,"error")}},e.prototype.createEventStop=function(e,t){var n=!1;if(this.sdkFullyLoaded||f.default.isBrowserContext()){try{var r=null!=e?e:this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.validate(r);var o=this.builder.getSegmentBuilder().createSegmentStopping(r),i=t||s.Collector.getTimeWithOffset(),a=this.builder.getEventBuilder().buildEventStop(o,i),u=this.builder.getRequestBuilder().buildRequest(a);this.send(u),n=!0,this.itemValidator.updateLastPosition(r)}catch(e){l.Logger.output("Error in stop event: "+e.message,"error")}this.heartbeat.stop()}else{var c=this.bufferBuilder.buildBufferStop(t);this.bufferStorage.push(c)}return n},e.prototype.createEventSkip=function(e,t){var n=!1;if(this.sdkFullyLoaded||f.default.isBrowserContext()){try{var r=null!=e?e:this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.validate(r);var o=this.builder.getSegmentBuilder().createSegmentStopping(r),i=t||s.Collector.getTimeWithOffset(),a=this.builder.getEventBuilder().buildEventSkip(o,i),u=this.builder.getRequestBuilder().buildRequest(a);this.send(u),n=!0,this.itemValidator.updateLastPosition(r)}catch(e){l.Logger.output("Error in skip event: "+e.message,"error")}this.heartbeat.stop()}else{var c=this.bufferBuilder.buildBufferSkip(t);this.bufferStorage.push(c)}return n},e.prototype.createEventHeartbeat=function(e,t){try{if(this.sdkFullyLoaded||f.default.isBrowserContext()){var n=null!=e?e:this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.validate(n);var r=this.builder.getSegmentBuilder().createSegmentRunning(n,!0),o=s.Collector.getTimeWithOffset(),i=this.builder.getEventBuilder().buildEventHeartbeat(r,o),a=this.builder.getRequestBuilder().buildRequest(i);this.send(a),this.heartbeatInvalidator.onNewHeartbeatGenerated(a),this.itemValidator.updateLastPosition(n)}else{var u=this.bufferBuilder.buildBufferHeartbeat(t);this.bufferStorage.push(u)}}catch(e){l.Logger.output("Error in heartbeat event: "+e.message,"error")}},e.prototype.createEventVisibility=function(e){try{var t=this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.validate(t);var n=this.builder.getSegmentBuilder().createSegmentRunning(t,!1),r=s.Collector.getTimeWithOffset(),o=this.builder.getEventBuilder().buildEventVisibility(n,e,r),i=this.builder.getRequestBuilder().buildRequest(o);this.send(i),this.itemValidator.updateLastPosition(t)}catch(e){l.Logger.output("Error in visibility event: "+e.message,"error")}},e.prototype.createEventScreen=function(e,t,n){try{if(this.sdkFullyLoaded||f.default.isBrowserContext()){var r=null!=t?t:this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.validate(r);var o=this.builder.getSegmentBuilder().createSegmentRunning(r,!0),i=n||s.Collector.getTimeWithOffset(),a=this.builder.getEventBuilder().buildEventScreen(o,e,i),u=this.builder.getRequestBuilder().buildRequest(a);this.send(u),this.itemValidator.updateLastPosition(r)}else{var c=this.bufferBuilder.buildBufferScreen(e,n);this.bufferStorage.push(c)}}catch(e){l.Logger.output("Error in screen event: "+e.message,"error")}},e.prototype.createEventVolume=function(e,t,n){try{if(this.sdkFullyLoaded||f.default.isBrowserContext()){var r=null!=t?t:this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.validate(r);var o=this.builder.getSegmentBuilder().createSegmentRunning(r,!0),i=n||s.Collector.getTimeWithOffset(),a=this.builder.getEventBuilder().buildEventVolume(o,e,i),u=this.builder.getRequestBuilder().buildRequest(a);this.send(u),this.itemValidator.updateLastPosition(r)}else{var c=this.bufferBuilder.buildBufferVolume(e,n);this.bufferStorage.push(c)}}catch(e){l.Logger.output("Error in volume event: "+e.message,"error")}},e.prototype.isProjectEnabled=function(){return!0===this.collector.getProjectStatus()},e.prototype.send=function(e){this.isProjectEnabled()&&this.transmitter.sendRequest(e)},e.prototype.setExtensionVersion=function(e){this.collector.setExtensionVersion(e)},e}();t.Processor=h},9624:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Builder=void 0;var r=n(8624),o=n(3935),i=n(5487),s=function(){function e(e,t){this.eventBuilder=new r.EventBuilder(e),this.segmentBuilder=new o.SegmentBuilder(t.getSegmentSettings()),this.requestBuilder=new i.RequestBuilder(t)}return e.prototype.getSegmentBuilder=function(){return this.segmentBuilder},e.prototype.getEventBuilder=function(){return this.eventBuilder},e.prototype.getRequestBuilder=function(){return this.requestBuilder},e}();t.Builder=s},9736:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ItemValidator=void 0;var r=n(4913),o=function(){function e(e){this.skipAllAfterValidationError=!1,this.lastPosition=0,this.heartbeat=e}return e.prototype.start=function(e){if(e<0)throw this.skipAllAfterValidationError=!0,new Error("Position must be >= 0.");this.skipAllAfterValidationError=!1,this.lastPosition=e},e.prototype.validate=function(e){if(this.skipAllAfterValidationError)throw new Error("Event skipped after validation error! #noreport");if(e<this.lastPosition)throw new Error("Current position (".concat(e,") is less than last position (").concat(this.lastPosition,"). #noreport"));this.heartbeat.isHeartbeatActive()&&this.skipIfItemIntervalLargerThanHbInterval(e)},e.prototype.updateLastPosition=function(e){this.lastPosition=e},e.prototype.skipIfItemIntervalLargerThanHbInterval=function(t){var n=t-this.lastPosition,o=1e3*(this.heartbeat.getMaxHeartbeatInterval()+e.toleranceSeconds);if(n>o){this.heartbeat.stop(),this.skipAllAfterValidationError=!0;var i="Time interval since last segment is ".concat(n," ms, should be < ").concat(o," ms.");throw i+=" Last: ".concat(this.lastPosition,", current: ").concat(t,"."),r.Logger.output(i,"error"),new Error(i)}},e.toleranceSeconds=30,e}();t.ItemValidator=o},9777:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.RequestBase=void 0;var i=function(e){function t(t){return e.call(this,t)||this}return o(t,e),Object.defineProperty(t.prototype,"presentationId",{get:function(){return this.fields.pr},set:function(e){this.fields.pr=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requestNumber",{set:function(e){this.fields.rn=e.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"segmentNumber",{get:function(){return parseInt(this.fields.sn,10)},set:function(e){this.fields.sn=e.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"segmentDuration",{set:function(e){this.fields.sd=Math.round(e/1e3).toString(),this.fields.vt=this.fields.sd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"streamTime",{set:function(e){this.fields.st=Math.round(e/1e3).toString(),this.fields.ct=this.fields.st},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"usageTime",{set:function(e){this.fields.ut=Math.round(e/1e3).toString()},enumerable:!1,configurable:!0}),t}(n(2276).RequestACommon);t.RequestBase=i}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var __webpack_exports__={},_S2SExtension__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5348);class HTML5VODExtension extends _S2SExtension__WEBPACK_IMPORTED_MODULE_0__.G{constructor(e,t,n,r={}){super(e,t,n,r),this.logger("Sensic HTML5 player extension initialized")}getVolume(){return this.playerInstance.muted?0:Math.round(100*this.playerInstance.volume)}isPlaying(){return!this.playerInstance.paused}get playbackRate(){return this.playerInstance.playbackRate}get currentSrc(){return this.playerInstance.currentSrc}get duration(){return this.playerInstance.duration}isBuffering(){return 0===this.playerInstance.buffered.length&&!isNaN(this.duration)}isIdling(){return 0===this.playerInstance.played.length&&!isNaN(this.duration)}get currentTime(){return this.playerInstance.currentTime}get streamOffset(){return 0}}window.gfkS2sExtension||(window.gfkS2sExtension={}),window.gfkS2sExtension.HTML5VODExtension=HTML5VODExtension})();
//# sourceMappingURL=html5vodextension.js.map