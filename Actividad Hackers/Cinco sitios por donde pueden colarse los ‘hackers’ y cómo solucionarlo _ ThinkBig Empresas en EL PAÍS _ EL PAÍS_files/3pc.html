<!DOCTYPE html>
<!-- saved from url=(0037)https://es-config.sensic.net/3pc.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>3pc</title><meta name="viewport" content="width=device-width,initial-scale=1"><script>(function(){"use strict";var __webpack_modules__={101:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.W3CLiveExtension=void 0;const r=n(3414);class i extends r.W3CVODExtension{hls;constructor(e,t,n,r={},i){super(e,t,n,r),this.hls=i}setAgent(){this.agent=this.createAgent(null)}playbackSpeedChecker(){this.currentPlaybackSpeed=this.playerInstance.playbackRate,this.currentPlaybackSpeed!==this.lastPlaybackSpeed&&this.isPlaying()&&(this.lastPlaybackSpeed=this.currentPlaybackSpeed,this.agent.stop(),this.playLiveStream())}periodicTimeObserver(){this.livePeriodicTimeObserver()}stopSegmentBeforeClose(){this.stopLiveSegmentBeforeClose()}get streamOffset(){let e;return"number"==typeof this.hls?.streamController?.liveSyncPosition&&"number"==typeof this.hls?.streamController?.lastCurrentTime?(e=this.hls.streamController.fragCurrent?.endPTS?this.hls.streamController.fragCurrent.endPTS-this.hls.streamController.lastCurrentTime:this.hls.streamController.liveSyncPosition-this.hls.streamController.lastCurrentTime,e=1e3*Math.abs(Math.floor(e))):e=0,e}}t.W3CLiveExtension=i},142:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{adsManager;adRunning=!1;currentAdPosition=0;queuePlay=[];queueStop=[];constructor(e){this.adsManager=e,this.addEvents()}get getAdCurrentPosition(){return this.currentAdPosition}onResume(){this.adRunning=!0,this.queuePlay.push(this.currentAdPosition)}onPause(){this.adRunning=!1,this.queueStop.push(this.currentAdPosition)}onAdProgress(e){this.currentAdPosition=this.convertSecToMillisec(e.getAdData().currentTime)}onContentPauseRequested(){this.adRunning=!0}onComplete(){this.adRunning=!1,this.queueStop.push(this.currentAdPosition)}onSkipped(){this.adRunning=!1,this.queueStop.push(this.currentAdPosition)}onStarted(){this.adRunning=!0,this.queuePlay.push(0)}addEvents(){this.adsManager.addEventListener("contentPauseRequested",()=>this.onContentPauseRequested()),this.adsManager.addEventListener("adProgress",e=>this.onAdProgress(e)),this.adsManager.addEventListener("resume",()=>this.onResume()),this.adsManager.addEventListener("pause",()=>this.onPause()),this.adsManager.addEventListener("complete",()=>this.onComplete()),this.adsManager.addEventListener("start",()=>this.onStarted()),this.adsManager.addEventListener("skip",()=>this.onSkipped())}convertSecToMillisec(e){return Math.floor(1e3*e)}}},154:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferBuilder=void 0;const r=n(4913),i=n(1516),s=n(5015),o=n(2650),a=n(2425),u=n(6206),c=n(1024),l=n(9144);t.BufferBuilder=class{streamPositionCallback;setStreamPositionCallback(e){this.streamPositionCallback=e}buildBufferImpression(e,t){return new s.BufferImpression(e,t)}buildBufferPlay(e,t,n,r,s,o,a,u){return new i.BufferPlay(e,n,t,r,s,this.streamPositionCallback(),o,a,u)}buildBufferStop(e){return new o.BufferStop(this.streamPositionCallback(),e)}buildBufferHeartbeat(e){return new l.BufferHeartbeat(this.streamPositionCallback(),e)}buildBufferSkip(e){return new a.BufferSkip(this.streamPositionCallback(),e)}buildBufferScreen(e,t){return new u.BufferScreen(e,this.streamPositionCallback(),t)}buildBufferVolume(e,t){return new c.BufferVolume(e,this.streamPositionCallback(),t)}mergeBufferEvents(e,t){try{for(const n of e)if(n instanceof i.BufferPlay){const e=n;"live"==e.getPlayType()?t.createEventPlayLive(e.getContentId(),e.getStreamStartTime(),e.getStreamOffset(),e.getStreamId(),e.getOptions(),e.getCustomParams(),e.getStreamPosition(),e.getUsageTime()):t.createEventPlayOnDemand(e.getContentId(),e.getStreamId(),e.getOptions(),e.getCustomParams(),e.getStreamPosition(),e.getUsageTime())}else if(n instanceof o.BufferStop){const e=n;t.createEventStop(e.getStreamPosition(),e.getUsageTime()),r.Logger.debug("Buffer stopUsage"+e.getUsageTime())}else if(n instanceof a.BufferSkip){const e=n;t.createEventSkip(e.getStreamPosition(),e.getUsageTime())}else if(n instanceof c.BufferVolume){const e=n;t.createEventVolume(e.getVolume(),e.getStreamPosition(),e.getUsageTime())}else if(n instanceof u.BufferScreen){const e=n;t.createEventScreen(e.getScreen(),e.getStreamPosition(),e.getUsageTime())}else if(n instanceof s.BufferImpression){const e=n;t.createEventImpression(e.getContentId(),e.getCustomParams())}else if(n instanceof l.BufferHeartbeat){const e=n;t.createEventHeartbeat(e.getUsageTime())}else r.Logger.error("Element is not handled here")}catch(e){r.Logger.error(e.message)}}}},185:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventBase=void 0;const r=n(9436);class i extends r.EventACommon{iStreamPosition;sPresentationId;iStateItemNumber;iSegmentNumber;iSegmentDuration;iUsageTime;constructor(e,t,n,r,i,s,o,a){super(e,a),this.iStreamPosition=t,this.sPresentationId=n,this.iStateItemNumber=r,this.iSegmentNumber=i,this.iSegmentDuration=s,this.iUsageTime=o}get presentationId(){return this.sPresentationId}get stateItemNumber(){return this.iStateItemNumber}get segmentNumber(){return this.iSegmentNumber}get segmentDuration(){return this.iSegmentDuration}get streamPosition(){return this.iStreamPosition}get usageTime(){return this.iUsageTime}}t.EventBase=i},200:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionConf=void 0;const r=n(3587);t.ExtensionConf=class{version=r.env.VERSION}},202:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static playbackSpeedConverter(e){if("string"!=typeof e||""===e||isNaN(parseFloat(e))){if("number"==typeof e)return Number(e.toFixed(2).replace(/(\.0+|0+)$/,""));if(void 0===e||""===e||null===e)return 1;throw new Error("Error in start event: Playback Speed wrong format. No data will be send")}return Number(Number(e).toFixed(2).replace(/(\.0+|0+)$/,""))}static isBrowserContext(){return"undefined"!=typeof window&&!!window.isBrowserContext}}},473:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=function(e,t){const n=new Promise((e,n)=>{setTimeout(()=>n(`No value returned after ${t} ms`),t)});return Promise.race([e,n])}},567:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateActualOptin=function({optin:e},t=!1){return new Promise(n=>{if(t)return n(!0);if(void 0!==e)return n(e);if(setTimeout(()=>{n(!1)},1e4),s.FeatureFlags.isEnabled("TCF")){let t=0,r=setInterval(()=>{t++,window.__tcfapi&&(!function(e,t){window.__tcfapi("addEventListener",2,(n,r)=>{r||e(!1),n.gdprApplies||(e(t),window.__tcfapi("removeEventListener",2,()=>{},n.listenerId)),!r||"tcloaded"!==n.eventStatus&&"useractioncomplete"!==n.eventStatus||(e(function(e){return i.default.hasGfK(e)&&i.default.hasMarketResearch(e)&&i.default.hasMeasureAdPerformance(e)&&i.default.hasMeasureContentPerformance(e)&&i.default.hasReadWrite(e)}(n)),window.__tcfapi("removeEventListener",2,()=>{},n.listenerId))})}(n,e),clearInterval(r)),t!==o||window.__tcfapi||(clearInterval(r),n(!0))},100)}else n(!0)})};const i=r(n(6291)),s=n(5011),o=30},649:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RequestImpression=void 0;const r=n(2276);class i extends r.RequestACommon{constructor(){super("IM")}set contentId(e){this.fields.c=e}set instanceid(e){this.fields.instanceid=e}set origin(e){this.fields.r=e}set userAgent(e){this.fields.ua=e}set language(e){this.fields.l=e}}t.RequestImpression=i},1024:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferVolume=void 0;const r=n(6331);class i extends r.BufferBase{volume;constructor(e,t,n){super(t,n),this.volume=e}getVolume(){return this.volume}}t.BufferVolume=i},1516:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferPlay=void 0;const r=n(6331);class i extends r.BufferBase{playType;streamStartTime;contentId;streamId;options;customParameters;streamOffset;constructor(e,t,n,r,i,s,o,a,u){super(s,a),this.contentId=e,this.streamOffset=t,this.streamId=n,this.options=r,this.customParameters=i,this.streamStartTime=o,this.playType=u}getContentId(){return this.contentId}getOptions(){return this.options}getCustomParams(){return this.customParameters}getStreamId(){return this.streamId}getStreamOffset(){return this.streamOffset}getStreamStartTime(){return this.streamStartTime}getPlayType(){return this.playType}}t.BufferPlay=i},1605:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(4862));t.default=i.default},1732:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e){try{const t=function(e){const t=i.GfkHelpers.isHttp()?"http://":"https://",n=(e||"error-got-empty-id").replace("|","-")+window.s2sVmsConf.suiPixelUrl;return new URL(t+n)}(e);return function(e,{searchParams:t}){const n=new URLSearchParams(window.location.search);if(t.append("m",window.gfkS2sConf?.media||"no_mediaid"),t.append("r",window.location.host),t.append("p",window.s2sVmsConf.projectId),t.append("instanceid",e),t.append("ipad",String(o())),window.location.host.includes(".sensic.net"))for(const e of["paneluserid","hhid","uid","pid","origin"])n.has(e)&&t.append(e,n.get(e))}(e,t),r.Logger.log("Relay ID: "+t),await s.FetchService.sendData(t.href+"&redirect=manual","GET",null,e=>{if(e instanceof Response)window.postMessage({relayRequestServerDate:e.headers.get("Date")},"*"),e.headers.has("x-location")&&fetch(e.headers.get("x-location"),{method:"GET"}).catch(e=>{});else if(window.postMessage({relayRequestServerDate:e.getResponseHeader("Date")},"*"),e.getAllResponseHeaders().includes("x-location")){const t=new XMLHttpRequest;t.open("GET",e.getResponseHeader("x-location"),!0),t.send()}})}catch(e){r.Logger.error("Failed to send relay request: "+e.message)}},t.isIpad=o;const r=n(4913),i=n(5566),s=n(3914);function o(){return navigator.maxTouchPoints>0&&/iPad|Macintosh/.test(navigator.userAgent)}},1878:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TIMEOUT=void 0,t.default=l,t.getOldCookie=async function(){const{oldCookie:e}=l();let t=null;if(void 0!==document?.body?.nodeName)try{t=await e}catch(e){s.Logger.warn("Failed to collect oldCookie: "+e.toString())}return t};const r=n(1917),i=n(473),s=n(4913),o=n(5566);let a,u,c;function l(e=!1,n=!0){void 0===a&&function(){function e(e,t){t&&t.parentNode?t.parentNode.insertBefore(e,t.nextSibling):document.body.appendChild(e)}a=document.createElement("iframe"),a.style.visibility="hidden",a.style.display="none",a.width="0",a.height="0",a.src=window.s2sVmsConf.thirdPartyCookieIframeUrl.replace(/^https?:/,o.GfkHelpers.isHttp()?"http:":"https:");const t=document.body.childNodes[0];e(a,t)}();const s={};return n&&(c=(0,i.withTimeout)(d(r.OLD_COOKIE_MESSAGE_KEY),t.TIMEOUT),setTimeout(()=>{a.contentWindow.postMessage({readOldCookie:!0},"*")},500),s.oldCookie=c),e&&(u=(0,i.withTimeout)(d(r.NEW_COOKIE_MESSAGE_KEY),t.TIMEOUT),a.contentWindow.postMessage({readNewCookie:!0},"*"),s.newCookie=u),s}function d(e){return new Promise(t=>{window.addEventListener("message",n=>{n.data.hasOwnProperty(e)&&t(n.data[e])})})}t.TIMEOUT=1e4},1917:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OLD_COOKIE_MESSAGE_KEY=t.OLD_COOKIE_NAME=t.NEW_COOKIE_MESSAGE_KEY=t.NEW_COOKIE_NAME=void 0,t.readNewCookie=function(){if(!i.GfkHelpers.getCookie(t.NEW_COOKIE_NAME)){const e=(0,r.generateId)();i.GfkHelpers.setCookie(t.NEW_COOKIE_NAME,e,{sameSite:"None",domain:".sensic.net"})}window.parent.postMessage({[t.NEW_COOKIE_MESSAGE_KEY]:i.GfkHelpers.getCookie(t.NEW_COOKIE_NAME)},"*")},t.readOldCookie=function(){let e=i.GfkHelpers.getCookie(t.OLD_COOKIE_NAME);e&&(e=JSON.parse(e));window.parent.postMessage({[t.OLD_COOKIE_MESSAGE_KEY]:e},"*")};const r=n(4972),i=n(5566);t.NEW_COOKIE_NAME="sui_3pc",t.NEW_COOKIE_MESSAGE_KEY="sensic_sui_3pc",t.OLD_COOKIE_NAME="sui",t.OLD_COOKIE_MESSAGE_KEY="sensic_sui_old_3pc"},1982:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RequestVolume=void 0;const r=n(9777);class i extends r.RequestBase{constructor(){super("VO")}set volume(e){this.fields.vo=e}}t.RequestVolume=i},2120:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Heartbeat=void 0;t.Heartbeat=class{milliseconds=1e3;buildHeartbeat;heartbeatConfig;heartbeatNumber=0;intervalId=0;timeoutId=[];constructor(e,t){this.buildHeartbeat=e,this.heartbeatConfig=t,this.extendTimeoutIntervallWithParamsForOldIE()}start(){if(this.stop(),!this.isHeartbeatEnabled()||this.heartbeatConfig.interval.length<1||"undefined"==typeof window)return;this.heartbeatNumber=0;const e=this.heartbeatConfig.interval.slice(),t=e.pop();let n=0;for(const t of e)n+=t,this.timeoutId.push(window.setTimeout(this.buildHeartbeatEvent,n*this.milliseconds,this));n+=t,this.timeoutId.push(window.setTimeout(()=>{this.buildHeartbeatEvent(this),this.intervalId=window.setInterval(this.buildHeartbeatEvent,t*this.milliseconds,this)},n*this.milliseconds))}stop(){for(const e of this.timeoutId)clearTimeout(e);clearInterval(this.intervalId),this.timeoutId=[],this.intervalId=0}isHeartbeatActive(){return this.intervalId>0||this.timeoutId.length>0}getMaxHeartbeatInterval(){let e=0;return this.isHeartbeatEnabled()&&this.heartbeatConfig.interval.length>0&&(e=Math.max.apply(Math,this.heartbeatConfig.interval)),e}buildHeartbeatEvent(e){e.isMaxHeartbeatReached()?e.stop():(e.heartbeatNumber++,e.buildHeartbeat())}isHeartbeatEnabled(){return this.heartbeatConfig.enabled}isMaxHeartbeatReached(){return 0!==this.heartbeatConfig.maximum&&this.heartbeatNumber>=this.heartbeatConfig.maximum}extendTimeoutIntervallWithParamsForOldIE(){if("undefined"!=typeof window){if(document.all){const e=window.setTimeout;window.setTimeout=function(t,n){const r=Array.prototype.slice.call(arguments,2);return e(t instanceof Function?()=>{t.apply(this,r)}:t,n)}}if(document.all){const e=window.setInterval;window.setInterval=function(t,n){const r=Array.prototype.slice.call(arguments,2);return e(t instanceof Function?()=>{t.apply(this,r)}:t,n)}}}}}},2276:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RequestACommon=void 0;t.RequestACommon=class{requestType;fields;constructor(e){this.requestType=e,this.fields={ty:e}}set projectId(e){this.fields.p=e}set mediaId(e){this.fields.m=e}set technology(e){this.fields.t=e}set version(e){this.fields.v=e}set operatingSystem(e){this.fields.os=e}set appType(e){this.fields.at=e}set deviceType(e){this.fields.dt=e}get deviceType(){return this.fields.dt}getAsUrlString(){let e="";for(const t in this.fields)if(this.fields.hasOwnProperty(t)){let n=this.fields[t];"object"==typeof n&&(n=JSON.stringify(n)),e+=t+"="+this.encode(n)+"&"}return e.substring(0,e.length-1)}set customParameter(e){const t=e.userParams,n=e.allowedParams;for(const e in t)t.hasOwnProperty(e)&&-1!==n.indexOf(e)&&(this.fields["cp_"+e]=t[e])}encode(e){return encodeURIComponent(e)}}},2310:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.collectExternalIDs=t.collectFilecache=t.collect3rdPartyCookies=t.collectAdID=t.collect1stPartyCookie=void 0;const i=r(n(9316));t.collect1stPartyCookie=i.default;const s=r(n(6577));t.collectAdID=s.default;const o=r(n(2978));t.collectFilecache=o.default;const a=r(n(4833));t.collectExternalIDs=a.default;const u=r(n(1878));t.collect3rdPartyCookies=u.default},2425:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSkip=void 0;const r=n(6331);class i extends r.BufferBase{constructor(e,t){super(e,t)}}t.BufferSkip=i},2447:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.S2sSdkConf=void 0;const r=n(3587);t.S2sSdkConf=class{forceImprTime;dnt;segment;enabled;projectVersion;configVersion;sdkVersion;tech;projectName;trackingUrl;streamCustom;contentCustom;heartbeat;crashReporting;constructor(e){for(const t of Object.keys(e))this[t]=e[t];this.sdkVersion=r.env.VERSION}}},2472:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SuiApiV2=void 0;const i=n(4972),s=n(567),o=r(n(1605)),a=r(n(1732)),u=n(4913),c=n(1878),l=r(n(202));t.SuiApiV2=class{instanceID=(0,i.generateId)();async init(e,t,n={},r){u.Logger.info("Using VMS V2"),(0,a.default)(this.instanceID);const i=await this.hasOldPanelCookie(),c={instanceid:this.instanceID};(n.paneluserid||n.hhid)&&(c.panelistid={panel:n.pid,paneluserid:n.paneluserid,panelhouseholdid:n.hhid,panelhouseholdmemberid:n.uid}),(0,s.calculateActualOptin)({optin:e},i).then(i=>{(0,o.default)(c,n.optin??e,i,!0,"2",r).then(()=>{"function"==typeof t&&t()})})}async hasOldPanelCookie(){if(!l.default.isBrowserContext())return!1;try{const e=await(0,c.getOldCookie)();return void 0!==e?.paneluserid||void 0!==e?.uid||void 0!==e?.hhid||void 0!==e?.pid}catch(e){u.Logger.error("Failed to get oldPanelCookie: "+e.message)}}}},2650:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferStop=void 0;const r=n(6331);class i extends r.BufferBase{constructor(e,t){super(e,t)}}t.BufferStop=i},2978:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=i.replace(/^https?:/,r.GfkHelpers.isHttp()?"http:":"https:");return new Promise((t,n)=>{fetch(e,{method:"GET"}).then(async r=>{r.status>=200&&r.status<=299?t(await r.text()):n(`${e} returned ${r.status}`)})})};const r=n(5566),i="https://fc-id.sensic.net/"},3048:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserIndependentRequest=void 0;const i=n(4913),s=r(n(202));t.BrowserIndependentRequest=class{sendTo;constructor(e){this.sendTo=e}send(e){let t;const n=new Promise((e,n)=>{t=t=>t?e():n("Sending request failed")});return s.default.isBrowserContext()?this.isIEContext()?this.sendWithOldIE(e,t):this.sendWithDefault(e,t):this.sendNotInBrowser(t),n}sendWithDefault(e,t){fetch?fetch(this.sendTo,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.getAsUrlString()}).then(e=>{204===e.status?t(!0):t(!1)}):(i.Logger.output("fetch not found","error"),t(!1))}sendWithOldIE(e,t){const n=new XDomainRequest;n.open("POST",this.sendTo),n.onerror=()=>{i.Logger.output("Can't send a request with old IE","error"),t(!1)},n.ontimeout=()=>{i.Logger.output("Server status unknown, POST data not sent!","error"),t(!1)},n.onload=()=>{i.Logger.output(e.requestType,"log","request",e.fields),t(!0)},n.send(e.getAsUrlString())}sendNotInBrowser(e){i.Logger.output("Cannot send xhttp request, not in a browser","warn"),e(!0)}isIEContext(){return"undefined"!=typeof XDomainRequest}}},3309:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HTML5VODExtension=void 0;const r=n(9192);class i extends r.S2SExtension{constructor(e,t,n,r={}){super(e,t,n,r),this.logger("Sensic HTML5 player extension initialized")}getVolume(){return this.playerInstance.muted?0:Math.round(100*this.playerInstance.volume)}isPlaying(){return!this.playerInstance.paused}get playbackRate(){return this.playerInstance.playbackRate}get currentSrc(){return this.playerInstance.currentSrc}get duration(){return this.playerInstance.duration}isBuffering(){return 0===this.playerInstance.buffered.length&&!isNaN(this.duration)}isIdling(){return 0===this.playerInstance.played.length&&!isNaN(this.duration)}get currentTime(){return this.playerInstance.currentTime}get streamOffset(){return 0}}t.HTML5VODExtension=i},3414:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.W3CVODExtension=void 0;const r=n(9192);class i extends r.S2SExtension{constructor(e,t,n,r={}){super(e,t,n,r),this.logger("Sensic W3CMedia player extension initialized")}getVolume(){return this.playerInstance.muted?0:Math.round(100*this.playerInstance.volume)}isPlaying(){return!this.playerInstance.paused}get playbackRate(){return this.playerInstance.playbackRate}get currentSrc(){return this.playerInstance.currentSrc}get duration(){return this.playerInstance.duration}isBuffering(){return!1}isIdling(){return!1}get currentTime(){return this.playerInstance.currentTime}get streamOffset(){return 0}}t.W3CVODExtension=i},3425:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.LS_KEY_LOGLEVEL=void 0,t.isValidLogLevel=a;const r=n(7042),i={none:0,error:1,warn:2,info:3,log:4,debug:5};t.LS_KEY_LOGLEVEL="sensic-logLevel";const s=["none","debug","log","info","warn","error"];class o{static logLevel="none";static url=null;static debug(e,t={}){o.output(e,"debug",t.coloring,t.extraObj)}static log(e,t={}){o.output(e,"log",t.coloring,t.extraObj)}static info(e,t={}){o.output(e,"info",t.coloring,t.extraObj)}static warn(e,t={}){o.output(e,"warn",t.coloring,t.extraObj)}static error(e,t={}){o.output(e,"error",t.coloring,t.extraObj)}static output(e,t="log",n,s){if(!(i[t]>i[o.logLevel])){if(e.match(window.s2sSdkConfig?.crashReporting?.ignoreErrors)||(0,r.logSentry)(e,t),o.url&&XMLHttpRequest){const n=new XMLHttpRequest,r=o.url+"?"+t+"="+encodeURIComponent(e+(s?"\n"+JSON.stringify(s):""))+"&src=S2S";n.open("GET",r,!0),n.send()}if("undefined"!=typeof console){const r=(n?"%c ":"")+e+(n?" %c":""),i=console;"function"==typeof i[t]?"fcall"===n?s?i[t]("GFK: "+r,"background: #060; color: #fff","","object"==typeof s&&Array.from?Array.from(s):s):i[t]("GFK: "+r,"background: #060; color: #fff",""):"request"===n?i[t]("GFK: "+r,"background: #059; color: #fff","",s):i[t]("GFK: "+r):i.error("GFK: "+r)}}}static formatDuration(e){const t=e%1e3,n=(e=(e-t)/1e3)%60,r=(e=(e-n)/60)%60,i=(e-r)/60;return(i?i+":":"")+("0"+r).slice(-2)+":"+("0"+n).slice(-2)+"."+("00"+t).slice(-3)}static readFromTagConf(){this.readFromConf(window.gfkS2sConf)}static readFromConnectorConf(){this.readFromConf(window.gfkConnectorConf)}static readFromLocalStorage(){try{if(window.localStorage){const e=window.localStorage.getItem(t.LS_KEY_LOGLEVEL);a(e)&&(o.logLevel=e)}}catch(e){console.warn("Couldn't read log settings from local storage:",e)}}static readFromConf(e){a(e?.logLevel)&&(o.logLevel=e.logLevel),e?.logUrl&&(o.url=e.logUrl)}}function a(e){return s.includes(e)}t.Logger=o},3587:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.env=void 0,t.env={VERSION:"1.1.1"}},3700:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventVisibility=void 0;const r=n(185);class i extends r.EventBase{static instance="EventVisibility";sVisibility;constructor(e,t,n,r,s,o,a,u){super(e,t,n,s,r,o,u,i.instance),this.sVisibility=a}get visibility(){return this.sVisibility}}t.EventVisibility=i},3714:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureFlags=void 0;const n={TCF:!1};t.FeatureFlags=class{static isEnabled(e){return n.TCF=window.s2sVmsConf.featureFlagTcf,!0===n[e]}}},3914:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FetchService=void 0;const i=r(n(202));t.FetchService=class{static sendData(e,t="POST",n,r){return i.default.isBrowserContext()?this.sendDataXHR(e,t,n,r):this.sendDataFetch(e,t,n,r)}static sendDataXHR(e,t,n,r){return new Promise((i,s)=>{const o=new XMLHttpRequest;o.onloadend=()=>{o.status>=200&&o.status<400?(r&&r(o),i()):s()},o.open(t,e,!0),o.setRequestHeader("Content-Type","text/plain"),n?o.send(JSON.stringify(n)):o.send()})}static sendDataFetch(e,t,n,r){return new Promise((i,s)=>{fetch(e,{method:t,headers:{"Content-Type":"text/plain"},body:n?JSON.stringify(n):null}).then(async e=>{e.status>=200&&e.status<400?(r&&r(e),i()):s()})})}}},3935:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentBuilder=void 0;const r=n(7780),i=n(9487);t.SegmentBuilder=class{milliseconds=1e3;minSegmentDuration=0;maxStateItemsNumber=0;maxSegmentNumber=0;state=1;presentationId="";streamId="";stateItemNumber=0;segmentNumber=0;playStreamPosition=0;streamOffset=0;startTime=0;toleranceSeconds=3;md5;playbackSpeed=1;playType;constructor(e){this.minSegmentDuration=e.minSegmentDuration,this.maxStateItemsNumber=e.maxSegmentStateItems,this.maxSegmentNumber=e.maxSegments,this.md5=new i.Md5}isSegmentStopped(){return 1===this.state}createSegmentStarting(e,t,n,r,i){if(this.isMaxStateItemNumberReached()||this.isMaxSegmentNumberReached())throw new Error("Max state item number or max segment number reached! #noreport");return this.startTime=this.getTimeSeconds(),this.setSegmentAsPlayed(),this.playbackSpeed=r,this.playType=i,this.generateStreamSegment(e,t,n),this.incrementStateItemNumber(),this.incrementSegmentNumber(),this.createSegment(0,n)}createSegmentRunning(e,t){if(this.isSegmentStopped()||this.isMaxStateItemNumberReached())throw new Error("Stream not yet started or max state item number reached! #noreport");const n=this.calculateSegmentDuration(e);if(t&&this.isBelowMinSegmentDuration(n))throw new Error(`Duration of ${n} ms is below min segment duration of ${this.minSegmentDuration} ms! #noreport`);return this.checkSegmentDuration(n),this.incrementStateItemNumber(),this.createSegment(n,e)}createSegmentStopping(e){if(this.isSegmentStopped())throw new Error("Stop called for an already stopped segment #noreport");this.setSegmentAsStopped();const t=this.calculateSegmentDuration(e);if(this.isBelowMinSegmentDuration(t))throw new Error(`Duration of ${t} ms is below min segment duration of ${this.minSegmentDuration} ms! #noreport`);return this.checkSegmentDuration(t),this.incrementStateItemNumber(),this.createSegment(t,e)}setStartTime(e){this.startTime=e}setToleranceLimit(e){this.toleranceSeconds=e}checkSegmentDuration(e){const t=this.getTimeSeconds()-this.startTime+this.toleranceSeconds;if(Math.round(e/1e3)>t*this.playbackSpeed)throw new Error(`Segment duration  (${e}) >= actual elapsed time (${t} with playback speed ${this.playbackSpeed})! #noreport`)}isBelowMinSegmentDuration(e){return e<this.minSegmentDuration}isMaxStateItemNumberReached(){return this.maxStateItemsNumber<this.getStateItemNumber()}isMaxSegmentNumberReached(){return this.maxSegmentNumber<this.getSegmentNumber()}getTimeSeconds(){return Math.round(this.getTimeMilliseconds()/this.milliseconds)}getTimeMilliseconds(){return Date.now()}setSegmentAsPlayed(){this.state=0}setSegmentAsStopped(){this.state=1}getPresentationId(){return this.presentationId}calculateDuration(e){let t;return t="live"===this.playType?Math.round(e*this.playbackSpeed):e,t}calculateSegmentDuration(e){const t=this.getCurrentStreamPosition(e)-this.playStreamPosition;return this.calculateDuration(t)}getCurrentStreamPosition(e){return e-this.streamOffset}getStateItemNumber(){return this.stateItemNumber}getSegmentNumber(){return this.segmentNumber}incrementStateItemNumber(){this.stateItemNumber++}incrementSegmentNumber(){this.segmentNumber++}generateStreamSegment(e,t,n){this.isStreamIdChanged(t)&&(this.streamId=t,this.presentationId=this.generatePresentationId(t),this.stateItemNumber=0,this.segmentNumber=0),this.streamOffset=e,this.playStreamPosition=this.getCurrentStreamPosition(n)}isStreamIdChanged(e){return this.streamId!==e}generatePresentationId(e){const t=this.getRndInt(1e6,9999999);return this.md5.hash(e).toUpperCase()+t+this.getTimeMilliseconds()}getRndInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}createSegment(e,t){return new r.Segment(this.getStateItemNumber(),this.getSegmentNumber(),this.getCurrentStreamPosition(t),this.getPresentationId(),e)}}},4612:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RequestScreen=void 0;const r=n(9777);class i extends r.RequestBase{constructor(){super("SC")}set screen(e){this.fields.sc=e}}t.RequestScreen=i},4639:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferCommon=void 0;t.BufferCommon=class{timestamp;constructor(){this.timestamp=(new Date).getTime()}}},4661:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HeartbeatInvalidator=void 0;t.HeartbeatInvalidator=class{mostRecentHeartbeats={};onNewHeartbeatGenerated(e){e.isMostRecent=!0,this.invalidateMostRecentHeartbeat(e),this.storeAsMostRecentHeartbeat(e)}invalidateMostRecentHeartbeat(e){const{presentationId:t,segmentNumber:n}=e;this.mostRecentHeartbeats[t]&&this.mostRecentHeartbeats[t][n]&&(this.mostRecentHeartbeats[t][n].isMostRecent=!1)}storeAsMostRecentHeartbeat(e){const{presentationId:t,segmentNumber:n}=e;this.mostRecentHeartbeats[t]={[n]:e}}}},4699:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SentryLoggerImpl=void 0;const r=n(3425);t.SentryLoggerImpl=class{enable(){r.Logger.output("Sensic crash reporting enabled","log","fcall");const e=document.createElement("script"),t=document.getElementsByTagName("script")[0];if(t){e.type="text/javascript",e.src=window.s2sSdkConfig?.crashReporting?.scriptUrl,e.setAttribute("crossorigin","anonymous"),t.parentNode.insertBefore(e,t);const n=document.createElement("script"),r=window.gfkS2sConf.configUrl??window.gfkS2sConf.url;n.innerHTML=`\n          Sentry.onLoad(function() {\n            class GfKIntegration {\n              name = "GfKIntegration";\n            \n              setupOnce() {\n                Sentry.addGlobalEventProcessor(event => {\n                  const clientHasSentry = window.gfkSentryHub.getClient().getDsn().projectId !== Sentry.getCurrentHub().getClient().getDsn().projectId;\n                  if (event?.tags?.sentryClient === 'gfkClient') { // prevent recursive calls\n                    return event;\n                  }\n                  /*  some event filters */\n                  const frames = event.exception?.values[0]?.stacktrace?.frames;\n                  if(frames && (frames[frames.length-1].filename.indexOf('.sensic.net') !== -1 || frames[frames.length-1].filename.indexOf('localhost:8082') !== -1)){\n                    window.gfkSentryHub.captureEvent(event);\n                    return null;\n                  } else if(!clientHasSentry) {\n                    return null;\n                  }\n                  /*  some event filters end */\n                  return event;\n                });\n              }\n            }\n            window.gfkSentry = new Sentry.BrowserClient({\n              dsn: '${window.s2sSdkConfig?.crashReporting?.dsn}',\n              enabled: true,\n              environment: '${window.s2sSdkConfig.projectName||"development"}',\n              attachStacktrace: true,\n              transport: Sentry.makeFetchTransport,\n              integrations: [new GfKIntegration()],\n              beforeSend: (event, hint) => {\n                const ctvEnv = '${r.includes("/ctv/")?"ctv-":""}';\n                let ver = "agent-${window.s2sSdkConfig.projectName||"development"}"+"-"+ctvEnv+window.s2sSdkConfig.sdkVersion;\n                const frames = event.exception?.values[0]?.stacktrace?.frames;\n                if(frames && frames[frames.length-1].filename.indexOf('s2s-web.js') === -1){\n                  ver = "extension-${window.s2sSdkConfig.projectName||"development"}"+"-"+ctvEnv+window.extensionConfig.version;\n                }\n                event.release = ver;\n                event.environment = '${window.s2sSdkConfig.projectName||"development"}';\n                return event;\n              },\n              allowUrls: [\n                ".sensic.net",\n                "http://localhost:8082/"\n              ],\n\n              // Set tracesSampleRate to 1.0 to capture 100%\n              // of transactions for performance monitoring.\n              // We recommend adjusting this value in production\n              // tracesSampleRate: 1.0\n            });\n            window.gfkSentryHub = new Sentry.Hub(window.gfkSentry);\n            window.gfkSentryHub.run(currentHub => {\n              currentHub.configureScope(function (scope) {\n                scope.setTag("sentryClient", "gfkClient");\n              });\n            });\n          });\n        `,e.onload=()=>{e.parentNode.appendChild(n)}}}log(e,t){"error"===t&&window.s2sSdkConfig?.crashReporting?.sampling>0&&window.gfkS2sConf.crashReporting&&window.gfkSentryHub&&window.gfkSentryHub.captureMessage(msg)}}},4725:function(e){e.exports=void 0},4833:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(window.gfkS2sConf)return window.gfkS2sConf.extID;if(window.gfkConnectorConf)return window.gfkConnectorConf.extID}},4862:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t,n,r=!1,g="1",h="sensic-sdk-web"){const p={version:g,source:h,id:{...e},privacy:{providedOptin:t},tracking:n};try{p.privacy.tcString=await function(){const e=new Promise((e,t)=>{i.FeatureFlags.isEnabled("TCF")||t("TCF feature flag is disabled"),window.__tcfapi||t("No __tcfapi found."),window.__tcfapi("addEventListener",2,(t,n)=>{!n||"tcloaded"!==t.eventStatus&&"useractioncomplete"!==t.eventStatus||e(t.tcString)},[758])});return(0,u.withTimeout)(e,d)}()}catch(e){o.Logger.warn("Could not determine TC string: "+e)}n&&r&&Object.assign(p.id,await async function(){const e=[["sui_1pc",(0,a.collect1stPartyCookie)()],["ai",(0,a.collectAdID)()],["sui_fc",(0,a.collectFilecache)()],["external",(0,a.collectExternalIDs)()]];if(l.default.isBrowserContext()){const{oldCookie:t,newCookie:n}=(0,a.collect3rdPartyCookies)(!0);e.push(["sui_3pc",n],["sui_old_3pc",t])}const t={};for(const[n,r]of e)try{const e=await r;e&&(t[n]=e)}catch(e){o.Logger.warn(`Failed to collect ID '${n}': `+e.toString())}return t}());o.Logger.log(`VMS privacy settings:, ${JSON.stringify(p,null,2)}`);const f=function(){const e=new URL("id",window.s2sVmsConf.trackingUrl);c.GfkHelpers.isHttp()?e.protocol="http:":e.protocol="https:";return e}();await s.FetchService.sendData(f.href,"POST",p)};const i=n(5011),s=n(3914),o=n(4913),a=n(2310),u=n(473),c=n(5566),l=r(n(202)),d=1e3},4872:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Collector=void 0;const i=n(4913),s=n(2472),o=n(2447),a=n(7051),u=r(n(202)),c=n(7042);class l{static tagConf;static suiapiV2;static dateStatus="idle";static timeOffset=0;static config;appType;deviceType;extensionVersion;isConfigLoaded=!1;constructor(e){this.appType=e.hasOwnProperty("type")?e.type:"WEB";const t=l.getParticularDeviceType(),n=e.hasOwnProperty("device")?e.device:"UNKNOWN";this.deviceType="UNKNOWN"===t?n:t}static determineDeviceType(e,t){let n="";return t.match(/Linux/i)&&e.match(/(WEBOS)/i)&&(n="Smart-TV"),n}static determineOs(e,t){let n="";return t.match(/Linux /i)&&e.match(/WEBOS/i)&&(n="WebOS"),n}static getPlatform(){return u.default.isBrowserContext()?window.navigator.platform:""}static getOperatingSystem(){const e=l.getUserAgent(),t=l.getPlatform();return l.determineOs(e,t)}static getParticularDeviceType(){const e=l.getUserAgent(),t=l.getPlatform();return l.determineDeviceType(e,t)}static getUserAgent(){return u.default.isBrowserContext()?window.navigator.userAgent:""}static getTimeOffset(){return l.timeOffset}static getTimeWithOffset(){return l.getUTCTimeStamp()+l.getTimeOffset()}static setTimeOffset(){"idle"!==l.dateStatus&&"canceled"!==l.dateStatus||(l.dateStatus="waiting",l.getServerDate())}static isDntEnabled(){return l.config.dnt}static setConfig(e){l.isHttp()&&["trackingUrl"].forEach(e=>{window.s2sSdkConfig[e]=window.s2sSdkConfig[e].replace(/^https:/,"http:")}),l.config=e}static init(e,t){l.suiapiV2=t,l.tagConf=e,"undefined"!=typeof document&&(l.suiapiV2.init(l.tagConf.optin),window.gfkS2s?.scb&&"function"==typeof window.gfkS2s.scb&&window.gfkS2s.scb(l.suiapiV2.instanceID))}static getInstanceID(){return l.suiapiV2.instanceID}static getServerDate(){window.addEventListener("message",e=>{e.data.relayRequestServerDate&&"finished"!==l.dateStatus&&"canceled"!==l.dateStatus&&(l.dateStatus="finished",l.setCalculatedOffset(e.data.relayRequestServerDate))}),setTimeout(()=>{"finished"!==l.dateStatus&&(l.dateStatus="canceled",i.Logger.output("Request Timeout!","warn"))},3e3)}static setCalculatedOffset(e){const t=l.getUTCTimeStamp(),n=Date.parse(e);l.timeOffset=isNaN(n)?0:n-t,0!==l.timeOffset&&i.Logger.output("Time offset = "+l.timeOffset+" milliseconds","info")}static getUTCTimeStamp(){return(new Date).getTime()}static isHttp(){if("undefined"!=typeof window){if(window.document.currentScript){const e=window.document.currentScript;if(e.src)return e.src.match(/^http:/)}const e=document.getElementsByTagName("script");for(let t=0;t<e.length;t++)if(e[t]&&e[t].src.match(/\/s2s-web.js$/))return null!==e[t].src.match(/^http:/);if("http:"===window.location.protocol)return!0}return!1}getOrigin(){return u.default.isBrowserContext()?window.location.protocol+"//"+window.location.hostname:""}getLanguage(){return u.default.isBrowserContext()?window.navigator.language||window.navigator.userLanguage:""}getProjectStatus(){return l.config.enabled}getContentCustomParameter(){return l.config.contentCustom}getStreamCustomParameter(){return l.config.streamCustom}getVersion(){return l.config.sdkVersion+(this.extensionVersion?"/"+this.extensionVersion:"")}getTechnology(){return l.config.tech}getProjectName(){return l.config.projectName}getTrackingUrl(){return l.config.trackingUrl}getHeartbeatSettings(){return l.config.heartbeat}getSegmentSettings(){return l.config.segment}getAppType(){return this.appType}getDeviceType(){if("undefined"!=typeof window&&window.cast){if("CONNECTED"===window.cast.framework.CastContext.getInstance().getCastState())return"chromecast"}return this.deviceType}setExtensionVersion(e){this.extensionVersion=e}loadConfig(e,t){if(window.s2sSdkConfig){if(this.isConfigLoaded=!0,(0,c.enableSentry)(),l.setConfig(window.s2sSdkConfig),!u.default.isBrowserContext()){const e=new s.SuiApiV2;l.init(window.gfkS2sConf,e),l.setTimeOffset()}t(window.s2sSdkConfig,!0)}else fetch(e,{method:"GET"}).then(async e=>{if(this.isConfigLoaded)return;const n=await e.json();i.Logger.output("Config loaded","log","fcall"),this.isConfigLoaded=!0,window.s2sSdkConfig=new o.S2sSdkConf(n),window.s2sVmsConf=new a.S2sVmsConf(n);const r=new s.SuiApiV2;(0,c.enableSentry)(),l.setConfig(window.s2sSdkConfig),l.init(window.gfkS2sConf,r),l.setTimeOffset(),t(n,!0)})}}t.Collector=l},4913:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(3425),t)},4972:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateId=function(){let e=Date.now().toString().substring(0,r).padStart(r,"0");const t="ABCDEF0123456789",i=n-e.length;for(let n=0;n<i;n++)e+=t.charAt(Math.floor(16*Math.random()));return e};const n=56,r=13},4996:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HTML5LiveExtension=void 0;const r=n(3309);class i extends r.HTML5VODExtension{hls;constructor(e,t,n,r={},i){super(e,t,n,r),this.hls=i}setAgent(){this.agent=this.createAgent(null)}playbackSpeedChecker(){this.currentPlaybackSpeed=this.playerInstance.playbackRate,this.currentPlaybackSpeed!==this.lastPlaybackSpeed&&this.isPlaying()&&(this.lastPlaybackSpeed=this.currentPlaybackSpeed,this.agent.stop(),this.playLiveStream())}periodicTimeObserver(){this.livePeriodicTimeObserver()}stopSegmentBeforeClose(){this.stopLiveSegmentBeforeClose()}get streamOffset(){let e;return"number"==typeof this.hls?.streamController?.liveSyncPosition&&"number"==typeof this.hls?.streamController?.lastCurrentTime?(e=this.hls.streamController.fragCurrent?.endPTS?this.hls.streamController.fragCurrent.endPTS-this.hls.streamController.lastCurrentTime:this.hls.streamController.liveSyncPosition-this.hls.streamController.lastCurrentTime,e=1e3*Math.abs(Math.floor(e))):e=0,e}}t.HTML5LiveExtension=i},5011:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureFlags=void 0;var r=n(3714);Object.defineProperty(t,"FeatureFlags",{enumerable:!0,get:function(){return r.FeatureFlags}})},5015:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferImpression=void 0;const r=n(4639);class i extends r.BufferCommon{contentId;customParameters;constructor(e,t){super(),this.contentId=e,this.customParameters=t}getContentId(){return this.contentId}getCustomParams(){return this.customParameters}}t.BufferImpression=i},5200:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RequestStop=void 0;const r=n(9777);class i extends r.RequestBase{constructor(){super("ST")}set skip(e){this.fields.sk=e.toString()}}t.RequestStop=i},5461:function(e,t,n){var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),o=0;o<n.length;o++)"default"!==n[o]&&i(t,e,n[o]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.SentryLoggerImpl=void 0;const a=n(3425);t.SentryLoggerImpl=class{Sentry=null;enabled=!1;async enable(){if(this.enabled)return;this.enabled=!0;const e=n.g?.s2sSdkConfig?.crashReporting,t=n.g?.s2sSdkConfig?.projectName||"development",r=n.g?.s2sSdkConfig?.sdkVersion||"unknown";if(e?.dsn&&!(e?.sampling<=0))try{this.Sentry=await Promise.resolve().then(()=>o(n(4725))),this.Sentry.init({dsn:window.s2sSdkConfig?.crashReporting?.dsn,enableNative:!0,enableAutoSessionTracking:!0,release:`agent-${t}-${r}`,environment:t,attachStacktrace:!0,beforeSend:(e,t)=>{let n="agent-"+window.s2sSdkConfig.sdkVersion;e.exception&&e.exception.values&&e.exception.values.length>0&&(e.exception.values=this.normalizePath(e));const r=e.exception?.values[0]?.stacktrace?.frames;return r&&-1!==r[r.length-1].filename.indexOf("Extension.js")&&(n="extension-"+window.s2sSdkConfig.sdkVersion),e.release=n,e.environment=window.s2sSdkConfig.projectName||"development",e}}),this.Sentry.setTag("sentryClient","gfkClient"),a.Logger.output("Sensic crash reporting enabled (React Native)","log","fcall")}catch(e){a.Logger.error("Failed to initialize Sentry",e)}}async log(e,t){if(this.Sentry&&"error"===t)try{this.Sentry.captureMessage(e)}catch(e){a.Logger.error("Sentry logging error",e)}}normalizePath(e){const t=e.exception?.values;if(t)for(const e of t){const t=e.stacktrace?.frames;if(t)for(const e of t){const t=e.filename?.match(/.*node_modules\/@gfksensic\/s2s-js\/dist(\/.*)/);t&&(e.filename=`~${t[1]}`)}}return t}}},5480:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventStop=void 0;const r=n(185);class i extends r.EventBase{static instance="EventStop";constructor(e,t,n,r,s,o,a){super(e,t,n,s,r,o,a,i.instance)}}t.EventStop=i},5487:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RequestBuilder=void 0;const i=n(6418),s=n(8826),o=n(4612),a=n(5200),u=n(1982),c=n(649),l=n(4872),d=n(7436),g=r(n(202));t.RequestBuilder=class{collector;lastDeviceType;constructor(e){this.collector=e}buildRequest(e){let t;switch(e.instance){case"EventImpression":t=this.buildRequestImpression(e);break;case"EventPlay":t=this.buildRequestPlay(e);break;case"EventStop":t=this.buildRequestStop(e);break;case"EventSkip":t=this.buildRequestSkip(e);break;case"EventVolume":t=this.buildRequestVolume(e);break;case"EventScreen":t=this.buildRequestScreen(e);break;case"EventHeartbeat":t=this.buildRequestHeartbeat(e);break;case"EventVisibility":t=this.buildRequestVisibility(e)}return t}buildRequestImpression(e){const t=this.buildRequestCommon(new c.RequestImpression,e);return t.contentId=e.contentId,t.instanceid=l.Collector.getInstanceID(),t.userAgent=l.Collector.getUserAgent(),t.language=this.collector.getLanguage(),t.origin=this.collector.getOrigin(),t.customParameter={userParams:e.customParams,allowedParams:this.collector.getContentCustomParameter()},t}buildRequestPlay(e){const t=this.buildRequestBase(new s.RequestPlay,e);return t.contentId=e.contentId,t.volume=e.options.volume||"",t.visibility=e.visibility,t.screen=e.options.screen||"",t.instanceid=l.Collector.getInstanceID(),t.userAgent=l.Collector.getUserAgent(),t.language=this.collector.getLanguage(),t.origin=this.collector.getOrigin(),t.streamPosition=e.streamPosition,t.streamTime=e.streamStartTime,t.playbackSpeed=g.default.playbackSpeedConverter(e.options.speed),t.customParameter={userParams:e.customParams,allowedParams:this.collector.getStreamCustomParameter()},t}buildRequestStop(e){const t=this.buildRequestBase(new a.RequestStop,e);return t.skip=0,t}buildRequestSkip(e){const t=this.buildRequestBase(new a.RequestStop,e);return t.skip=1,t}buildRequestVolume(e){const t=this.buildRequestBase(new u.RequestVolume,e);return t.volume=e.volume,t}buildRequestScreen(e){const t=this.buildRequestBase(new o.RequestScreen,e);return t.screen=e.screen,t}buildRequestHeartbeat(e){return this.buildRequestBase(new i.RequestHeartbeat,e)}buildRequestVisibility(e){const t=this.buildRequestBase(new d.RequestVisibility,e);return t.visibility=e.visibility,t}buildRequestBase(e,t){return(e=this.buildRequestCommon(e,t)).presentationId=t.presentationId,e.requestNumber=t.stateItemNumber,e.segmentNumber=t.segmentNumber,e.segmentDuration=t.segmentDuration,e.usageTime=t.usageTime,e}buildRequestCommon(e,t){return e.projectId=this.collector.getProjectName(),e.mediaId=t.mediaId,e.technology=this.collector.getTechnology(),e.version=this.collector.getVersion(),e.operatingSystem=l.Collector.getOperatingSystem(),e.deviceType=this.getDeviceType(e.requestType),e.appType=this.collector.getAppType(),e}getDeviceType(e){let t=this.lastDeviceType;return void 0!==t&&"PL"!==e||(t=this.lastDeviceType=this.collector.getDeviceType()),t}}},5566:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GfkHelpers=void 0;t.GfkHelpers=class{static getCookie(e){const t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?decodeURIComponent(t[2]):null}static deleteCookie(e,t){this.setCookie(e,"",{days:-1,domain:t})}static setCookie(e,t,{days:n=730,domain:r,sameSite:i="None"}={}){const s=new Date;s.setTime(s.getTime()+24*n*60*60*1e3);let o=e+"="+encodeURIComponent(t)+";path=/;expires="+s.toUTCString();r&&(o+=";domain="+r),o+=";sameSite="+i,"https:"===window.location.protocol&&(o+=";secure"),document.cookie=o}static isHttp(){if("undefined"!=typeof window){const e=window.document.getElementsByTagName("script");for(let t=0;t<e.length;t++)if(e[t]&&e[t].src.match(/\/\/[^/]*sensic.net\/\S*\.js$/))return null!==e[t].src.match(/^http:/);if("http:"===window.location.protocol)return!0}return!1}}},5833:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerExtension=t.PlayerType=t.PlayerVendor=void 0;const r=n(3309),i=n(4996),s=n(4913),o=n(3414),a=n(101);var u,c;!function(e){e.HTML5="html5",e.W3CMEDIA="w3cmedia"}(u||(t.PlayerVendor=u={})),function(e){e.Live="live",e.VoD="vod"}(c||(t.PlayerType=c={}));class l{contentExtension;adExtension;gfkS2sConf;customParams;contentId;playerConf={type:c.VoD};constructor(e,t,n){s.Logger.readFromTagConf(),s.Logger.readFromLocalStorage(),this.gfkS2sConf=t,this.contentId=n.contentId||"default",this.customParams=n.customParams,Object.assign(this.playerConf,{},e),this.contentExtension=l.getExtensionByPlayer(this.playerConf,t,n.contentId,n.customParams,e.hls),this.contentExtension.setStreamStart(n.streamStart)}static getExtensionByPlayer(e,t,n="default",d={},g){const h=e.type?e.type.toLowerCase():void 0;return l.validatePlayerConf(e),e.vendor===u.W3CMEDIA?h===c.Live?new a.W3CLiveExtension(e.instance,t,n,d):new o.W3CVODExtension(e.instance,t,n,d):e.vendor===u.HTML5?h===c.Live?new i.HTML5LiveExtension(e.instance,t,n,d,g):new r.HTML5VODExtension(e.instance,t,n,d):void 0===e.instance?new o.W3CVODExtension(e.instance,t,n,d):void s.Logger.output("Sorry, we cannot detect your player type","error")}static detectPlayerVendor(e){return e&&e.volume_?u.W3CMEDIA:e&&e.volume?u.HTML5:void 0}activateGoogleIMASupport(e){e&&"function"==typeof e.updateAdsRenderingSettings?this.contentExtension.activateGoogleIMASupport(e):s.Logger.output("Sorry, we cannot detect your IMA ads manager, please check your function invocation!","error")}activateCustomAdSupport(e){this.adExtension=l.getExtensionByPlayer(e,this.gfkS2sConf,"ad",this.customParams)}setParameter(e){this.contentExtension&&(this.customParams=e.customParams,this.contentId=e.contentId||"default",this.contentExtension.setParameter(this.contentId,this.customParams,e.streamStart))}setPlayer(e){Object.assign(this.playerConf,{},e),this.contentExtension.setPlayer(null),this.contentExtension=l.getExtensionByPlayer(this.playerConf,this.gfkS2sConf,this.contentId,this.customParams)}static validatePlayerConf(e){const t=l.detectPlayerVendor(e.instance),n=e.vendor;if(n)t&&n.toLowerCase()!==t&&s.Logger.output(`The player vendor you have provided doesn't match the vendor we have detected. Please verify. If the vendor provided is correct, please ignore this warning. \n provided: "${n}" \n detected: "${t}"`,"warn");else{if(n||!t)throw new Error("The player vendor must be provided. Please check the provided player config.");e.vendor=t,s.Logger.output(`You have not provided a valid player vendor but we were able to detect some. Please verify and provide the right vendor explicitly in the player config. \n provided: "${n}" \n detected: "${t}"`,"warn")}}}t.PlayerExtension=l},5912:function(e,t,n){t.Vy=t.qo=t.PW=void 0;const r=n(8272);const i=n(4913);Object.defineProperty(t,"Vy",{enumerable:!0,get:function(){return i.Logger}});const s=n(5566);const o=n(2472);const a=n(1917);Object.defineProperty(t,"PW",{enumerable:!0,get:function(){return a.readNewCookie}}),Object.defineProperty(t,"qo",{enumerable:!0,get:function(){return a.readOldCookie}});const u=n(567);const c=n(8459);const l=n(4872);const d=n(5833)},6206:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferScreen=void 0;const r=n(6331);class i extends r.BufferBase{screen;constructor(e,t,n){super(t,n),this.screen=e}getScreen(){return this.screen}}t.BufferScreen=i},6291:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const r=n(7160);class i{static VENDOR_ID=758;static PURPOSE_READ_WRITE_ON_USER_DEVICE=1;static PURPOSE_MEASURE_AD_PERFORMANCE=7;static PURPOSE_MEASURE_CONTENT_PERFORMANCE=8;static PURPOSE_MARKET_RESEARCH=9;static isValidTCData(e){return!!(e.vendor&&e.vendor.consents&&e.vendor.legitimateInterests&&e.purpose&&e.purpose.consents&&e.purpose.legitimateInterests)}static hasReadWrite(e){return i.hasPurpose(i.PURPOSE_READ_WRITE_ON_USER_DEVICE,e)}static hasMeasureAdPerformance(e){return i.hasPurpose(i.PURPOSE_MEASURE_AD_PERFORMANCE,e)}static hasMeasureContentPerformance(e){return i.hasPurpose(i.PURPOSE_MEASURE_CONTENT_PERFORMANCE,e)}static hasMarketResearch(e){return i.hasPurpose(i.PURPOSE_MARKET_RESEARCH,e)}static hasGfK(e){return i.isValidTCData(e)&&!0===e.vendor.consents[i.VENDOR_ID]}static hasPurpose(e,t){const n=t.publisher?.restrictions[e]?.[i.VENDOR_ID];return(void 0===n||n!==r.RestrictionType.NOT_ALLOWED)&&(i.isValidTCData(t)&&!0===t.purpose.consents[e])}}t.default=i},6331:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferBase=void 0;const r=n(4639);class i extends r.BufferCommon{streamPosition;usageTime;constructor(e,t){super(),this.streamPosition=e,this.usageTime=t}getStreamPosition(){return this.streamPosition}getUsageTime(){return this.usageTime}}t.BufferBase=i},6418:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RequestHeartbeat=void 0;const r=n(9777);class i extends r.RequestBase{isMostRecent=!0;constructor(){super("HB")}}t.RequestHeartbeat=i},6467:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ExpBackoffTransmitter=void 0;const r=n(4913),i=n(3048);class s{static MAX_DELAY=32e3;static BASE_DELAY=500;requestSender;storage=[];currentDelay=s.BASE_DELAY;isResendQueued=!1;constructor(e){this.requestSender=new i.BrowserIndependentRequest(e)}sendRequest(e){return this.requestSender.send(e).then(()=>r.Logger.output("Sent: "+e.requestType,"log","request",e.fields)).catch(t=>{r.Logger.output("Failed to send request: "+t,"error"),o(e)&&(r.Logger.output("Queueing request","info"),this.storage.push(e)),this.isResendQueued||(r.Logger.output("No re-sending active, starting new re-sending after "+this.currentDelay+" ms","info"),this.scheduleNextResend())})}async resend(){for(;this.storage.length>0;){const e=this.storage.shift();try{await this.requestSender.send(e)}catch(t){o(e)&&this.storage.unshift(e),this.increaseDelay(),r.Logger.output("Failed to re-send request: "+t,"error"),r.Logger.output("Increasing re-send delay to "+this.currentDelay,"info"),this.scheduleNextResend();break}}0===this.storage.length&&(r.Logger.output("All requests flushed","info"),this.isResendQueued=!1,this.currentDelay=s.BASE_DELAY)}scheduleNextResend(){setTimeout(()=>this.resend(),this.currentDelay),this.isResendQueued=!0}increaseDelay(){this.currentDelay=Math.min(2*this.currentDelay,s.MAX_DELAY)}get _requestSender(){return this.requestSender}}function o(e){return!("HB"===e.requestType)||e.isMostRecent}t.ExpBackoffTransmitter=s},6577:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=window?.gfkS2sConf?.ai;if(n.test(e)&&e!==r)return e;return null};const n=/^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$/i,r="00000000-0000-0000-0000-000000000000"},6938:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.S2SAgentParamChecks=void 0;const r=n(4913);class i{static validateTagConfig(e){const t="gfkS2sConf = {...}";if(!this.isStringAndNotEmpty(e.media,"mediaId",t))throw new Error;if(!this.isStringAndNotEmptyWithoutErrLog(e.configUrl)&&!e.url)throw new Error;if(!this.isStringAndNotEmptyWithoutErrLog(e.url)&&!e.configUrl)throw new Error;if(e.configUrl&&e.url&&this.errorLog(t,"configUrl or url",e.configUrl||e.url,"Cannot have url and configUrl at the same time","error"),!this.isStringAndNotEmpty(e.type,"type",t))throw new Error;switch(e.type){case"APP":if(!this.isStringAndNotEmpty(e.device,"device",t))throw this.errorLog(t,"device","","Missing or empty property","error"),new Error;if(!e.hasOwnProperty("ai"))throw this.errorLog(t,"ai","","Missing property","error"),new Error;-1===["SMARTPHONE","TABLET","TV","DESKTOP"].indexOf(e.device)&&(this.errorLog(t,"device",e.device,"Unknown device type, see documentation","warn"),e.device="UNKNOWN");break;case"WEB":case"TV":break;default:throw this.errorLog(t,"type",e.type,"Unknown app type, see documentation (configuration)","error"),new Error("Unknown type")}}static isStringAndNotEmpty(e,t,n,r){const i="string"==typeof e&&e.length>0;return!1===i&&this.errorLog(n,t,e,"is not a string",r),i}static isStringAndNotEmptyWithoutErrLog(e){return"string"==typeof e&&e.length>0}static isCorrectStreamOffset(e,t,n,r){const i="number"==typeof e&&!isNaN(e);return i||this.errorLog(n,t,e,"is not a number!",r),i}static isCorrectStreamStart(e,t,n,r){const i=Date.parse(e);return!isNaN(i)||0===e.length||(this.errorLog(n,t,e,"must be a valid date string with timezone offset (YYYY-MM-DDTHH:ii:ss TZ +OFFSET)!",r),!1)}static areParameterValid(e){for(const t in e)if(e.hasOwnProperty(t)&&!1===e[t])return r.Logger.output(`Input param "${t}" is not valid, request couldn't be sent!`,"warn"),!1;return!0}static isPlayOptionsValid(e,t,n,r){let i=!0;if("object"!=typeof e)this.errorLog(n,t,"(valueType="+typeof e+")","is invalid object!","warn"),i=!1;else{void 0===e.screen||"string"==typeof e.screen||(this.errorLog(n,t+".screen","(valueType="+typeof e.screen+")","is invalid object!","warn"),i=!1),void 0!==e.volume&&"string"!=typeof e.volume&&(i=!1),"string"==typeof e.speed&&isNaN(parseFloat(e.speed))&&(i=!1);let s=void 0===e.position;r&&(s=s||"number"==typeof e.position),s||(this.errorLog(n,t+".position","(valueType="+typeof e.position+")","is invalid object!","warn"),i=!1)}return i}static areCustomParametersValid(e,t,n){const r="object"==typeof e;return!1===r&&this.errorLog(n,t,"(valueType="+typeof e+")","is invalid object!","warn"),r}static checkArgCount(e,t,n){if(!i.isArgumentsLengthValid(e,t,n))throw new Error(n+" cannot be executed!")}static isArgumentsLengthValid(e,t,n,r){return!1!=(e===t)||(this.errorLog(n,"Input parameter number",e.toString(),"; Invalid number of arguments, given: "+e+", expected: "+t+"!",r),!1)}static errorLog(e,t,n,i,s="error"){r.Logger.output("Origin="+e+"; Parameter="+t+"; Value="+n+"; "+i,s)}}t.S2SAgentParamChecks=i},7042:function(e,t,n){var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),o=0;o<n.length;o++)"default"!==n[o]&&i(t,e,n[o]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.enableSentry=async function(){if(!function(){if(window&&window?.s2sSdkConfig?.crashReporting?.sampling>0&&window?.gfkS2sConf?.crashReporting){const e=window.s2sSdkConfig?.crashReporting?.sampling||0;let t;if(sessionStorage){if(sessionStorage.getItem("sensicCrashReporting"))return c("true"===sessionStorage.getItem("sensicCrashReporting")),"true"===sessionStorage.getItem("sensicCrashReporting");t=100*Math.random(),sessionStorage.setItem("sensicCrashReporting",(e>t)+"")}else t=100*Math.random();return c(e>t),e>t}if(window?.gfkS2sConf?.crashReporting)return!1;{const e=window?.extensionConfig?"https://confluence-docu.gfk.com/pages/viewpage.action?pageId=102334502":"https://confluence-docu.gfk.com/display/SENSIC/Configuration+for+Websites";return a.Logger.warn(`WARN: Crash reporting is disabled at the moment. Please consider its activation as documented here: ${e}`),!1}}())return;if(u)return u.enable();if("undefined"!=typeof navigator&&"ReactNative"===navigator.product){const e=await Promise.resolve().then(()=>o(n(5461)));u=new e.SentryLoggerImpl}else if("undefined"!=typeof window){const e=await Promise.resolve().then(()=>o(n(4699)));u=new e.SentryLoggerImpl}else console.warn("SentryLogger: unknown platform, no-op."),u={enable:()=>{},log:()=>{}};return u.enable()},t.logSentry=function(e,t){u?.log(e,t)};const a=n(3425);let u=null;function c(e){e&&(l("playerextension.js")&&a.Logger.warn('WARN: Crash reporting is enabled but "crossorigin" attribute is missing from playerextension.js script. Please check our documentation here: https://confluence-docu.gfk.com/pages/viewpage.action?pageId=102334502#GenericPlayerExtension(JSSDK)-Theidea-somepseudocode'),l("s2s-web.js")&&a.Logger.warn('WARN: Crash reporting is enabled but "crossorigin" attribute is missing from the tag. Please check our documentation here: https://confluence-docu.gfk.com/pages/viewpage.action?pageId=13044049'))}function l(e){const t=document.querySelector(`script[src*='${e}']`);return t&&"anonymous"!==t.getAttribute("crossorigin")}},7051:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.S2sVmsConf=void 0;t.S2sVmsConf=class{version;suiGeneratorUrl;static thirdPartyCookieIframeUrl;panelcookie;suiPixelUrl;suiHtmlUrl;filecacheUrl;featureFlagTcf;suiLogging;projectId;trackingUrl;constructor(e){for(const t of Object.keys(e))this[t]=e[t];this.projectId=e.projectName}}},7160:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.RestrictionType=void 0,function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(n||(t.RestrictionType=n={}))},7180:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.StreamPositionManager=void 0;const r=n(4913);t.StreamPositionManager=class{playType;timeWithOffsetCallback;streamPositionCallback;constructor(e){this.timeWithOffsetCallback=e}setPlayType(e){this.playType=e}setStreamPositionCallback(e){this.streamPositionCallback=e}getCurrentStreamPosition(){let e=0;switch(this.playType){case"live":e=this.getCurrentStreamPositionLive();break;case"ondemand":e=this.getCurrentStreamPositionOnDemand()}return e}getCurrentStreamPositionLive(){return this.timeWithOffsetCallback()}getCurrentStreamPositionOnDemand(){let e=0;try{e=this.streamPositionCallback()}catch(e){throw new Error("Error while executing stream position callback: "+e.message)}if("number"!=typeof e||e<0)throw new Error(`Stream position must be a positive milliseconds value, but is ${e}.`);return r.Logger.output(`Stream position: ${r.Logger.formatDuration(e)} (${e})`,"log"),e}}},7436:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RequestVisibility=void 0;const r=n(9777);class i extends r.RequestBase{constructor(){super("VB")}set visibility(e){this.fields.vb=e}}t.RequestVisibility=i},7548:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventScreen=void 0;const r=n(185);class i extends r.EventBase{static instance="EventScreen";sScreen;constructor(e,t,n,r,s,o,a,u){super(e,t,n,s,r,o,u,i.instance),this.sScreen=a}get screen(){return this.sScreen}}t.EventScreen=i},7743:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventSkip=void 0;const r=n(185);class i extends r.EventBase{static instance="EventSkip";constructor(e,t,n,r,s,o,a){super(e,t,n,s,r,o,a,i.instance)}}t.EventSkip=i},7780:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Segment=void 0;t.Segment=class{iStreamPosition;sPresentationId;iSegmentNumber;iStateItemNumber;iSegmentDuration;constructor(e,t,n,r,i){this.iStateItemNumber=e,this.iSegmentNumber=t,this.iStreamPosition=n,this.sPresentationId=r,this.iSegmentDuration=i}get presentationId(){return this.sPresentationId}get segmentNumber(){return this.iSegmentNumber}get stateItemNumber(){return this.iStateItemNumber}get segmentDuration(){return this.iSegmentDuration}get streamPosition(){return this.iStreamPosition}}},7910:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventVolume=void 0;const r=n(185);class i extends r.EventBase{static instance="EventVolume";sVolume;constructor(e,t,n,r,s,o,a,u){super(e,t,n,s,r,o,u,i.instance),this.sVolume=a}get volume(){return this.sVolume}}t.EventVolume=i},8018:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EventPlay=void 0;const i=n(185),s=r(n(202));class o extends i.EventBase{static instance="EventPlay";sContentId;oOptions;sVisibility;oCustomParams;iStreamStartTime;fPlaybackSpeedMultiplier;sPlayType;constructor(e,t,n,r,i,a,u,c,l,d,g,h,p,f){super(e,"ondemand"===g?n:-1,u,l,c,d,a,o.instance),this.fPlaybackSpeedMultiplier=s.default.playbackSpeedConverter(h.speed),this.sPlayType=g,this.sContentId=t,this.oOptions=h,this.sVisibility=p||"",this.oCustomParams=f||{},this.iStreamStartTime=0===r.length?a-i:Date.parse(r)-i}get playType(){return this.sPlayType}set playType(e){this.sPlayType=e}get contentId(){return this.sContentId}get options(){return this.oOptions}get visibility(){return this.sVisibility}get customParams(){return this.oCustomParams}get streamStartTime(){return this.iStreamStartTime}}t.EventPlay=o},8272:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.S2SAgent=void 0;const i=n(6938),s=n(9516),o=n(4913),a=r(n(202));t.S2SAgent=class{processor;constructor(e,t,n,r){if(window.gfkS2sConf=e,o.Logger.readFromTagConf(),i.S2SAgentParamChecks.validateTagConfig(e),void 0===r){r=window.s2sSdkConfig}a.default.isBrowserContext()?this.processor=new s.Processor(e,r):this.processor=new s.Processor(e),"function"==typeof n&&this.setStreamPositionCallback(n)}impression(e,t){const n="impression()";o.Logger.output("Triggered: "+n,"log","fcall",arguments),i.S2SAgentParamChecks.checkArgCount(arguments.length,2,n);const r={contentId:i.S2SAgentParamChecks.isStringAndNotEmpty(e,"contentId",n),customParams:i.S2SAgentParamChecks.areCustomParametersValid(t,"customParams",n)};return i.S2SAgentParamChecks.areParameterValid(r)&&this.processor.createEventImpression(e,t),r}playStreamLive(e,t,n,r,s,a){const u="playStreamLive()";o.Logger.output("Triggered: "+u,"log","fcall",arguments),i.S2SAgentParamChecks.checkArgCount(arguments.length,6,u);const c={contentId:i.S2SAgentParamChecks.isStringAndNotEmpty(e,"contentId",u),streamStart:i.S2SAgentParamChecks.isCorrectStreamStart(t,"streamStart",u),streamOffset:i.S2SAgentParamChecks.isCorrectStreamOffset(n,"streamOffset",u),streamId:i.S2SAgentParamChecks.isStringAndNotEmpty(r,"streamId",u),options:i.S2SAgentParamChecks.isPlayOptionsValid(s,"options",u,!1),customParams:i.S2SAgentParamChecks.areCustomParametersValid(a,"customParams",u)};return i.S2SAgentParamChecks.areParameterValid(c)&&this.processor.createEventPlayLive(e,t,n,r,s,a),c}playLive(e,t,n,r,s,o,a){i.S2SAgentParamChecks.checkArgCount(arguments.length,7,"playLive()");const u={screen:s,volume:o};return this.playStreamLive(e,t,n,r,u,a)}playStreamOnDemand(e,t,n,r,s){const a="playStreamOnDemand()";let u;if(o.Logger.output("Triggered: "+a,"log","fcall",arguments),"number"==typeof n){i.S2SAgentParamChecks.checkArgCount(arguments.length,5,a);const o={...r,position:n},c=s;u={contentId:i.S2SAgentParamChecks.isStringAndNotEmpty(e,"contentId",a),streamId:i.S2SAgentParamChecks.isStringAndNotEmpty(t,"streamId",a),options:i.S2SAgentParamChecks.isPlayOptionsValid(o,"options",a,!0),customParams:i.S2SAgentParamChecks.areCustomParametersValid(c,"customParams",a)};i.S2SAgentParamChecks.areParameterValid(u)&&this.processor.createEventPlayOnDemand(e,t,o,c)}else{i.S2SAgentParamChecks.checkArgCount(arguments.length,4,a);const s=n,o=r;u={contentId:i.S2SAgentParamChecks.isStringAndNotEmpty(e,"contentId",a),streamId:i.S2SAgentParamChecks.isStringAndNotEmpty(t,"streamId",a),options:i.S2SAgentParamChecks.isPlayOptionsValid(s,"options",a,!0),customParams:i.S2SAgentParamChecks.areCustomParametersValid(o,"customParams",a)};i.S2SAgentParamChecks.areParameterValid(u)&&this.processor.createEventPlayOnDemand(e,t,s,o)}return u}playVOD(e,t,n,r,s){i.S2SAgentParamChecks.checkArgCount(arguments.length,5,"playVOD()");const o={screen:n,volume:r};return this.playStreamOnDemand(e,t,o,s)}stop(e){return o.Logger.output("Triggered: stop()","log","fcall",e),{stop:this.processor.createEventStop(e)}}skip(e){return o.Logger.output("Triggered: skip()","log","fcall"),{skip:this.processor.createEventSkip(e)}}volume(e){const t="volume()";o.Logger.output("Triggered: "+t,"log","fcall",e),i.S2SAgentParamChecks.checkArgCount(arguments.length,1,t);const n={volume:i.S2SAgentParamChecks.isStringAndNotEmpty(e,"volume",t)};return this.processor.isPlaying()&&this.processor.createEventVolume(e),n}screen(e){const t="screen()";o.Logger.output("Triggered: "+t,"log","fcall",e),i.S2SAgentParamChecks.checkArgCount(arguments.length,1,t);const n={screen:i.S2SAgentParamChecks.isStringAndNotEmpty(e,"screen",t)};return this.processor.isPlaying()&&this.processor.createEventScreen(e),n}setStreamPositionCallback(e){this.processor.setStreamPositionCallback(e)}setExtensionVersion(e){this.processor.setExtensionVersion(e)}}},8459:function(__unused_webpack_module,exports,__webpack_require__){function applyPolyfills(){void 0===__webpack_require__.g.document&&(__webpack_require__.g.document={});const doc=__webpack_require__.g.document;"object"==typeof doc.body&&null!==doc.body&&void 0!==doc.body||(doc.body={}),"object"==typeof doc.body.style&&null!==doc.body.style||(doc.body.style={}),"function"!=typeof doc.body.appendChild&&(doc.body.appendChild=e=>{}),"function"!=typeof doc.body.removeChild&&(doc.body.removeChild=()=>{}),Array.isArray(doc.body.childNodes)||(doc.body.childNodes=[]),"function"!=typeof doc.createElement&&(doc.createElement=e=>"script"===e?{src:"",async:!1,defer:!1}:"iframe"===e?{style:{}}:{}),"function"!=typeof doc.all&&(doc.all=()=>[]),"function"!=typeof doc.attachEvent&&(doc.attachEvent=(e,t)=>{const n={},r=e.slice(2);n[r]||(n[r]=[]),n[r].push(t)}),"function"!=typeof doc.querySelector&&(doc.querySelector=()=>{}),"function"!=typeof doc.querySelectorAll&&(doc.querySelectorAll=()=>[]),"function"!=typeof doc.getElementById&&(doc.getElementById=()=>({})),"function"!=typeof doc.getElementsByTagName&&(doc.getElementsByTagName=function(e){const t=[];if("div"===e)for(let e=0;e<3;e++)t.push({tagName:"div",innerHTML:`Div ${e+1}`});else if("span"===e)for(let e=0;e<2;e++)t.push({tagName:"span",innerHTML:`Span ${e+1}`});else"script"===e&&t.push({tagName:"script",src:"https://demo-config-preproduction.sensic.net/s2s-web.js"});return t}),Object.getOwnPropertyDescriptor(doc,"cookie")||Object.defineProperty(doc,"cookie",{get(){return"string"==typeof this._cookie?this._cookie:""},set(e){this._cookie="string"==typeof e?e:""},configurable:!1,enumerable:!0}),"object"==typeof doc.currentScript&&null!==doc.currentScript||(doc.currentScript={src:""});try{Object.defineProperty(__webpack_require__.g.document,"cookie",{get(){return"string"==typeof this._cookie?this._cookie:""},set(e){this._cookie="string"==typeof e?e:""},configurable:!1,enumerable:!0})}catch(e){__webpack_require__.g.document.cookie=""}var toString,isArray,escMap,escFunc,escRE;if(void 0===__webpack_require__.g.Node&&(__webpack_require__.g.Node=function(){},__webpack_require__.g.Node.prototype={}),void 0===__webpack_require__.g.Element&&(__webpack_require__.g.Element=function(){},__webpack_require__.g.Element.prototype=Object.create(__webpack_require__.g.Node.prototype)),void 0===__webpack_require__.g.HTMLElement&&(__webpack_require__.g.HTMLElement=function(){},__webpack_require__.g.HTMLElement.prototype=Object.create(__webpack_require__.g.Element.prototype)),void 0===__webpack_require__.g.Event&&(__webpack_require__.g.Event=function(e,t){this.type=e,this.bubbles=t&&t.bubbles,this.cancelable=t&&t.cancelable},__webpack_require__.g.Event.prototype={}),void 0===__webpack_require__.g.CustomEvent&&(__webpack_require__.g.CustomEvent=function(e,t){const n=new __webpack_require__.g.Event(e,t);return n.detail=t&&t.detail,n},__webpack_require__.g.CustomEvent.prototype=Object.create(__webpack_require__.g.Event.prototype)),void 0===__webpack_require__.g.window&&(__webpack_require__.g.window={}),"function"!=typeof __webpack_require__.g.window.setTimeout&&(__webpack_require__.g.window.setTimeout=setTimeout),"function"!=typeof __webpack_require__.g.window.clearTimeout&&(__webpack_require__.g.window.clearTimeout=clearTimeout),"function"!=typeof __webpack_require__.g.window.setInterval&&(__webpack_require__.g.window.setInterval=setInterval),"function"!=typeof __webpack_require__.g.window.clearInterval&&(__webpack_require__.g.window.clearInterval=clearInterval),"function"!=typeof __webpack_require__.g.window.fetch&&"function"==typeof fetch&&(__webpack_require__.g.window.fetch=fetch),"function"!=typeof __webpack_require__.g.window.WebSocket&&void 0!==__webpack_require__.g.WebSocket&&(__webpack_require__.g.window.WebSocket=__webpack_require__.g.WebSocket),void 0===__webpack_require__.g.window.name&&(__webpack_require__.g.window.name="sensic"),void 0===__webpack_require__.g.window.EventTarget&&(__webpack_require__.g.window.EventTarget=function(){}),void 0===__webpack_require__.g.window.eventListeners&&(__webpack_require__.g.window.eventListeners={}),"function"!=typeof __webpack_require__.g.window.addEventListener&&(__webpack_require__.g.window.addEventListener=(e,t)=>{__webpack_require__.g.window.eventListeners[e]||(__webpack_require__.g.window.eventListeners[e]=[]),__webpack_require__.g.window.eventListeners[e].push(t)}),"function"!=typeof __webpack_require__.g.window.removeEventListener&&(__webpack_require__.g.window.removeEventListener=(e,t)=>{__webpack_require__.g.window.eventListeners[e]&&(__webpack_require__.g.window.eventListeners[e]=__webpack_require__.g.window.eventListeners[e].filter(e=>e!==t))}),"function"!=typeof __webpack_require__.g.window.postMessage&&(__webpack_require__.g.window.postMessage=e=>{const t={data:e};(__webpack_require__.g.window.eventListeners.message||[]).forEach(e=>e(t))}),void 0===__webpack_require__.g.window.navigator&&(__webpack_require__.g.window.navigator={userAgent:"smarttv",platform:""}),void 0===__webpack_require__.g.window.parent&&(__webpack_require__.g.window.parent=__webpack_require__.g.window),"object"==typeof __webpack_require__.g.window.location&&null!==__webpack_require__.g.window.location||(__webpack_require__.g.window.location={_protocol:"https:",_href:"https://sensic.net",hostname:"",pathname:"",assign:null,host:"sensic.net",hash:""}),Object.getOwnPropertyDescriptor(__webpack_require__.g.window.location,"protocol")||Object.defineProperty(__webpack_require__.g.window.location,"protocol",{get(){return this._protocol||"https:"},set(e){this._protocol=e},configurable:!0,enumerable:!0}),Object.getOwnPropertyDescriptor(__webpack_require__.g.window.location,"href")||Object.defineProperty(__webpack_require__.g.window.location,"href",{get(){return this._href||"https://sensic.net"},set(e){this._href=e},configurable:!0,enumerable:!0}),"object"!=typeof __webpack_require__.g.window.localStorage&&(__webpack_require__.g.window.localStorage="object"==typeof __webpack_require__.g.localStorage?__webpack_require__.g.localStorage:{getItem:()=>null,setItem:()=>{},removeItem:()=>{}}),"object"!=typeof __webpack_require__.g.window.sessionStorage&&(__webpack_require__.g.window.sessionStorage={getItem:()=>null,setItem:()=>{},removeItem:()=>{}}),void 0===__webpack_require__.g.window.gfkS2sConf&&(__webpack_require__.g.window.gfkS2sConf={logLevel:"",media:"",optin:"",type:"",configUrl:""}),void 0===__webpack_require__.g.window.s2sVmsConf&&(__webpack_require__.g.window.s2sVmsConf={}),void 0===__webpack_require__.g.window.extensionConfig&&(__webpack_require__.g.window.extensionConfig={}),void 0===__webpack_require__.g.window.document&&(__webpack_require__.g.window.document=__webpack_require__.g.document),void 0===__webpack_require__.g.window.console&&(__webpack_require__.g.window.console=console),void 0===__webpack_require__.g.window.pm&&(__webpack_require__.g.window.pm={}),void 0===__webpack_require__.g.window.contentWindow&&(__webpack_require__.g.window.contentWindow=__webpack_require__.g.window),void 0===__webpack_require__.g.window.isBrowserContext&&(__webpack_require__.g.window.isBrowserContext=!1),void 0===__webpack_require__.g.window.Node&&(__webpack_require__.g.window.Node=__webpack_require__.g.Node),void 0===__webpack_require__.g.window.Element&&(__webpack_require__.g.window.Element=__webpack_require__.g.Element),void 0===__webpack_require__.g.window.HTMLElement&&(__webpack_require__.g.window.HTMLElement=__webpack_require__.g.HTMLElement),void 0===__webpack_require__.g.window.Event&&(__webpack_require__.g.window.Event=__webpack_require__.g.Event),void 0===__webpack_require__.g.window.CustomEvent&&(__webpack_require__.g.window.CustomEvent=__webpack_require__.g.CustomEvent),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");for(var n=this,r=0;r<n.length;r++)e.call(t,n[r],r,n)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0===i)return-1;var s=0|t;if(s>=i)return-1;for(n=Math.max(s>=0?s:i-Math.abs(s),0);n<i;){if(n in r&&r[n]===e)return n;n++}return-1}),window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:(toString=Object.prototype.toString,isArray=Array.isArray||function(e){return"[object Array]"===toString.call(e)},escMap={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},escFunc=function(e){return escMap[e]||"\\u"+(e.charCodeAt(0)+65536).toString(16).substr(1)},escRE=/[\\"\u0000-\u001F\u2028\u2029]/g,function e(t){if(null==t)return"null";if("number"==typeof t)return isFinite(t)?t.toString():"null";if("boolean"==typeof t)return t.toString();if("object"==typeof t){if("function"==typeof t.toJSON)return e(t.toJSON());if(isArray(t)){for(var n="[",r=0;r<t.length;r++)n+=(r?", ":"")+e(t[r]);return n+"]"}if("[object Object]"===toString.call(t)){var i=[];for(var s in t)t.hasOwnProperty(s)&&i.push(e(s)+": "+e(t[s]));return"{"+i.join(", ")+"}"}}return'"'+t.toString().replace(escRE,escFunc)+'"'})}),"object"==typeof __webpack_require__.g.window.location&&null!==__webpack_require__.g.window.location&&(Object.getOwnPropertyDescriptor(__webpack_require__.g.window.location,"protocol")||Object.defineProperty(__webpack_require__.g.window.location,"protocol",{get(){return this._protocol||"https:"},set(e){this._protocol=e},configurable:!0,enumerable:!0}),Object.getOwnPropertyDescriptor(__webpack_require__.g.window.location,"href")||Object.defineProperty(__webpack_require__.g.window.location,"href",{get(){return this._href||"https://sensic.net"},set(e){this._href=e},configurable:!0,enumerable:!0})),"object"!=typeof __webpack_require__.g.URL&&"function"!=typeof __webpack_require__.g.URL&&(__webpack_require__.g.URL={}),"function"!=typeof __webpack_require__.g.URL.createObjectURL&&(__webpack_require__.g.URL.createObjectURL=function(e){return"string"==typeof e?e:""}),"function"!=typeof __webpack_require__.g.URL.revokeObjectURL&&(__webpack_require__.g.URL.revokeObjectURL=function(){}),void 0!==__webpack_require__.g.window&&("object"!=typeof __webpack_require__.g.window.URL&&"function"!=typeof __webpack_require__.g.window.URL&&(__webpack_require__.g.window.URL=__webpack_require__.g.URL),"function"!=typeof __webpack_require__.g.window.URL.createObjectURL&&(__webpack_require__.g.window.URL.createObjectURL=__webpack_require__.g.URL.createObjectURL),"function"!=typeof __webpack_require__.g.window.URL.revokeObjectURL&&(__webpack_require__.g.window.URL.revokeObjectURL=__webpack_require__.g.URL.revokeObjectURL)),"function"!=typeof __webpack_require__.g.URL||"function"!=typeof __webpack_require__.g.URLSearchParams){function t(e){this._params={},"string"==typeof e?(e=e.replace(/^\?/,""))&&e.split("&").forEach(e=>{const[t,n]=e.split("=");t&&this.append(decodeURIComponent(t),decodeURIComponent(n||""))}):"object"==typeof e&&null!==e&&Object.keys(e).forEach(t=>this.append(t,e[t]))}function n(e){const n=e.match(/^(https?):\/\/([^\/?#]+)([^\s?#]*)?(\?[^#]*)?(#.*)?$/i);if(!n)throw new TypeError("Invalid URL");this.href=e,this.protocol=n[1]+":",this.host=n[2],this.hostname=n[2].split(":")[0],this.pathname=n[3]||"/",this.search=n[4]||"",this.hash=n[5]||"",this.origin=this.protocol+"//"+this.host,this.searchParams=new t(this.search),this.toString=function(){return this.href}}t.prototype.append=function(e,t){this._params[e]?this._params[e].push(t):this._params[e]=[t]},t.prototype.get=function(e){return this._params[e]?this._params[e][0]:null},t.prototype.toString=function(){const e=[];return Object.keys(this._params).forEach(t=>{this._params[t].forEach(n=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})}),e.join("&")},__webpack_require__.g.URL=n,__webpack_require__.g.URLSearchParams=t,void 0!==__webpack_require__.g.window&&(__webpack_require__.g.window.URL=n,__webpack_require__.g.window.URLSearchParams=t)}!function(){if("function"==typeof __webpack_require__.g.setTimeout&&!__webpack_require__.g.setTimeout._isPolyfilledForArgs){const e=__webpack_require__.g.setTimeout;__webpack_require__.g.setTimeout=function(t,n,...r){return"function"==typeof t&&r.length>0?e(t.bind(void 0,...r),n):e(t,n)},__webpack_require__.g.setTimeout._isPolyfilledForArgs=!0}if("function"==typeof __webpack_require__.g.setInterval&&!__webpack_require__.g.setInterval._isPolyfilledForArgs){const e=__webpack_require__.g.setInterval;__webpack_require__.g.setInterval=function(t,n,...r){return"function"==typeof t&&r.length>0?e(t.bind(void 0,...r),n):e(t,n)},__webpack_require__.g.setInterval._isPolyfilledForArgs=!0}}(),Object.getOwnPropertyDescriptor(__webpack_require__.g.document,"cookie")||Object.defineProperty(__webpack_require__.g.document,"cookie",{get(){return"string"==typeof this._cookie?this._cookie:""},set(e){this._cookie="string"==typeof e?e:""},configurable:!1,enumerable:!0})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyPolyfills=applyPolyfills},8609:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventImpression=void 0;const r=n(9436);class i extends r.EventACommon{static instance="EventImpression";sContentId;oCustomParams;constructor(e,t,n){super(e,i.instance),this.sContentId=t,this.oCustomParams=n||{}}get contentId(){return this.sContentId}get customParams(){return this.oCustomParams}}t.EventImpression=i},8624:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventBuilder=void 0;const r=n(8018),i=n(5480),s=n(7743),o=n(7910),a=n(7548),u=n(8922),c=n(8609),l=n(3700);t.EventBuilder=class{mediaId;constructor(e){this.mediaId=e}buildEventImpression(e,t){return new c.EventImpression(this.mediaId,e,t)}buildEventPlay(e,t,n,i,s,o,a,u,c){return new r.EventPlay(this.mediaId,s,e.streamPosition,t,n,i,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,o,a,u,c)}buildEventStop(e,t){return new i.EventStop(this.mediaId,e.streamPosition,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,t)}buildEventSkip(e,t){return new s.EventSkip(this.mediaId,e.streamPosition,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,t)}buildEventVolume(e,t,n){return new o.EventVolume(this.mediaId,e.streamPosition,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,t,n)}buildEventScreen(e,t,n){return new a.EventScreen(this.mediaId,e.streamPosition,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,t,n)}buildEventHeartbeat(e,t){return new u.EventHeartbeat(this.mediaId,e.streamPosition,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,t)}buildEventVisibility(e,t,n){return new l.EventVisibility(this.mediaId,e.streamPosition,e.presentationId,e.segmentNumber,e.stateItemNumber,e.segmentDuration,t,n)}}},8826:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RequestPlay=void 0;const r=n(9777);class i extends r.RequestBase{constructor(){super("PL")}set contentId(e){this.fields.c=e}set streamPosition(e){this.fields.sp=-1===e?"-1":Math.round(e/1e3).toString(),this.fields.vp=this.fields.sp}set playbackSpeed(e){this.fields.ps=e.toString()}set visibility(e){this.fields.vb=e}set screen(e){this.fields.sc=e}set volume(e){this.fields.vo=e}set instanceid(e){this.fields.instanceid=e}set origin(e){this.fields.r=e}set userAgent(e){this.fields.ua=e}set language(e){this.fields.l=e}}t.RequestPlay=i},8922:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EventHeartbeat=void 0;const r=n(185);class i extends r.EventBase{static instance="EventHeartbeat";constructor(e,t,n,r,s,o,a){super(e,t,n,s,r,o,a,i.instance)}}t.EventHeartbeat=i},9144:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferHeartbeat=void 0;const r=n(6331);class i extends r.BufferBase{constructor(e,t){super(e,t)}}t.BufferHeartbeat=i},9192:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.S2SExtension=t.SensicEvent=void 0;const i=n(8272),s=n(4913),o=r(n(142)),a=n(200);var u;!function(e){e.play="play",e.stop="stop",e.timeJump="timeJump",e.unknown="unknown"}(u||(t.SensicEvent=u={}));t.S2SExtension=class{currentPosition=0;currentPlaybackSpeed=1;lastPlaybackSpeed=1;currentVolume=0;lastVolume;agent;timerIntervalMs=500;lastPosition=0;lastEvent=u.unknown;lastPlayerStatusWasPlaying;customParams={};contentId;streamStart="";googleIma;adAgent;playerInstance;streamId;gfkS2sConf;constructor(e,t,n,r={},i=!1){window.gfkS2sConf=t,s.Logger.readFromTagConf(),window.extensionConfig=new a.ExtensionConf,this.gfkS2sConf=t,this.stopSegmentBeforeClose(),i||(this.setPlayer(e),this.setParameter(n,r)),this.setAgent(),setInterval(()=>{this.periodicTimeObserver()},this.timerIntervalMs),this.lastVolume=this.currentVolume}get videoPosition(){return this.lastPosition||this.currentPosition}setAgent(){this.agent=this.createAgent(()=>this.videoPosition)}createAgent(e){const t=new i.S2SAgent(this.gfkS2sConf,"",e);return t.setExtensionVersion(window.extensionConfig.version),t}activateGoogleIMASupport(e){this.googleIma=new o.default(e),this.adAgent=this.createAgent(()=>this.googleIma.getAdCurrentPosition)}processAdPlayEvents(){if(this.googleIma&&this.googleIma.queuePlay.length>0){const e=this.googleIma.queuePlay.shift();this.adAgent.playStreamOnDemand("ad",`${this.streamId} ad`,e,{},this.customParams)}}processAdStopEvents(){if(this.googleIma&&this.googleIma.queueStop.length>0){const e=this.googleIma.queueStop.shift();this.adAgent.stop(e)}}stopAdAgent(){this.googleIma&&(this.googleIma.adRunning=!1,this.googleIma.queueStop.push(this.googleIma.getAdCurrentPosition))}isAdRunning(){return this.googleIma&&this.googleIma.adRunning}get currentSrc(){return null}get playbackSpeed(){return this.currentPlaybackSpeed}setStreamStart(e){e instanceof Date&&!isNaN(e.getTime())?this.streamStart=e.toISOString():"string"!=typeof e||isNaN(new Date(e).getTime())?this.streamStart="":this.streamStart=e}get playbackRate(){return 1}get duration(){return null}isBuffering(){return!1}isIdling(){return!1}get currentTime(){return 0}volumeChecker(){this.currentVolume=this.getVolume(),this.currentVolume!==this.lastVolume&&this.isPlaying()&&this.agent.volume(this.currentVolume.toString())}getVolume(){return null}isPlaying(){return!1}getStreamId(){return this.playerInstance&&this.currentSrc&&""!==this.currentSrc?this.currentSrc:Math.random().toString()}setParameter(e,t,n){this.streamId=this.getStreamId(),this.contentId=e,t&&(this.customParams=t),this.setStreamStart(n)}convertSecToMillisec(e){return Math.floor(1e3*e)}convertMillisecToSec(e){return Math.floor(e/1e3)}logger(e){s.Logger.output(e,"log","fcall")}lastValueSetter(){this.lastPlaybackSpeed=this.currentPlaybackSpeed,this.lastPosition=this.currentPosition,this.lastVolume=this.currentVolume}isHugeTimeJump(){return Math.abs(this.currentPosition-this.lastPosition)>=3*this.timerIntervalMs}stopSegmentBeforeClose(){window.onbeforeunload=()=>{this.lastEvent===u.play&&this.agent.stop(this.lastPosition)}}playStreamOnDemand(){this.agent.playStreamOnDemand(this.contentId,this.streamId,this.currentPosition,{volume:this.currentVolume.toString(),speed:this.currentPlaybackSpeed},this.customParams)}playbackSpeedChecker(){this.currentPlaybackSpeed=this.playbackRate,this.currentPlaybackSpeed!==this.lastPlaybackSpeed&&this.isPlaying()&&(this.logger("playback speed change detected"),this.lastPlaybackSpeed=this.currentPlaybackSpeed,this.agent.stop(this.lastPosition),this.playStreamOnDemand())}setPlayer(e){this.playerInstance=e,this.streamId=this.getStreamId(),this.currentVolume=e?this.getVolume():this.currentVolume}periodicTimeObserver(){if(this.processAdStopEvents(),this.playerInstance){if((this.isBuffering()||this.isIdling())&&!this.isAdRunning())return;this.currentPosition=this.convertSecToMillisec(this.currentTime),this.playbackSpeedChecker(),this.volumeChecker(),this.isHugeTimeJump()&&this.lastEvent==u.play&&!this.isAdRunning()?(this.logger("huge time jump happened"),this.agent.stop(this.lastPosition),this.lastEvent=u.timeJump):this.lastEvent==u.play&&this.convertSecToMillisec(this.duration)<=this.currentPosition&&!this.isAdRunning()?(this.logger("video ended"),this.agent.stop(),this.lastEvent=u.stop):this.lastEvent==u.timeJump&&this.isPlaying()?(this.logger("start after huge jump"),this.playStreamOnDemand(),this.lastEvent=u.play):this.lastPlayerStatusWasPlaying!==this.isPlaying()&&(this.logger("last player state was not play"),this.lastEvent==u.play?(this.logger("last player state was not play -> last event state was play"),this.agent.stop(),this.lastEvent=u.stop):this.isPlaying()&&(this.logger("last player state was not play -> else"),this.playStreamOnDemand(),this.lastEvent=u.play)),this.lastValueSetter(),this.lastPlayerStatusWasPlaying=this.isPlaying()}else this.lastEvent===u.play?(this.logger("player instance undefined"),this.agent.stop(),this.lastEvent=u.stop):this.isAdRunning()&&!this.googleIma&&(this.logger("player instance undefined stopping ad"),this.stopAdAgent());this.processAdPlayEvents()}playLiveStream(){this.agent.playStreamLive(this.contentId,this.streamStart,this.streamOffset,this.streamId,{volume:this.getVolume().toString(),speed:this.currentPlaybackSpeed},this.customParams)}stopLiveSegmentBeforeClose(){window.onbeforeunload=()=>{this.lastEvent===u.play&&this.agent.stop()}}livePeriodicTimeObserver(){if(this.processAdStopEvents(),this.playerInstance){if((this.isBuffering()||this.isIdling())&&!this.isAdRunning())return void(this.isBuffering()&&this.lastEvent===u.play&&(this.agent.stop(),this.lastEvent=u.stop,this.lastPlayerStatusWasPlaying=!1));this.currentPosition=this.convertSecToMillisec(this.currentTime),this.playbackSpeedChecker(),this.volumeChecker(),this.isHugeTimeJump()&&this.lastEvent==u.play?(s.Logger.output("huge time jump happened"),this.agent.stop(),this.lastEvent=u.timeJump):this.lastEvent==u.timeJump&&this.isPlaying()?(s.Logger.info("start after huge jump"),this.playLiveStream(),this.lastEvent=u.play):this.lastPlayerStatusWasPlaying!==this.isPlaying()&&(s.Logger.info("last player state was not play"),this.lastEvent==u.play?(this.agent.stop(),this.lastEvent=u.stop):this.isPlaying()&&(s.Logger.info("last player state was not play -> else"),this.playLiveStream(),this.lastEvent=u.play)),this.lastValueSetter(),this.lastPlayerStatusWasPlaying=this.isPlaying()}else this.lastEvent===u.play?(this.logger("player instance undefined"),this.agent.stop(),this.lastEvent=u.stop):this.isAdRunning()&&!this.googleIma&&(this.logger("player instance undefined stopping ad"),this.stopAdAgent());this.processAdPlayEvents()}}},9316:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.COOKIE_NAME=void 0,t.default=function(){if(!r.GfkHelpers.getCookie(t.COOKIE_NAME)){const e=(0,i.generateId)();r.GfkHelpers.setCookie(t.COOKIE_NAME,e,{sameSite:"Lax"})}return r.GfkHelpers.getCookie(t.COOKIE_NAME)};const r=n(5566),i=n(4972);t.COOKIE_NAME="sui_1pc"},9436:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EventACommon=void 0;t.EventACommon=class{sMediaId;sInstance;constructor(e,t){this.sMediaId=e,this.sInstance=t}get mediaId(){return this.sMediaId}get instance(){return this.sInstance}}},9487:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Md5=void 0;t.Md5=class{hash(e){let t,n,r,i,s,o,a,u,c,l=[];for(e=this.Utf8Encode(e),l=this.ConvertToWordArray(e),o=1732584193,a=4023233417,u=2562383102,c=271733878,t=0;t<l.length;t+=16)n=o,r=a,i=u,s=c,o=this.FF(o,a,u,c,l[t+0],7,3614090360),c=this.FF(c,o,a,u,l[t+1],12,3905402710),u=this.FF(u,c,o,a,l[t+2],17,606105819),a=this.FF(a,u,c,o,l[t+3],22,3250441966),o=this.FF(o,a,u,c,l[t+4],7,4118548399),c=this.FF(c,o,a,u,l[t+5],12,1200080426),u=this.FF(u,c,o,a,l[t+6],17,2821735955),a=this.FF(a,u,c,o,l[t+7],22,4249261313),o=this.FF(o,a,u,c,l[t+8],7,1770035416),c=this.FF(c,o,a,u,l[t+9],12,2336552879),u=this.FF(u,c,o,a,l[t+10],17,4294925233),a=this.FF(a,u,c,o,l[t+11],22,2304563134),o=this.FF(o,a,u,c,l[t+12],7,1804603682),c=this.FF(c,o,a,u,l[t+13],12,4254626195),u=this.FF(u,c,o,a,l[t+14],17,2792965006),a=this.FF(a,u,c,o,l[t+15],22,1236535329),o=this.GG(o,a,u,c,l[t+1],5,4129170786),c=this.GG(c,o,a,u,l[t+6],9,3225465664),u=this.GG(u,c,o,a,l[t+11],14,643717713),a=this.GG(a,u,c,o,l[t+0],20,3921069994),o=this.GG(o,a,u,c,l[t+5],5,3593408605),c=this.GG(c,o,a,u,l[t+10],9,38016083),u=this.GG(u,c,o,a,l[t+15],14,3634488961),a=this.GG(a,u,c,o,l[t+4],20,3889429448),o=this.GG(o,a,u,c,l[t+9],5,568446438),c=this.GG(c,o,a,u,l[t+14],9,3275163606),u=this.GG(u,c,o,a,l[t+3],14,4107603335),a=this.GG(a,u,c,o,l[t+8],20,1163531501),o=this.GG(o,a,u,c,l[t+13],5,2850285829),c=this.GG(c,o,a,u,l[t+2],9,4243563512),u=this.GG(u,c,o,a,l[t+7],14,1735328473),a=this.GG(a,u,c,o,l[t+12],20,2368359562),o=this.HH(o,a,u,c,l[t+5],4,4294588738),c=this.HH(c,o,a,u,l[t+8],11,2272392833),u=this.HH(u,c,o,a,l[t+11],16,1839030562),a=this.HH(a,u,c,o,l[t+14],23,4259657740),o=this.HH(o,a,u,c,l[t+1],4,2763975236),c=this.HH(c,o,a,u,l[t+4],11,1272893353),u=this.HH(u,c,o,a,l[t+7],16,4139469664),a=this.HH(a,u,c,o,l[t+10],23,3200236656),o=this.HH(o,a,u,c,l[t+13],4,681279174),c=this.HH(c,o,a,u,l[t+0],11,3936430074),u=this.HH(u,c,o,a,l[t+3],16,3572445317),a=this.HH(a,u,c,o,l[t+6],23,76029189),o=this.HH(o,a,u,c,l[t+9],4,3654602809),c=this.HH(c,o,a,u,l[t+12],11,3873151461),u=this.HH(u,c,o,a,l[t+15],16,530742520),a=this.HH(a,u,c,o,l[t+2],23,3299628645),o=this.II(o,a,u,c,l[t+0],6,4096336452),c=this.II(c,o,a,u,l[t+7],10,1126891415),u=this.II(u,c,o,a,l[t+14],15,2878612391),a=this.II(a,u,c,o,l[t+5],21,4237533241),o=this.II(o,a,u,c,l[t+12],6,1700485571),c=this.II(c,o,a,u,l[t+3],10,2399980690),u=this.II(u,c,o,a,l[t+10],15,4293915773),a=this.II(a,u,c,o,l[t+1],21,2240044497),o=this.II(o,a,u,c,l[t+8],6,1873313359),c=this.II(c,o,a,u,l[t+15],10,4264355552),u=this.II(u,c,o,a,l[t+6],15,2734768916),a=this.II(a,u,c,o,l[t+13],21,1309151649),o=this.II(o,a,u,c,l[t+4],6,4149444226),c=this.II(c,o,a,u,l[t+11],10,3174756917),u=this.II(u,c,o,a,l[t+2],15,718787259),a=this.II(a,u,c,o,l[t+9],21,3951481745),o=this.AddUnsigned(o,n),a=this.AddUnsigned(a,r),u=this.AddUnsigned(u,i),c=this.AddUnsigned(c,s);return(this.WordToHex(o)+this.WordToHex(a)+this.WordToHex(u)+this.WordToHex(c)).toLowerCase()}RotateLeft(e,t){return e<<t|e>>>32-t}AddUnsigned(e,t){const n=2147483648&e,r=2147483648&t,i=1073741824&e,s=1073741824&t,o=(1073741823&e)+(1073741823&t);return i&s?2147483648^o^n^r:i|s?1073741824&o?3221225472^o^n^r:1073741824^o^n^r:o^n^r}F(e,t,n){return e&t|~e&n}G(e,t,n){return e&n|t&~n}H(e,t,n){return e^t^n}I(e,t,n){return t^(e|~n)}FF(e,t,n,r,i,s,o){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.F(t,n,r),i),o)),this.AddUnsigned(this.RotateLeft(e,s),t)}GG(e,t,n,r,i,s,o){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.G(t,n,r),i),o)),this.AddUnsigned(this.RotateLeft(e,s),t)}HH(e,t,n,r,i,s,o){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.H(t,n,r),i),o)),this.AddUnsigned(this.RotateLeft(e,s),t)}II(e,t,n,r,i,s,o){return e=this.AddUnsigned(e,this.AddUnsigned(this.AddUnsigned(this.I(t,n,r),i),o)),this.AddUnsigned(this.RotateLeft(e,s),t)}ConvertToWordArray(e){let t;const n=e.length,r=n+8,i=16*((r-r%64)/64+1),s=Array(i-1);let o=0,a=0;for(;a<n;)t=(a-a%4)/4,o=a%4*8,s[t]=s[t]|e.charCodeAt(a)<<o,a++;return t=(a-a%4)/4,o=a%4*8,s[t]=s[t]|128<<o,s[i-2]=n<<3,s[i-1]=n>>>29,s}WordToHex(e){let t,n,r="",i="";for(n=0;n<=3;n++)t=e>>>8*n&255,i="0"+t.toString(16),r+=i.substr(i.length-2,2);return r}Utf8Encode(e){e=e.replace(/\r\n/g,"\n");let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}}},9516:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Processor=void 0;const i=n(9624),s=n(154),o=n(4872),a=n(2120),u=n(7180),c=n(9736),l=n(4913),d=n(4661),g=n(6467),h=r(n(202));t.Processor=class{collector;bufferBuilder;bufferStorage;builder;transmitter;heartbeat;heartbeatInvalidator=new d.HeartbeatInvalidator;streamPositionManager;itemValidator;sdkFullyLoaded=!1;constructor(e,t){this.collector=new o.Collector(e),this.streamPositionManager=new u.StreamPositionManager(o.Collector.getTimeWithOffset),h.default.isBrowserContext()?this.initializeInBrowserContext(e,t):this.initializeInNonBrowserContext(e)}initializeInNonBrowserContext(e){this.bufferBuilder=new s.BufferBuilder,this.bufferStorage=[],this.collector.loadConfig(e.configUrl,(t,n)=>{n&&(this.setupCommonComponents(e,t),this.sdkFullyLoaded=!0,this.flushStorageQueue())})}initializeInBrowserContext(e,t){this.sdkFullyLoaded=!0,this.collector.loadConfig("",(n,r)=>{this.setupCommonComponents(e,t)})}setupCommonComponents(e,t){this.builder=new i.Builder(e.media,this.collector),this.transmitter=new g.ExpBackoffTransmitter(t.trackingUrl),this.heartbeat=new a.Heartbeat(()=>{l.Logger.output("Triggered: HB","log","fcall"),this.createEventHeartbeat()},t.heartbeat),this.itemValidator=new c.ItemValidator(this.heartbeat)}useStreamPositionCallbackBufferBuilder(){const e=this.streamPositionManager.getCurrentStreamPosition;this.bufferBuilder.setStreamPositionCallback(e)}setStreamPositionCallback(e){this.streamPositionManager.setStreamPositionCallback(e)}isPlaying(){return!this.builder.getSegmentBuilder().isSegmentStopped()}flushStorageQueue(){this.bufferBuilder.mergeBufferEvents(this.bufferStorage,this),this.bufferStorage=[]}createEventImpression(e,t){if(this.sdkFullyLoaded)try{const n=this.builder.getEventBuilder().buildEventImpression(e,t),r=this.builder.getRequestBuilder().buildRequest(n);this.send(r)}catch(e){l.Logger.output("Error in impression event: "+e.message,"error")}else{const n=this.bufferBuilder.buildBufferImpression(e,t);this.bufferStorage.push(n)}}createEventPlayLive(e,t,n,r,i,s,a,u){try{if(this.sdkFullyLoaded){this.streamPositionManager.setPlayType("live");const c=a??this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.start(c);const l=this.builder.getSegmentBuilder().createSegmentStarting(n,r,c,h.default.playbackSpeedConverter(i.speed),"live");this.heartbeat.start();const d=u||o.Collector.getTimeWithOffset(),g=this.builder.getEventBuilder().buildEventPlay(l,t,n,d,e,"live",i,"",s),p=this.builder.getRequestBuilder().buildRequest(g);this.send(p)}else{this.useStreamPositionCallbackBufferBuilder();const o=this.bufferBuilder.buildBufferPlay(e,r,n,i,s,t,u,"live");this.bufferStorage.push(o)}}catch(e){l.Logger.output("Error in play (live) event: "+e.message,"error")}}createEventPlayOnDemand(e,t,n,r,i,s){try{if(this.sdkFullyLoaded||h.default.isBrowserContext()){this.streamPositionManager.setPlayType("ondemand");const a=i??n.position??this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.start(a);const u=this.builder.getSegmentBuilder().createSegmentStarting(0,t,a,h.default.playbackSpeedConverter(n.speed),"ondemand");this.heartbeat.start();const c=s||o.Collector.getTimeWithOffset(),l=this.builder.getEventBuilder().buildEventPlay(u,"",0,c,e,"ondemand",n,"",r),d=this.builder.getRequestBuilder().buildRequest(l);this.send(d)}else{this.useStreamPositionCallbackBufferBuilder();const i=this.bufferBuilder.buildBufferPlay(e,t,0,n,r,"",s,"ondemand");this.bufferStorage.push(i)}}catch(e){l.Logger.output("Error in play (on demand) event: "+e.message,"error")}}createEventStop(e,t){let n=!1;if(this.sdkFullyLoaded||h.default.isBrowserContext()){try{const r=e??this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.validate(r);const i=this.builder.getSegmentBuilder().createSegmentStopping(r),s=t||o.Collector.getTimeWithOffset(),a=this.builder.getEventBuilder().buildEventStop(i,s),u=this.builder.getRequestBuilder().buildRequest(a);this.send(u),n=!0,this.itemValidator.updateLastPosition(r)}catch(e){l.Logger.output("Error in stop event: "+e.message,"error")}this.heartbeat.stop()}else{const e=this.bufferBuilder.buildBufferStop(t);this.bufferStorage.push(e)}return n}createEventSkip(e,t){let n=!1;if(this.sdkFullyLoaded||h.default.isBrowserContext()){try{const r=e??this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.validate(r);const i=this.builder.getSegmentBuilder().createSegmentStopping(r),s=t||o.Collector.getTimeWithOffset(),a=this.builder.getEventBuilder().buildEventSkip(i,s),u=this.builder.getRequestBuilder().buildRequest(a);this.send(u),n=!0,this.itemValidator.updateLastPosition(r)}catch(e){l.Logger.output("Error in skip event: "+e.message,"error")}this.heartbeat.stop()}else{const e=this.bufferBuilder.buildBufferSkip(t);this.bufferStorage.push(e)}return n}createEventHeartbeat(e,t){try{if(this.sdkFullyLoaded||h.default.isBrowserContext()){const t=e??this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.validate(t);const n=this.builder.getSegmentBuilder().createSegmentRunning(t,!0),r=o.Collector.getTimeWithOffset(),i=this.builder.getEventBuilder().buildEventHeartbeat(n,r),s=this.builder.getRequestBuilder().buildRequest(i);this.send(s),this.heartbeatInvalidator.onNewHeartbeatGenerated(s),this.itemValidator.updateLastPosition(t)}else{const e=this.bufferBuilder.buildBufferHeartbeat(t);this.bufferStorage.push(e)}}catch(e){l.Logger.output("Error in heartbeat event: "+e.message,"error")}}createEventVisibility(e){try{const t=this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.validate(t);const n=this.builder.getSegmentBuilder().createSegmentRunning(t,!1),r=o.Collector.getTimeWithOffset(),i=this.builder.getEventBuilder().buildEventVisibility(n,e,r),s=this.builder.getRequestBuilder().buildRequest(i);this.send(s),this.itemValidator.updateLastPosition(t)}catch(e){l.Logger.output("Error in visibility event: "+e.message,"error")}}createEventScreen(e,t,n){try{if(this.sdkFullyLoaded||h.default.isBrowserContext()){const r=t??this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.validate(r);const i=this.builder.getSegmentBuilder().createSegmentRunning(r,!0),s=n||o.Collector.getTimeWithOffset(),a=this.builder.getEventBuilder().buildEventScreen(i,e,s),u=this.builder.getRequestBuilder().buildRequest(a);this.send(u),this.itemValidator.updateLastPosition(r)}else{const t=this.bufferBuilder.buildBufferScreen(e,n);this.bufferStorage.push(t)}}catch(e){l.Logger.output("Error in screen event: "+e.message,"error")}}createEventVolume(e,t,n){try{if(this.sdkFullyLoaded||h.default.isBrowserContext()){const r=t??this.streamPositionManager.getCurrentStreamPosition();this.itemValidator.validate(r);const i=this.builder.getSegmentBuilder().createSegmentRunning(r,!0),s=n||o.Collector.getTimeWithOffset(),a=this.builder.getEventBuilder().buildEventVolume(i,e,s),u=this.builder.getRequestBuilder().buildRequest(a);this.send(u),this.itemValidator.updateLastPosition(r)}else{const t=this.bufferBuilder.buildBufferVolume(e,n);this.bufferStorage.push(t)}}catch(e){l.Logger.output("Error in volume event: "+e.message,"error")}}isProjectEnabled(){return!0===this.collector.getProjectStatus()}send(e){this.isProjectEnabled()&&this.transmitter.sendRequest(e)}setExtensionVersion(e){this.collector.setExtensionVersion(e)}}},9624:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Builder=void 0;const r=n(8624),i=n(3935),s=n(5487);t.Builder=class{eventBuilder;requestBuilder;segmentBuilder;constructor(e,t){this.eventBuilder=new r.EventBuilder(e),this.segmentBuilder=new i.SegmentBuilder(t.getSegmentSettings()),this.requestBuilder=new s.RequestBuilder(t)}getSegmentBuilder(){return this.segmentBuilder}getEventBuilder(){return this.eventBuilder}getRequestBuilder(){return this.requestBuilder}}},9736:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ItemValidator=void 0;const r=n(4913);class i{static toleranceSeconds=30;heartbeat;skipAllAfterValidationError=!1;lastPosition=0;constructor(e){this.heartbeat=e}start(e){if(e<0)throw this.skipAllAfterValidationError=!0,new Error("Position must be >= 0.");this.skipAllAfterValidationError=!1,this.lastPosition=e}validate(e){if(this.skipAllAfterValidationError)throw new Error("Event skipped after validation error! #noreport");if(e<this.lastPosition)throw new Error(`Current position (${e}) is less than last position (${this.lastPosition}). #noreport`);this.heartbeat.isHeartbeatActive()&&this.skipIfItemIntervalLargerThanHbInterval(e)}updateLastPosition(e){this.lastPosition=e}skipIfItemIntervalLargerThanHbInterval(e){const t=e-this.lastPosition,n=1e3*(this.heartbeat.getMaxHeartbeatInterval()+i.toleranceSeconds);if(t>n){this.heartbeat.stop(),this.skipAllAfterValidationError=!0;let i=`Time interval since last segment is ${t} ms, should be < ${n} ms.`;throw i+=` Last: ${this.lastPosition}, current: ${e}.`,r.Logger.output(i,"error"),new Error(i)}}}t.ItemValidator=i},9777:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RequestBase=void 0;const r=n(2276);class i extends r.RequestACommon{constructor(e){super(e)}set presentationId(e){this.fields.pr=e}get presentationId(){return this.fields.pr}set requestNumber(e){this.fields.rn=e.toString()}set segmentNumber(e){this.fields.sn=e.toString()}get segmentNumber(){return parseInt(this.fields.sn,10)}set segmentDuration(e){this.fields.sd=Math.round(e/1e3).toString(),this.fields.vt=this.fields.sd}set streamTime(e){this.fields.st=Math.round(e/1e3).toString(),this.fields.ct=this.fields.st}set usageTime(e){this.fields.ut=Math.round(e/1e3).toString()}}t.RequestBase=i}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var __webpack_exports__={},_gfksensic_s2s_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5912);_gfksensic_s2s_js__WEBPACK_IMPORTED_MODULE_0__.Vy.readFromTagConf(),_gfksensic_s2s_js__WEBPACK_IMPORTED_MODULE_0__.Vy.readFromLocalStorage(),window.addEventListener("message",e=>{e.data.readNewCookie&&(0,_gfksensic_s2s_js__WEBPACK_IMPORTED_MODULE_0__.PW)()}),(0,_gfksensic_s2s_js__WEBPACK_IMPORTED_MODULE_0__.qo)(),window.addEventListener("message",e=>{e.data.readOldCookie&&(0,_gfksensic_s2s_js__WEBPACK_IMPORTED_MODULE_0__.qo)()}),window.parent.postMessage("iframeContentLoaded","*")})();
//# sourceMappingURL=3pc.js.map</script></head><body></body></html>